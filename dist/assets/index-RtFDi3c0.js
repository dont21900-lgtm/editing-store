var oS=Object.defineProperty;var lS=(r,e,n)=>e in r?oS(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var or=(r,e,n)=>lS(r,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function uS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var am={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function cS(){if(Nv)return Ol;Nv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=e,Ol.jsx=n,Ol.jsxs=n,Ol}var Dv;function hS(){return Dv||(Dv=1,am.exports=cS()),am.exports}var v=hS(),om={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function fS(){if(Ov)return we;Ov=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function O(P){return P===null||typeof P!="object"?null:(P=A&&P[A]||P["@@iterator"],typeof P=="function"?P:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,L={};function W(P,te,le){this.props=P,this.context=te,this.refs=L,this.updater=le||Y}W.prototype.isReactComponent={},W.prototype.setState=function(P,te){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,te,"setState")},W.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Q(){}Q.prototype=W.prototype;function G(P,te,le){this.props=P,this.context=te,this.refs=L,this.updater=le||Y}var re=G.prototype=new Q;re.constructor=G,z(re,W.prototype),re.isPureReactComponent=!0;var ue=Array.isArray;function me(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(P,te,le){var he=le.ref;return{$$typeof:r,type:P,key:te,ref:he!==void 0?he:null,props:le}}function M(P,te){return C(P.type,te,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function U(P){var te={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(le){return te[le]})}var I=/\/+/g;function Me(P,te){return typeof P=="object"&&P!==null&&P.key!=null?U(""+P.key):te.toString(36)}function st(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(me,me):(P.status="pending",P.then(function(te){P.status==="pending"&&(P.status="fulfilled",P.value=te)},function(te){P.status==="pending"&&(P.status="rejected",P.reason=te)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function X(P,te,le,he,ve){var Ae=typeof P;(Ae==="undefined"||Ae==="boolean")&&(P=null);var ke=!1;if(P===null)ke=!0;else switch(Ae){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(P.$$typeof){case r:case e:ke=!0;break;case b:return ke=P._init,X(ke(P._payload),te,le,he,ve)}}if(ke)return ve=ve(P),ke=he===""?"."+Me(P,0):he,ue(ve)?(le="",ke!=null&&(le=ke.replace(I,"$&/")+"/"),X(ve,te,le,"",function(Bi){return Bi})):ve!=null&&(D(ve)&&(ve=M(ve,le+(ve.key==null||P&&P.key===ve.key?"":(""+ve.key).replace(I,"$&/")+"/")+ke)),te.push(ve)),1;ke=0;var gt=he===""?".":he+":";if(ue(P))for(var it=0;it<P.length;it++)he=P[it],Ae=gt+Me(he,it),ke+=X(he,te,le,Ae,ve);else if(it=O(P),typeof it=="function")for(P=it.call(P),it=0;!(he=P.next()).done;)he=he.value,Ae=gt+Me(he,it++),ke+=X(he,te,le,Ae,ve);else if(Ae==="object"){if(typeof P.then=="function")return X(st(P),te,le,he,ve);throw te=String(P),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ae(P,te,le){if(P==null)return P;var he=[],ve=0;return X(P,he,"","",function(Ae){return te.call(le,Ae,ve++)}),he}function oe(P){if(P._status===-1){var te=P._result;te=te(),te.then(function(le){(P._status===0||P._status===-1)&&(P._status=1,P._result=le)},function(le){(P._status===0||P._status===-1)&&(P._status=2,P._result=le)}),P._status===-1&&(P._status=0,P._result=te)}if(P._status===1)return P._result.default;throw P._result}var Ie=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Fe={map:ae,forEach:function(P,te,le){ae(P,function(){te.apply(this,arguments)},le)},count:function(P){var te=0;return ae(P,function(){te++}),te},toArray:function(P){return ae(P,function(te){return te})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return we.Activity=T,we.Children=Fe,we.Component=W,we.Fragment=n,we.Profiler=o,we.PureComponent=G,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,we.__COMPILER_RUNTIME={__proto__:null,c:function(P){return x.H.useMemoCache(P)}},we.cache=function(P){return function(){return P.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(P,te,le){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var he=z({},P.props),ve=P.key;if(te!=null)for(Ae in te.key!==void 0&&(ve=""+te.key),te)!R.call(te,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&te.ref===void 0||(he[Ae]=te[Ae]);var Ae=arguments.length-2;if(Ae===1)he.children=le;else if(1<Ae){for(var ke=Array(Ae),gt=0;gt<Ae;gt++)ke[gt]=arguments[gt+2];he.children=ke}return C(P.type,ve,he)},we.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},we.createElement=function(P,te,le){var he,ve={},Ae=null;if(te!=null)for(he in te.key!==void 0&&(Ae=""+te.key),te)R.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ve[he]=te[he]);var ke=arguments.length-2;if(ke===1)ve.children=le;else if(1<ke){for(var gt=Array(ke),it=0;it<ke;it++)gt[it]=arguments[it+2];ve.children=gt}if(P&&P.defaultProps)for(he in ke=P.defaultProps,ke)ve[he]===void 0&&(ve[he]=ke[he]);return C(P,Ae,ve)},we.createRef=function(){return{current:null}},we.forwardRef=function(P){return{$$typeof:m,render:P}},we.isValidElement=D,we.lazy=function(P){return{$$typeof:b,_payload:{_status:-1,_result:P},_init:oe}},we.memo=function(P,te){return{$$typeof:g,type:P,compare:te===void 0?null:te}},we.startTransition=function(P){var te=x.T,le={};x.T=le;try{var he=P(),ve=x.S;ve!==null&&ve(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(me,Ie)}catch(Ae){Ie(Ae)}finally{te!==null&&le.types!==null&&(te.types=le.types),x.T=te}},we.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},we.use=function(P){return x.H.use(P)},we.useActionState=function(P,te,le){return x.H.useActionState(P,te,le)},we.useCallback=function(P,te){return x.H.useCallback(P,te)},we.useContext=function(P){return x.H.useContext(P)},we.useDebugValue=function(){},we.useDeferredValue=function(P,te){return x.H.useDeferredValue(P,te)},we.useEffect=function(P,te){return x.H.useEffect(P,te)},we.useEffectEvent=function(P){return x.H.useEffectEvent(P)},we.useId=function(){return x.H.useId()},we.useImperativeHandle=function(P,te,le){return x.H.useImperativeHandle(P,te,le)},we.useInsertionEffect=function(P,te){return x.H.useInsertionEffect(P,te)},we.useLayoutEffect=function(P,te){return x.H.useLayoutEffect(P,te)},we.useMemo=function(P,te){return x.H.useMemo(P,te)},we.useOptimistic=function(P,te){return x.H.useOptimistic(P,te)},we.useReducer=function(P,te,le){return x.H.useReducer(P,te,le)},we.useRef=function(P){return x.H.useRef(P)},we.useState=function(P){return x.H.useState(P)},we.useSyncExternalStore=function(P,te,le){return x.H.useSyncExternalStore(P,te,le)},we.useTransition=function(){return x.H.useTransition()},we.version="19.2.3",we}var Mv;function rp(){return Mv||(Mv=1,om.exports=fS()),om.exports}var V=rp();const sp=uS(V);var lm={exports:{}},Ml={},um={exports:{}},cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function dS(){return kv||(kv=1,(function(r){function e(X,ae){var oe=X.length;X.push(ae);e:for(;0<oe;){var Ie=oe-1>>>1,Fe=X[Ie];if(0<o(Fe,ae))X[Ie]=ae,X[oe]=Fe,oe=Ie;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ae=X[0],oe=X.pop();if(oe!==ae){X[0]=oe;e:for(var Ie=0,Fe=X.length,P=Fe>>>1;Ie<P;){var te=2*(Ie+1)-1,le=X[te],he=te+1,ve=X[he];if(0>o(le,oe))he<Fe&&0>o(ve,le)?(X[Ie]=ve,X[he]=oe,Ie=he):(X[Ie]=le,X[te]=oe,Ie=te);else if(he<Fe&&0>o(ve,oe))X[Ie]=ve,X[he]=oe,Ie=he;else break e}}return ae}function o(X,ae){var oe=X.sortIndex-ae.sortIndex;return oe!==0?oe:X.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],b=1,T=null,A=3,O=!1,Y=!1,z=!1,L=!1,W=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function re(X){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=X)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function ue(X){if(z=!1,re(X),!Y)if(n(p)!==null)Y=!0,me||(me=!0,U());else{var ae=n(g);ae!==null&&st(ue,ae.startTime-X)}}var me=!1,x=-1,R=5,C=-1;function M(){return L?!0:!(r.unstable_now()-C<R)}function D(){if(L=!1,me){var X=r.unstable_now();C=X;var ae=!0;try{e:{Y=!1,z&&(z=!1,Q(x),x=-1),O=!0;var oe=A;try{t:{for(re(X),T=n(p);T!==null&&!(T.expirationTime>X&&M());){var Ie=T.callback;if(typeof Ie=="function"){T.callback=null,A=T.priorityLevel;var Fe=Ie(T.expirationTime<=X);if(X=r.unstable_now(),typeof Fe=="function"){T.callback=Fe,re(X),ae=!0;break t}T===n(p)&&s(p),re(X)}else s(p);T=n(p)}if(T!==null)ae=!0;else{var P=n(g);P!==null&&st(ue,P.startTime-X),ae=!1}}break e}finally{T=null,A=oe,O=!1}ae=void 0}}finally{ae?U():me=!1}}}var U;if(typeof G=="function")U=function(){G(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Me=I.port2;I.port1.onmessage=D,U=function(){Me.postMessage(null)}}else U=function(){W(D,0)};function st(X,ae){x=W(function(){X(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(X){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var oe=A;A=ae;try{return X()}finally{A=oe}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var oe=A;A=X;try{return ae()}finally{A=oe}},r.unstable_scheduleCallback=function(X,ae,oe){var Ie=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ie+oe:Ie):oe=Ie,X){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=oe+Fe,X={id:b++,callback:ae,priorityLevel:X,startTime:oe,expirationTime:Fe,sortIndex:-1},oe>Ie?(X.sortIndex=oe,e(g,X),n(p)===null&&X===n(g)&&(z?(Q(x),x=-1):z=!0,st(ue,oe-Ie))):(X.sortIndex=Fe,e(p,X),Y||O||(Y=!0,me||(me=!0,U()))),X},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(X){var ae=A;return function(){var oe=A;A=ae;try{return X.apply(this,arguments)}finally{A=oe}}}})(cm)),cm}var Vv;function mS(){return Vv||(Vv=1,um.exports=dS()),um.exports}var hm={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function pS(){if(Pv)return en;Pv=1;var r=rp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:b}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,b)},en.flushSync=function(p){var g=h.T,b=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=b,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:O}):b==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin);s.d.L(p,b,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,b){return h.H.useFormState(p,g,b)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.2.3",en}var Lv;function SE(){if(Lv)return hm.exports;Lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hm.exports=pS(),hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function gS(){if(jv)return Ml;jv=1;var r=mS(),e=rp(),n=SE();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,l=d;break}if(w===l){_=!0,l=f,a=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===a){_=!0,a=d,l=f;break}if(w===l){_=!0,l=d,a=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),G=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case W:return"Profiler";case L:return"StrictMode";case ue:return"Suspense";case me:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case G:return t.displayName||"Context";case Q:return(t._context.displayName||"Context")+".Consumer";case re:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Me(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Me(t(i))}catch{}}return null}var st=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ie=[],Fe=-1;function P(t){return{current:t}}function te(t){0>Fe||(t.current=Ie[Fe],Ie[Fe]=null,Fe--)}function le(t,i){Fe++,Ie[Fe]=t.current,t.current=i}var he=P(null),ve=P(null),Ae=P(null),ke=P(null);function gt(t,i){switch(le(Ae,i),le(ve,t),le(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Z_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Z_(i),t=ev(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(he),le(he,t)}function it(){te(he),te(ve),te(Ae)}function Bi(t){t.memoizedState!==null&&le(ke,t);var i=he.current,a=ev(i,t.type);i!==a&&(le(ve,t),le(he,a))}function vr(t){ve.current===t&&(te(he),te(ve)),ke.current===t&&(te(ke),Cl._currentValue=oe)}var Er,xe;function ze(t){if(Er===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Er=i&&i[1]||"",xe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Er+t+xe}var Zt=!1;function Vt(t,i){if(!t||Zt)return"";Zt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch($){var H=$}Reflect.construct(t,[],ne)}else{try{ne.call()}catch($){H=$}t.call(ne.prototype)}}else{try{throw Error()}catch($){H=$}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch($){if($&&H&&typeof $.stack=="string")return[$.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var N=_.split(`
`),F=w.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===F.length)for(l=N.length-1,f=F.length-1;1<=l&&0<=f&&N[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==F[f]){var J=`
`+N[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=f);break}}}finally{Zt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ze(a):""}function Io(t,i){switch(t.tag){case 26:case 27:case 5:return ze(t.type);case 16:return ze("Lazy");case 13:return t.child!==i&&i!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return Vt(t.type,!1);case 11:return Vt(t.type.render,!1);case 1:return Vt(t.type,!0);case 31:return ze("Activity");default:return""}}function No(t){try{var i="",a=null;do i+=Io(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Pt=r.unstable_scheduleCallback,br=r.unstable_cancelCallback,lf=r.unstable_shouldYield,Au=r.unstable_requestPaint,an=r.unstable_now,Ts=r.unstable_getCurrentPriorityLevel,Do=r.unstable_ImmediatePriority,Oo=r.unstable_UserBlockingPriority,Tr=r.unstable_NormalPriority,uf=r.unstable_LowPriority,xu=r.unstable_IdlePriority,Ru=r.log,Cu=r.unstable_setDisableYieldValue,Yn=null,Ht=null;function Dn(t){if(typeof Ru=="function"&&Cu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Yn,t)}catch{}}var yt=Math.clz32?Math.clz32:Nu,Iu=Math.log,fa=Math.LN2;function Nu(t){return t>>>=0,t===0?32:31-(Iu(t)/fa|0)|0}var hi=256,ws=262144,St=4194304;function fi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=fi(l):(_&=w,_!==0?f=fi(_):a||(a=w&~t,a!==0&&(f=fi(a))))):(w=l&~d,w!==0?f=fi(w):_!==0?f=fi(_):a||(a=l&~t,a!==0&&(f=fi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Kn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function cf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function mi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ss(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function hf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,N=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var J=31-yt(a),ne=1<<J;w[J]=0,N[J]=-1;var H=F[J];if(H!==null)for(F[J]=null,J=0;J<H.length;J++){var $=H[J];$!==null&&($.lane&=-536870913)}a&=~ne}l!==0&&As(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function As(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-yt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Mo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-yt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function ko(t,i){var a=i&-i;return a=(a&42)!==0?1:xs(a),(a&(t.suspendedLanes|i))!==0?0:a}function xs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ou(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:wv(t.type))}function Qn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var $n=Math.random().toString(36).slice(2),At="__reactFiber$"+$n,Ut="__reactProps$"+$n,pi="__reactContainer$"+$n,da="__reactEvents$"+$n,ff="__reactListeners$"+$n,Mu="__reactHandles$"+$n,ku="__reactResources$"+$n,gi="__reactMarker$"+$n;function ma(t){delete t[At],delete t[Ut],delete t[da],delete t[ff],delete t[Mu]}function yi(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[pi]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=ov(t);t!==null;){if(a=t[At])return a;t=ov(t)}return i}t=a,a=t.parentNode}return null}function On(t){if(t=t[At]||t[pi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function vn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function _i(t){var i=t[ku];return i||(i=t[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[gi]=!0}var Vo=new Set,Po={};function vi(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(Po[t]=i,t=0;t<i.length;t++)Vo.add(i[t])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},Uo={};function Vu(t){return wt.call(Uo,t)?!0:wt.call(jo,t)?!1:Lo.test(t)?Uo[t]=!0:(jo[t]=!0,!1)}function pa(t,i,a){if(Vu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function En(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Rt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function $e(t){if(!t._valueTracker){var i=wr(t)?"checked":"value";t._valueTracker=zo(t,i,""+t[i])}}function Rs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=wr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cs=/[\n"\\]/g;function un(t){return t.replace(Cs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ga(t,i,a,l,f,d,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Bo(t,_,zt(i)):a!=null?Bo(t,_,zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+zt(w):t.removeAttribute("name")}function Pu(t,i,a,l,f,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){$e(t);return}a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),$e(t)}function Bo(t,i,a){i==="number"&&bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Sr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Lu(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function Ar(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function cn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ju.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Fo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&qo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&qo(t,d,i[d])}function ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return xr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var Ho=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rr=null,Ti=null;function Is(t){var i=On(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(ga(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Ut]||null;if(!f)throw Error(s(90));ga(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Rs(l)}break e;case"textarea":Lu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Sr(t,!!a.multiple,i,!1)}}}var va=!1;function Cr(t,i,a){if(va)return t(i,a);va=!0;try{var l=t(i);return l}finally{if(va=!1,(Rr!==null||Ti!==null)&&(Oc(),Rr&&(i=Rr,t=Ti,Ti=Rr=null,Is(i),t)))for(i=0;i<t.length;i++)Is(t[i])}}function Wn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ns=!1;if(kn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Ns=!1}var wi=null,Go=null,Ds=null;function Yo(){if(Ds)return Ds;var t,i=Go,a=i.length,l,f="value"in wi?wi.value:wi.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Ds=f.slice(t,1<l?1-l:void 0)}function Os(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function Jn(){return!1}function Gt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:Jn,this.isPropagationStopped=Jn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Gt(Hi),Ir=T({},Hi,{view:0,detail:0}),Ko=Gt(Ir),Nr,Ea,Ai,ba=T({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Nr=t.screenX-Ai.screenX,Ea=t.screenY-Ai.screenY):Ea=Nr=0,Ai=t),Nr)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),Qo=Gt(ba),Ms=T({},ba,{dataTransfer:0}),zu=Gt(Ms),Bu=T({},Ir,{relatedTarget:0}),ks=Gt(Bu),$o=T({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),qu=Gt($o),Ta=T({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fu=Gt(Ta),Hu=T({},Hi,{data:0}),xi=Gt(Hu),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ku[t])?!!i[t]:!1}function Dr(){return Qu}var on=T({},Ir,{key:function(t){if(t.key){var i=Gu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$u=Gt(on),Xu=T({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Gt(Xu),c=T({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),y=Gt(c),E=T({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Gt(E),B=T({},ba,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Gt(B),se=T({},Hi,{newState:0,oldState:0}),Re=Gt(se),_t=[9,13,27,32],Ye=kn&&"CompositionEvent"in window,ut=null;kn&&"documentMode"in document&&(ut=document.documentMode);var Vn=kn&&"TextEvent"in window&&!ut,Ri=kn&&(!Ye||ut&&8<ut&&11>=ut),Zn=" ",ei=!1;function Vs(t,i){switch(t){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function Dw(t,i){switch(t){case"compositionend":return wa(i);case"keypress":return i.which!==32?null:(ei=!0,Zn);case"textInput":return t=i.data,t===Zn&&ei?null:t;default:return null}}function Ow(t,i){if(Sa)return t==="compositionend"||!Ye&&Vs(t,i)?(t=Yo(),Ds=Go=wi=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ri&&i.locale!=="ko"?null:i.data;default:return null}}var Mw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Mw[t.type]:i==="textarea"}function hg(t,i,a,l){Rr?Ti?Ti.push(l):Ti=[l]:Rr=l,i=Uc(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Xo=null,Wo=null;function kw(t){K_(t,0)}function Wu(t){var i=vn(t);if(Rs(i))return t}function fg(t,i){if(t==="change")return i}var dg=!1;if(kn){var df;if(kn){var mf="oninput"in document;if(!mf){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),mf=typeof mg.oninput=="function"}df=mf}else df=!1;dg=df&&(!document.documentMode||9<document.documentMode)}function pg(){Xo&&(Xo.detachEvent("onpropertychange",gg),Wo=Xo=null)}function gg(t){if(t.propertyName==="value"&&Wu(Wo)){var i=[];hg(i,Wo,t,Mn(t)),Cr(kw,i)}}function Vw(t,i,a){t==="focusin"?(pg(),Xo=i,Wo=a,Xo.attachEvent("onpropertychange",gg)):t==="focusout"&&pg()}function Pw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wu(Wo)}function Lw(t,i){if(t==="click")return Wu(i)}function jw(t,i){if(t==="input"||t==="change")return Wu(i)}function Uw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:Uw;function Jo(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!wt.call(i,f)||!bn(t[f],i[f]))return!1}return!0}function yg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _g(t,i){var a=yg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yg(a)}}function vg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?vg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Eg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=bi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=bi(t.document)}return i}function pf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var zw=kn&&"documentMode"in document&&11>=document.documentMode,Aa=null,gf=null,Zo=null,yf=!1;function bg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yf||Aa==null||Aa!==bi(l)||(l=Aa,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Jo(Zo,l)||(Zo=l,l=Uc(gf,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Aa)))}function Ps(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var xa={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},_f={},Tg={};kn&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ls(t){if(_f[t])return _f[t];if(!xa[t])return t;var i=xa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Tg)return _f[t]=i[a];return t}var wg=Ls("animationend"),Sg=Ls("animationiteration"),Ag=Ls("animationstart"),Bw=Ls("transitionrun"),qw=Ls("transitionstart"),Fw=Ls("transitioncancel"),xg=Ls("transitionend"),Rg=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function ti(t,i){Rg.set(t,i),vi(i,[t])}var Ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],Ra=0,Ef=0;function Zu(){for(var t=Ra,i=Ef=Ra=0;i<t;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var f=Pn[i];Pn[i++]=null;var d=Pn[i];if(Pn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Cg(a,f,d)}}function ec(t,i,a,l){Pn[Ra++]=t,Pn[Ra++]=i,Pn[Ra++]=a,Pn[Ra++]=l,Ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function bf(t,i,a,l){return ec(t,i,a,l),tc(t)}function js(t,i){return ec(t,null,null,i),tc(t)}function Cg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-yt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function tc(t){if(50<bl)throw bl=0,Nd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ca={};function Hw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,l){return new Hw(t,i,a,l)}function Tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ig(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function nc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Tf(t)&&(_=1);else if(typeof t=="string")_=$1(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Tn(31,a,i,f),t.elementType=C,t.lanes=d,t;case z:return Us(a.children,f,d,i);case L:_=8,f|=24;break;case W:return t=Tn(12,a,i,f|2),t.elementType=W,t.lanes=d,t;case ue:return t=Tn(13,a,i,f),t.elementType=ue,t.lanes=d,t;case me:return t=Tn(19,a,i,f),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:_=10;break e;case Q:_=9;break e;case re:_=11;break e;case x:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Tn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Us(t,i,a,l){return t=Tn(7,t,l,i),t.lanes=a,t}function wf(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function Ng(t){var i=Tn(18,null,null,0);return i.stateNode=t,i}function Sf(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Dg=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var a=Dg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:No(i)},Dg.set(t,i),i)}return{value:t,source:i,stack:No(i)}}var Ia=[],Na=0,ic=null,el=0,jn=[],Un=0,Or=null,Ci=1,Ii="";function Ki(t,i){Ia[Na++]=el,Ia[Na++]=ic,ic=t,el=i}function Og(t,i,a){jn[Un++]=Ci,jn[Un++]=Ii,jn[Un++]=Or,Or=t;var l=Ci;t=Ii;var f=32-yt(l)-1;l&=~(1<<f),a+=1;var d=32-yt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ci=1<<32-yt(i)+f|a<<f|l,Ii=d+t}else Ci=1<<d|a<<f|l,Ii=t}function Af(t){t.return!==null&&(Ki(t,1),Og(t,1,0))}function xf(t){for(;t===ic;)ic=Ia[--Na],Ia[Na]=null,el=Ia[--Na],Ia[Na]=null;for(;t===Or;)Or=jn[--Un],jn[Un]=null,Ii=jn[--Un],jn[Un]=null,Ci=jn[--Un],jn[Un]=null}function Mg(t,i){jn[Un++]=Ci,jn[Un++]=Ii,jn[Un++]=Or,Ci=i.id,Ii=i.overflow,Or=t}var Yt=null,at=null,Be=!1,Mr=null,zn=!1,Rf=Error(s(519));function kr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Ln(i,t)),Rf}function kg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[Ut]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<wl.length;a++)Oe(wl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Pu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),Ar(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||W_(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Xn),i=!0):i=!1,i||kr(t,!0)}function Vg(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Yt=Yt.return}}function Da(t){if(t!==Yt)return!1;if(!Be)return Vg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Gd(t.type,t.memoizedProps)),a=!a),a&&at&&kr(t),Vg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=av(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=av(t)}else i===27?(i=at,Qr(t.type)?(t=Xd,Xd=null,at=t):at=i):at=Yt?qn(t.stateNode.nextSibling):null;return!0}function zs(){at=Yt=null,Be=!1}function Cf(){var t=Mr;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Mr=null),t}function tl(t){Mr===null?Mr=[t]:Mr.push(t)}var If=P(null),Bs=null,Qi=null;function Vr(t,i,a){le(If,i._currentValue),i._currentValue=a}function $i(t){t._currentValue=If.current,te(If)}function Nf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Df(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var N=0;N<i.length;N++)if(w.context===i[N]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),Nf(d.return,a,t),l||(_=null);break e}d=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Nf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Oa(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;bn(f.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(f===ke.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}f=f.return}t!==null&&Df(i,t,a,l),i.flags|=262144}function rc(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qs(t){Bs=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Pg(Bs,t)}function sc(t,i){return Bs===null&&qs(t),Pg(t,i)}function Pg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qi=Qi.next=i;return a}var Gw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Yw=r.unstable_scheduleCallback,Kw=r.unstable_NormalPriority,Ct={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new Gw,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&Yw(Kw,function(){t.controller.abort()})}var il=null,Mf=0,Ma=0,ka=null;function Qw(t,i){if(il===null){var a=il=[];Mf=0,Ma=Pd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Mf++,i.then(Lg,Lg),i}function Lg(){if(--Mf===0&&il!==null){ka!==null&&(ka.status="fulfilled");var t=il;il=null,Ma=0,ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function $w(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var jg=X.S;X.S=function(t,i){b_=an(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Qw(t,i),jg!==null&&jg(t,i)};var Fs=P(null);function kf(){var t=Fs.current;return t!==null?t:nt.pooledCache}function ac(t,i){i===null?le(Fs,Fs.current):le(Fs,i.pool)}function Ug(){var t=kf();return t===null?null:{parent:Ct._currentValue,pool:t}}var Va=Error(s(460)),Vf=Error(s(474)),oc=Error(s(542)),lc={then:function(){}};function zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Xn,Xn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Fg(t),t;default:if(typeof i.status=="string")i.then(Xn,Xn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Fg(t),t}throw Gs=i,Va}}function Hs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gs=a,Va):a}}var Gs=null;function qg(){if(Gs===null)throw Error(s(459));var t=Gs;return Gs=null,t}function Fg(t){if(t===Va||t===oc)throw Error(s(483))}var Pa=null,rl=0;function uc(t){var i=rl;return rl+=1,Pa===null&&(Pa=[]),Bg(Pa,t,i)}function sl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function cc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Hg(t){function i(j,k){if(t){var q=j.deletions;q===null?(j.deletions=[k],j.flags|=16):q.push(k)}}function a(j,k){if(!t)return null;for(;k!==null;)i(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function f(j,k){return j=Yi(j,k),j.index=0,j.sibling=null,j}function d(j,k,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<k?(j.flags|=67108866,k):q):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function w(j,k,q,Z){return k===null||k.tag!==6?(k=wf(q,j.mode,Z),k.return=j,k):(k=f(k,q),k.return=j,k)}function N(j,k,q,Z){var ge=q.type;return ge===z?J(j,k,q.props.children,Z,q.key):k!==null&&(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Hs(ge)===k.type)?(k=f(k,q.props),sl(k,q),k.return=j,k):(k=nc(q.type,q.key,q.props,null,j.mode,Z),sl(k,q),k.return=j,k)}function F(j,k,q,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=Sf(q,j.mode,Z),k.return=j,k):(k=f(k,q.children||[]),k.return=j,k)}function J(j,k,q,Z,ge){return k===null||k.tag!==7?(k=Us(q,j.mode,Z,ge),k.return=j,k):(k=f(k,q),k.return=j,k)}function ne(j,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=wf(""+k,j.mode,q),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case O:return q=nc(k.type,k.key,k.props,null,j.mode,q),sl(q,k),q.return=j,q;case Y:return k=Sf(k,j.mode,q),k.return=j,k;case R:return k=Hs(k),ne(j,k,q)}if(st(k)||U(k))return k=Us(k,j.mode,q,null),k.return=j,k;if(typeof k.then=="function")return ne(j,uc(k),q);if(k.$$typeof===G)return ne(j,sc(j,k),q);cc(j,k)}return null}function H(j,k,q,Z){var ge=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:w(j,k,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return q.key===ge?N(j,k,q,Z):null;case Y:return q.key===ge?F(j,k,q,Z):null;case R:return q=Hs(q),H(j,k,q,Z)}if(st(q)||U(q))return ge!==null?null:J(j,k,q,Z,null);if(typeof q.then=="function")return H(j,k,uc(q),Z);if(q.$$typeof===G)return H(j,k,sc(j,q),Z);cc(j,q)}return null}function $(j,k,q,Z,ge){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(q)||null,w(k,j,""+Z,ge);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return j=j.get(Z.key===null?q:Z.key)||null,N(k,j,Z,ge);case Y:return j=j.get(Z.key===null?q:Z.key)||null,F(k,j,Z,ge);case R:return Z=Hs(Z),$(j,k,q,Z,ge)}if(st(Z)||U(Z))return j=j.get(q)||null,J(k,j,Z,ge,null);if(typeof Z.then=="function")return $(j,k,q,uc(Z),ge);if(Z.$$typeof===G)return $(j,k,q,sc(k,Z),ge);cc(k,Z)}return null}function de(j,k,q,Z){for(var ge=null,He=null,pe=k,Ne=k=0,Pe=null;pe!==null&&Ne<q.length;Ne++){pe.index>Ne?(Pe=pe,pe=null):Pe=pe.sibling;var Ge=H(j,pe,q[Ne],Z);if(Ge===null){pe===null&&(pe=Pe);break}t&&pe&&Ge.alternate===null&&i(j,pe),k=d(Ge,k,Ne),He===null?ge=Ge:He.sibling=Ge,He=Ge,pe=Pe}if(Ne===q.length)return a(j,pe),Be&&Ki(j,Ne),ge;if(pe===null){for(;Ne<q.length;Ne++)pe=ne(j,q[Ne],Z),pe!==null&&(k=d(pe,k,Ne),He===null?ge=pe:He.sibling=pe,He=pe);return Be&&Ki(j,Ne),ge}for(pe=l(pe);Ne<q.length;Ne++)Pe=$(pe,j,Ne,q[Ne],Z),Pe!==null&&(t&&Pe.alternate!==null&&pe.delete(Pe.key===null?Ne:Pe.key),k=d(Pe,k,Ne),He===null?ge=Pe:He.sibling=Pe,He=Pe);return t&&pe.forEach(function(Zr){return i(j,Zr)}),Be&&Ki(j,Ne),ge}function _e(j,k,q,Z){if(q==null)throw Error(s(151));for(var ge=null,He=null,pe=k,Ne=k=0,Pe=null,Ge=q.next();pe!==null&&!Ge.done;Ne++,Ge=q.next()){pe.index>Ne?(Pe=pe,pe=null):Pe=pe.sibling;var Zr=H(j,pe,Ge.value,Z);if(Zr===null){pe===null&&(pe=Pe);break}t&&pe&&Zr.alternate===null&&i(j,pe),k=d(Zr,k,Ne),He===null?ge=Zr:He.sibling=Zr,He=Zr,pe=Pe}if(Ge.done)return a(j,pe),Be&&Ki(j,Ne),ge;if(pe===null){for(;!Ge.done;Ne++,Ge=q.next())Ge=ne(j,Ge.value,Z),Ge!==null&&(k=d(Ge,k,Ne),He===null?ge=Ge:He.sibling=Ge,He=Ge);return Be&&Ki(j,Ne),ge}for(pe=l(pe);!Ge.done;Ne++,Ge=q.next())Ge=$(pe,j,Ne,Ge.value,Z),Ge!==null&&(t&&Ge.alternate!==null&&pe.delete(Ge.key===null?Ne:Ge.key),k=d(Ge,k,Ne),He===null?ge=Ge:He.sibling=Ge,He=Ge);return t&&pe.forEach(function(aS){return i(j,aS)}),Be&&Ki(j,Ne),ge}function tt(j,k,q,Z){if(typeof q=="object"&&q!==null&&q.type===z&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case O:e:{for(var ge=q.key;k!==null;){if(k.key===ge){if(ge=q.type,ge===z){if(k.tag===7){a(j,k.sibling),Z=f(k,q.props.children),Z.return=j,j=Z;break e}}else if(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Hs(ge)===k.type){a(j,k.sibling),Z=f(k,q.props),sl(Z,q),Z.return=j,j=Z;break e}a(j,k);break}else i(j,k);k=k.sibling}q.type===z?(Z=Us(q.props.children,j.mode,Z,q.key),Z.return=j,j=Z):(Z=nc(q.type,q.key,q.props,null,j.mode,Z),sl(Z,q),Z.return=j,j=Z)}return _(j);case Y:e:{for(ge=q.key;k!==null;){if(k.key===ge)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(j,k.sibling),Z=f(k,q.children||[]),Z.return=j,j=Z;break e}else{a(j,k);break}else i(j,k);k=k.sibling}Z=Sf(q,j.mode,Z),Z.return=j,j=Z}return _(j);case R:return q=Hs(q),tt(j,k,q,Z)}if(st(q))return de(j,k,q,Z);if(U(q)){if(ge=U(q),typeof ge!="function")throw Error(s(150));return q=ge.call(q),_e(j,k,q,Z)}if(typeof q.then=="function")return tt(j,k,uc(q),Z);if(q.$$typeof===G)return tt(j,k,sc(j,q),Z);cc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(j,k.sibling),Z=f(k,q),Z.return=j,j=Z):(a(j,k),Z=wf(q,j.mode,Z),Z.return=j,j=Z),_(j)):a(j,k)}return function(j,k,q,Z){try{rl=0;var ge=tt(j,k,q,Z);return Pa=null,ge}catch(pe){if(pe===Va||pe===oc)throw pe;var He=Tn(29,pe,null,j.mode);return He.lanes=Z,He.return=j,He}finally{}}}var Ys=Hg(!0),Gg=Hg(!1),Pr=!1;function Pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function jr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=tc(t),Cg(t,null,a),i}return ec(t,l,i,a),tc(t)}function al(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}function jf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Uf=!1;function ol(){if(Uf){var t=ka;if(t!==null)throw t}}function ll(t,i,a,l){Uf=!1;var f=t.updateQueue;Pr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,F=N.next;N.next=null,_===null?d=F:_.next=F,_=N;var J=t.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==_&&(w===null?J.firstBaseUpdate=F:w.next=F,J.lastBaseUpdate=N))}if(d!==null){var ne=f.baseState;_=0,J=F=N=null,w=d;do{var H=w.lane&-536870913,$=H!==w.lane;if($?(Ve&H)===H:(l&H)===H){H!==0&&H===Ma&&(Uf=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var de=t,_e=w;H=i;var tt=a;switch(_e.tag){case 1:if(de=_e.payload,typeof de=="function"){ne=de.call(tt,ne,H);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=_e.payload,H=typeof de=="function"?de.call(tt,ne,H):de,H==null)break e;ne=T({},ne,H);break e;case 2:Pr=!0}}H=w.callback,H!==null&&(t.flags|=64,$&&(t.flags|=8192),$=f.callbacks,$===null?f.callbacks=[H]:$.push(H))}else $={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(F=J=$,N=ne):J=J.next=$,_|=H;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;$=w,w=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);J===null&&(N=ne),f.baseState=N,f.firstBaseUpdate=F,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),Fr|=_,t.lanes=_,t.memoizedState=ne}}function Yg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Kg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Yg(a[t],i)}var La=P(null),hc=P(0);function Qg(t,i){t=rr,le(hc,t),le(La,i),rr=t|i.baseLanes}function zf(){le(hc,rr),le(La,La.current)}function Bf(){rr=hc.current,te(La),te(hc)}var wn=P(null),Bn=null;function Ur(t){var i=t.alternate;le(vt,vt.current&1),le(wn,t),Bn===null&&(i===null||La.current!==null||i.memoizedState!==null)&&(Bn=t)}function qf(t){le(vt,vt.current),le(wn,t),Bn===null&&(Bn=t)}function $g(t){t.tag===22?(le(vt,vt.current),le(wn,t),Bn===null&&(Bn=t)):zr()}function zr(){le(vt,vt.current),le(wn,wn.current)}function Sn(t){te(wn),Bn===t&&(Bn=null),te(vt)}var vt=P(0);function fc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Qd(a)||$d(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,Ce=null,Ze=null,It=null,dc=!1,ja=!1,Ks=!1,mc=0,ul=0,Ua=null,Xw=0;function mt(){throw Error(s(321))}function Ff(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!bn(t[a],i[a]))return!1;return!0}function Hf(t,i,a,l,f,d){return Xi=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?Oy:sd,Ks=!1,d=a(l,f),Ks=!1,ja&&(d=Wg(i,a,l,f)),Xg(t),d}function Xg(t){X.H=fl;var i=Ze!==null&&Ze.next!==null;if(Xi=0,It=Ze=Ce=null,dc=!1,ul=0,Ua=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&rc(t)&&(Nt=!0))}function Wg(t,i,a,l){Ce=t;var f=0;do{if(ja&&(Ua=null),ul=0,ja=!1,25<=f)throw Error(s(301));if(f+=1,It=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=My,d=i(a,l)}while(ja);return d}function Ww(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Gf(){var t=mc!==0;return mc=0,t}function Yf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Kf(t){if(dc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}dc=!1}Xi=0,It=Ze=Ce=null,ja=!1,ul=mc=0,Ua=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ce.memoizedState=It=t:It=It.next=t,It}function Et(){if(Ze===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=It===null?Ce.memoizedState:It.next;if(i!==null)It=i,Ze=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},It===null?Ce.memoizedState=It=t:It=It.next=t}return It}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var i=ul;return ul+=1,Ua===null&&(Ua=[]),t=Bg(Ua,t,i),i=Ce,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Oy:sd),t}function gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===G)return Kt(t)}throw Error(s(438,String(t)))}function Qf(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pc(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Wi(t,i){return typeof i=="function"?i(t):i}function yc(t){var i=Et();return $f(i,Ze,t)}function $f(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var w=_=null,N=null,F=i,J=!1;do{var ne=F.lane&-536870913;if(ne!==F.lane?(Ve&ne)===ne:(Xi&ne)===ne){var H=F.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ne===Ma&&(J=!0);else if((Xi&H)===H){F=F.next,H===Ma&&(J=!0);continue}else ne={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(w=N=ne,_=d):N=N.next=ne,Ce.lanes|=H,Fr|=H;ne=F.action,Ks&&a(d,ne),d=F.hasEagerState?F.eagerState:a(d,ne)}else H={lane:ne,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(w=N=H,_=d):N=N.next=H,Ce.lanes|=ne,Fr|=ne;F=F.next}while(F!==null&&F!==i);if(N===null?_=d:N.next=w,!bn(d,t.memoizedState)&&(Nt=!0,J&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Xf(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);bn(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Jg(t,i,a){var l=Ce,f=Et(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!bn((Ze||f).memoizedState,a);if(_&&(f.memoizedState=a,Nt=!0),f=f.queue,Zf(ty.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,za(9,{destroy:void 0},ey.bind(null,l,f,a,i),null),nt===null)throw Error(s(349));d||(Xi&127)!==0||Zg(l,i,a)}return a}function Zg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=pc(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ey(t,i,a,l){i.value=a,i.getSnapshot=l,ny(i)&&iy(t)}function ty(t,i,a){return a(function(){ny(i)&&iy(t)})}function ny(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!bn(t,a)}catch{return!0}}function iy(t){var i=js(t,2);i!==null&&pn(i,t,2)}function Wf(t){var i=ln();if(typeof t=="function"){var a=t;if(t=a(),Ks){Dn(!0);try{a()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},i}function ry(t,i,a,l){return t.baseState=a,$f(t,Ze,typeof l=="function"?l:Wi)}function Jw(t,i,a,l,f){if(Ec(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,sy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function sy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var w=a(f,l),N=X.S;N!==null&&N(_,w),ay(t,i,w)}catch(F){Jf(t,i,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),ay(t,i,d)}catch(F){Jf(t,i,F)}}function ay(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){oy(t,i,l)},function(l){return Jf(t,i,l)}):oy(t,i,a)}function oy(t,i,a){i.status="fulfilled",i.value=a,ly(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,sy(t,a)))}function Jf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ly(i),i=i.next;while(i!==l)}t.action=null}function ly(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function uy(t,i){return i}function cy(t,i){if(Be){var a=nt.formState;if(a!==null){e:{var l=Ce;if(Be){if(at){t:{for(var f=at,d=zn;f.nodeType!==8;){if(!d){f=null;break t}if(f=qn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){at=qn(f.nextSibling),l=f.data==="F!";break e}}kr(l)}l=!1}l&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uy,lastRenderedState:i},a.queue=l,a=Iy.bind(null,Ce,l),l.dispatch=a,l=Wf(!1),d=rd.bind(null,Ce,!1,l.queue),l=ln(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=Jw.bind(null,Ce,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function hy(t){var i=Et();return fy(i,Ze,t)}function fy(t,i,a){if(i=$f(t,i,uy)[0],t=yc(Wi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=cl(i)}catch(_){throw _===Va?oc:_}else l=i;i=Et();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,za(9,{destroy:void 0},Zw.bind(null,f,a),null)),[l,d,t]}function Zw(t,i){t.action=i}function dy(t){var i=Et(),a=Ze;if(a!==null)return fy(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function za(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=pc(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function my(){return Et().memoizedState}function _c(t,i,a,l){var f=ln();Ce.flags|=t,f.memoizedState=za(1|i,{destroy:void 0},a,l===void 0?null:l)}function vc(t,i,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&Ff(l,Ze.memoizedState.deps)?f.memoizedState=za(i,d,a,l):(Ce.flags|=t,f.memoizedState=za(1|i,d,a,l))}function py(t,i){_c(8390656,8,t,i)}function Zf(t,i){vc(2048,8,t,i)}function e1(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=pc(),Ce.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function gy(t){var i=Et().memoizedState;return e1({ref:i,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function yy(t,i){return vc(4,2,t,i)}function _y(t,i){return vc(4,4,t,i)}function vy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ey(t,i,a){a=a!=null?a.concat([t]):null,vc(4,4,vy.bind(null,i,t),a)}function ed(){}function by(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Ff(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ty(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Ff(i,l[1]))return l[0];if(l=t(),Ks){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l}function td(t,i,a){return a===void 0||(Xi&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=w_(),Ce.lanes|=t,Fr|=t,a)}function wy(t,i,a,l){return bn(a,i)?a:La.current!==null?(t=td(t,a,l),bn(t,i)||(Nt=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(Ve&261930)===0?(Nt=!0,t.memoizedState=a):(t=w_(),Ce.lanes|=t,Fr|=t,i)}function Sy(t,i,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=X.T,w={};X.T=w,rd(t,!1,i,a);try{var N=f(),F=X.S;if(F!==null&&F(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=$w(N,l);hl(t,i,J,Rn(t))}else hl(t,i,l,Rn(t))}catch(ne){hl(t,i,{then:function(){},status:"rejected",reason:ne},Rn())}finally{ae.p=d,_!==null&&w.types!==null&&(_.types=w.types),X.T=_}}function t1(){}function nd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Ay(t).queue;Sy(t,f,i,oe,a===null?t1:function(){return xy(t),a(l)})}function Ay(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:oe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xy(t){var i=Ay(t);i.next===null&&(i=t.alternate.memoizedState),hl(t,i.next.queue,{},Rn())}function id(){return Kt(Cl)}function Ry(){return Et().memoizedState}function Cy(){return Et().memoizedState}function n1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();t=Lr(a);var l=jr(i,t,a);l!==null&&(pn(l,i,a),al(l,i,a)),i={cache:Of()},t.payload=i;return}i=i.return}}function i1(t,i,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(t)?Ny(i,a):(a=bf(t,i,a,l),a!==null&&(pn(a,t,l),Dy(a,i,l)))}function Iy(t,i,a){var l=Rn();hl(t,i,a,l)}function hl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(t))Ny(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,w=d(_,a);if(f.hasEagerState=!0,f.eagerState=w,bn(w,_))return ec(t,i,f,0),nt===null&&Zu(),!1}catch{}finally{}if(a=bf(t,i,f,l),a!==null)return pn(a,t,l),Dy(a,i,l),!0}return!1}function rd(t,i,a,l){if(l={lane:2,revertLane:Pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ec(t)){if(i)throw Error(s(479))}else i=bf(t,a,l,2),i!==null&&pn(i,t,2)}function Ec(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function Ny(t,i){ja=dc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Dy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}var fl={readContext:Kt,use:gc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};fl.useEffectEvent=mt;var Oy={readContext:Kt,use:gc,useCallback:function(t,i){return ln().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:py,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,_c(4194308,4,vy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return _c(4194308,4,t,i)},useInsertionEffect:function(t,i){_c(4,2,t,i)},useMemo:function(t,i){var a=ln();i=i===void 0?null:i;var l=t();if(Ks){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=ln();if(a!==void 0){var f=a(i);if(Ks){Dn(!0);try{a(i)}finally{Dn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=i1.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=ln();return t={current:t},i.memoizedState=t},useState:function(t){t=Wf(t);var i=t.queue,a=Iy.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ed,useDeferredValue:function(t,i){var a=ln();return td(a,t,i)},useTransition:function(){var t=Wf(!1);return t=Sy.bind(null,Ce,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,f=ln();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Ve&127)!==0||Zg(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,py(ty.bind(null,l,d,t),[t]),l.flags|=2048,za(9,{destroy:void 0},ey.bind(null,l,d,a,i),null),a},useId:function(){var t=ln(),i=nt.identifierPrefix;if(Be){var a=Ii,l=Ci;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=mc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Xw++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:id,useFormState:cy,useActionState:cy,useOptimistic:function(t){var i=ln();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=rd.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:Qf,useCacheRefresh:function(){return ln().memoizedState=n1.bind(null,Ce)},useEffectEvent:function(t){var i=ln(),a={impl:t};return i.memoizedState=a,function(){if((Ke&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},sd={readContext:Kt,use:gc,useCallback:by,useContext:Kt,useEffect:Zf,useImperativeHandle:Ey,useInsertionEffect:yy,useLayoutEffect:_y,useMemo:Ty,useReducer:yc,useRef:my,useState:function(){return yc(Wi)},useDebugValue:ed,useDeferredValue:function(t,i){var a=Et();return wy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=yc(Wi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Jg,useId:Ry,useHostTransitionStatus:id,useFormState:hy,useActionState:hy,useOptimistic:function(t,i){var a=Et();return ry(a,Ze,t,i)},useMemoCache:Qf,useCacheRefresh:Cy};sd.useEffectEvent=gy;var My={readContext:Kt,use:gc,useCallback:by,useContext:Kt,useEffect:Zf,useImperativeHandle:Ey,useInsertionEffect:yy,useLayoutEffect:_y,useMemo:Ty,useReducer:Xf,useRef:my,useState:function(){return Xf(Wi)},useDebugValue:ed,useDeferredValue:function(t,i){var a=Et();return Ze===null?td(a,t,i):wy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Xf(Wi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Jg,useId:Ry,useHostTransitionStatus:id,useFormState:dy,useActionState:dy,useOptimistic:function(t,i){var a=Et();return Ze!==null?ry(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:Cy};My.useEffectEvent=gy;function ad(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var od={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Rn(),f=Lr(l);f.payload=i,a!=null&&(f.callback=a),i=jr(t,f,l),i!==null&&(pn(i,t,l),al(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Rn(),f=Lr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=jr(t,f,l),i!==null&&(pn(i,t,l),al(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Rn(),l=Lr(a);l.tag=2,i!=null&&(l.callback=i),i=jr(t,l,a),i!==null&&(pn(i,t,a),al(i,t,a))}};function ky(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Jo(a,l)||!Jo(f,d):!0}function Vy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&od.enqueueReplaceState(i,i.state,null)}function Qs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Py(t){Ju(t)}function Ly(t){console.error(t)}function jy(t){Ju(t)}function bc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ld(t,i,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(t,i)},a}function zy(t){return t=Lr(t),t.tag=3,t}function By(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Uy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Uy(i,a,l),typeof f!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function r1(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Oa(i,a,f,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Bn===null?Mc():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Md(t,l,f)),!1;case 22:return a.flags|=65536,l===lc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Md(t,l,f)),!1}throw Error(s(435,a.tag))}return Md(t,l,f),Mc(),!1}if(Be)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Rf&&(t=Error(s(422),{cause:l}),tl(Ln(t,a)))):(l!==Rf&&(i=Error(s(423),{cause:l}),tl(Ln(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Ln(l,a),f=ld(t.stateNode,l,f),jf(t,f),pt!==4&&(pt=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),El===null?El=[d]:El.push(d),pt!==4&&(pt=2),i===null)return!0;l=Ln(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=ld(a.stateNode,l,t),jf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hr===null||!Hr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=zy(f),By(f,t,a,l),jf(a,f),!1}a=a.return}while(a!==null);return!1}var ud=Error(s(461)),Nt=!1;function Qt(t,i,a,l){i.child=t===null?Gg(i,null,a,l):Ys(i,t.child,a,l)}function qy(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return qs(i),l=Hf(t,i,a,_,d,f),w=Gf(),t!==null&&!Nt?(Yf(t,i,f),Ji(t,i,f)):(Be&&w&&Af(i),i.flags|=1,Qt(t,i,l,f),i.child)}function Fy(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Hy(t,i,d,l,f)):(t=nc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!yd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(_,l)&&t.ref===i.ref)return Ji(t,i,f)}return i.flags|=1,t=Yi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Hy(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(Jo(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,yd(t,f))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,Ji(t,i,f)}return cd(t,i,a,l,f)}function Gy(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return Yy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(i,d!==null?d.cachePool:null),d!==null?Qg(i,d):zf(),$g(i);else return l=i.lanes=536870912,Yy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ac(i,d.cachePool),Qg(i,d),zr(),i.memoizedState=null):(t!==null&&ac(i,null),zf(),zr());return Qt(t,i,f,a),i.child}function dl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Yy(t,i,a,l,f){var d=kf();return d=d===null?null:{parent:Ct._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ac(i,null),zf(),$g(i),t!==null&&Oa(t,i,l,!0),i.childLanes=f,null}function Tc(t,i){return i=Sc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ky(t,i,a){return Ys(i,t.child,null,a),t=Tc(i,i.pendingProps),t.flags|=2,Sn(i),i.memoizedState=null,t}function s1(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=Tc(i,l),i.lanes=536870912,dl(null,t);if(qf(i),(t=at)?(t=sv(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Or!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=Ng(t),a.return=i,i.child=a,Yt=i,at=null)):t=null,t===null)throw kr(i);return i.lanes=536870912,null}return Tc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(qf(i),f)if(i.flags&256)i.flags&=-257,i=Ky(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Nt||Oa(t,i,a,!1),f=(a&t.childLanes)!==0,Nt||f){if(l=nt,l!==null&&(_=ko(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,js(t,_),pn(l,t,_),ud;Mc(),i=Ky(t,i,a)}else t=d.treeContext,at=qn(_.nextSibling),Yt=i,Be=!0,Mr=null,zn=!1,t!==null&&Mg(i,t),i=Tc(i,l),i.flags|=4096;return i}return t=Yi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function wc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function cd(t,i,a,l,f){return qs(i),a=Hf(t,i,a,l,void 0,f),l=Gf(),t!==null&&!Nt?(Yf(t,i,f),Ji(t,i,f)):(Be&&l&&Af(i),i.flags|=1,Qt(t,i,a,f),i.child)}function Qy(t,i,a,l,f,d){return qs(i),i.updateQueue=null,a=Wg(i,l,a,f),Xg(t),l=Gf(),t!==null&&!Nt?(Yf(t,i,d),Ji(t,i,d)):(Be&&l&&Af(i),i.flags|=1,Qt(t,i,a,d),i.child)}function $y(t,i,a,l,f){if(qs(i),i.stateNode===null){var d=Ca,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=od,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Pf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Ca,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ad(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&od.enqueueReplaceState(d,d.state,null),ll(i,l,d,f),ol(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,N=Qs(a,w);d.props=N;var F=d.context,J=a.contextType;_=Ca,typeof J=="object"&&J!==null&&(_=Kt(J));var ne=a.getDerivedStateFromProps;J=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||F!==_)&&Vy(i,d,l,_),Pr=!1;var H=i.memoizedState;d.state=H,ll(i,l,d,f),ol(),F=i.memoizedState,w||H!==F||Pr?(typeof ne=="function"&&(ad(i,a,ne,l),F=i.memoizedState),(N=Pr||ky(i,a,N,l,H,F,_))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Lf(t,i),_=i.memoizedProps,J=Qs(a,_),d.props=J,ne=i.pendingProps,H=d.context,F=a.contextType,N=Ca,typeof F=="object"&&F!==null&&(N=Kt(F)),w=a.getDerivedStateFromProps,(F=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ne||H!==N)&&Vy(i,d,l,N),Pr=!1,H=i.memoizedState,d.state=H,ll(i,l,d,f),ol();var $=i.memoizedState;_!==ne||H!==$||Pr||t!==null&&t.dependencies!==null&&rc(t.dependencies)?(typeof w=="function"&&(ad(i,a,w,l),$=i.memoizedState),(J=Pr||ky(i,a,J,l,H,$,N)||t!==null&&t.dependencies!==null&&rc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=N,l=J):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,wc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ys(i,t.child,null,f),i.child=Ys(i,null,a,f)):Qt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Ji(t,i,f),t}function Xy(t,i,a,l){return zs(),i.flags|=256,Qt(t,i,a,l),i.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(t){return{baseLanes:t,cachePool:Ug()}}function dd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function Wy(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(f?Ur(i):zr(),(t=at)?(t=sv(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Or!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},a=Ng(t),a.return=i,i.child=a,Yt=i,at=null)):t=null,t===null)throw kr(i);return $d(t)?i.lanes=32:i.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(zr(),f=i.mode,w=Sc({mode:"hidden",children:w},f),l=Us(l,f,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,l=i.child,l.memoizedState=fd(a),l.childLanes=dd(t,_,a),i.memoizedState=hd,dl(null,l)):(Ur(i),md(i,w))}var N=t.memoizedState;if(N!==null&&(w=N.dehydrated,w!==null)){if(d)i.flags&256?(Ur(i),i.flags&=-257,i=pd(t,i,a)):i.memoizedState!==null?(zr(),i.child=t.child,i.flags|=128,i=null):(zr(),w=l.fallback,f=i.mode,l=Sc({mode:"visible",children:l.children},f),w=Us(w,f,a,null),w.flags|=2,l.return=i,w.return=i,l.sibling=w,i.child=l,Ys(i,t.child,null,a),l=i.child,l.memoizedState=fd(a),l.childLanes=dd(t,_,a),i.memoizedState=hd,i=dl(null,l));else if(Ur(i),$d(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,tl({value:l,source:null,stack:null}),i=pd(t,i,a)}else if(Nt||Oa(t,i,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=nt,_!==null&&(l=ko(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,js(t,l),pn(_,t,l),ud;Qd(w)||Mc(),i=pd(t,i,a)}else Qd(w)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,at=qn(w.nextSibling),Yt=i,Be=!0,Mr=null,zn=!1,t!==null&&Mg(i,t),i=md(i,l.children),i.flags|=4096);return i}return f?(zr(),w=l.fallback,f=i.mode,N=t.child,F=N.sibling,l=Yi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?w=Yi(F,w):(w=Us(w,f,a,null),w.flags|=2),w.return=i,l.return=i,l.sibling=w,i.child=l,dl(null,l),l=i.child,w=t.child.memoizedState,w===null?w=fd(a):(f=w.cachePool,f!==null?(N=Ct._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=Ug(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=dd(t,_,a),i.memoizedState=hd,dl(t.child,l)):(Ur(i),a=t.child,t=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function md(t,i){return i=Sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Sc(t,i){return t=Tn(22,t,null,i),t.lanes=0,t}function pd(t,i,a){return Ys(i,t.child,null,a),t=md(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Jy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Nf(t.return,i,a)}function gd(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function Zy(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=vt.current,w=(_&2)!==0;if(w?(_=_&1|2,i.flags|=128):_&=1,le(vt,_),Qt(t,i,l,a),l=Be?el:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jy(t,a,i);else if(t.tag===19)Jy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),gd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&fc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}gd(i,!0,a,null,d,l);break;case"together":gd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ji(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Fr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Oa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Yi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Yi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function yd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&rc(t)))}function a1(t,i,a){switch(i.tag){case 3:gt(i,i.stateNode.containerInfo),Vr(i,Ct,t.memoizedState.cache),zs();break;case 27:case 5:Bi(i);break;case 4:gt(i,i.stateNode.containerInfo);break;case 10:Vr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Wy(t,i,a):(Ur(i),t=Ji(t,i,a),t!==null?t.sibling:null);Ur(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Oa(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return Zy(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(vt,vt.current),l)break;return null;case 22:return i.lanes=0,Gy(t,i,a,i.pendingProps);case 24:Vr(i,Ct,t.memoizedState.cache)}return Ji(t,i,a)}function e_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!yd(t,a)&&(i.flags&128)===0)return Nt=!1,a1(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(i.flags&1048576)!==0&&Og(i,el,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Hs(i.elementType),i.type=t,typeof t=="function")Tf(t)?(l=Qs(t,l),i.tag=1,i=$y(null,i,t,l,a)):(i.tag=0,i=cd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===re){i.tag=11,i=qy(null,i,t,l,a);break e}else if(f===x){i.tag=14,i=Fy(null,i,t,l,a);break e}}throw i=Me(t)||t,Error(s(306,i,""))}}return i;case 0:return cd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Qs(l,i.pendingProps),$y(t,i,l,f,a);case 3:e:{if(gt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Lf(t,i),ll(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Vr(i,Ct,l),l!==d.cache&&Df(i,[Ct],a,!0),ol(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Xy(t,i,l,a);break e}else if(l!==f){f=Ln(Error(s(424)),i),tl(f),i=Xy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=qn(t.firstChild),Yt=i,Be=!0,Mr=null,zn=!0,a=Gg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zs(),l===f){i=Ji(t,i,a);break e}Qt(t,i,l,a)}i=i.child}return i;case 26:return wc(t,i),t===null?(a=hv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=zc(Ae.current).createElement(a),l[At]=i,l[Ut]=t,$t(l,a,t),xt(l),i.stateNode=l):i.memoizedState=hv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Bi(i),t===null&&Be&&(l=i.stateNode=lv(i.type,i.pendingProps,Ae.current),Yt=i,zn=!0,f=at,Qr(i.type)?(Xd=f,at=qn(l.firstChild)):at=f),Qt(t,i,i.pendingProps.children,a),wc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((f=l=at)&&(l=P1(l,i.type,i.pendingProps,zn),l!==null?(i.stateNode=l,Yt=i,at=qn(l.firstChild),zn=!1,f=!0):f=!1),f||kr(i)),Bi(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Gd(f,d)?l=null:_!==null&&Gd(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Hf(t,i,Ww,null,null,a),Cl._currentValue=f),wc(t,i),Qt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=at)&&(a=L1(a,i.pendingProps,zn),a!==null?(i.stateNode=a,Yt=i,at=null,t=!0):t=!1),t||kr(i)),null;case 13:return Wy(t,i,a);case 4:return gt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ys(i,null,l,a):Qt(t,i,l,a),i.child;case 11:return qy(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Vr(i,i.type,l.value),Qt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,qs(i),f=Kt(f),l=l(f),i.flags|=1,Qt(t,i,l,a),i.child;case 14:return Fy(t,i,i.type,i.pendingProps,a);case 15:return Hy(t,i,i.type,i.pendingProps,a);case 19:return Zy(t,i,a);case 31:return s1(t,i,a);case 22:return Gy(t,i,a,i.pendingProps);case 24:return qs(i),l=Kt(Ct),t===null?(f=kf(),f===null&&(f=nt,d=Of(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Pf(i),Vr(i,Ct,f)):((t.lanes&a)!==0&&(Lf(t,i),ll(i,null,null,a),ol()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Vr(i,Ct,l)):(l=d.cache,Vr(i,Ct,l),l!==f.cache&&Df(i,[Ct],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zi(t){t.flags|=4}function _d(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(R_())t.flags|=8192;else throw Gs=lc,Vf}else t.flags&=-16777217}function t_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gv(i))if(R_())t.flags|=8192;else throw Gs=lc,Vf}function Ac(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Du():536870912,t.lanes|=i,Ha|=i)}function ml(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function o1(t,i,a){var l=i.pendingProps;switch(xf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(Ct),it(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Da(i)?Zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cf())),ot(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Zi(i),d!==null?(ot(i),t_(i,d)):(ot(i),_d(i,f,null,l,a))):d?d!==t.memoizedState?(Zi(i),ot(i),t_(i,d)):(ot(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Zi(i),ot(i),_d(i,f,t,l,a)),null;case 27:if(vr(i),a=Ae.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}t=he.current,Da(i)?kg(i):(t=lv(f,l,a),i.stateNode=t,Zi(i))}return ot(i),null;case 5:if(vr(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(d=he.current,Da(i))kg(i);else{var _=zc(Ae.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[At]=i,d[Ut]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch($t(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Zi(i)}}return ot(i),_d(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ae.current,Da(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Yt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||W_(t.nodeValue,a)),t||kr(i,!0)}else t=zc(t).createTextNode(l),t[At]=i,i.stateNode=t}return ot(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Da(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[At]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),t=!1}else a=Cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Da(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[At]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),f=!1}else f=Cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ac(i,i.updateQueue),ot(i),null);case 4:return it(),t===null&&zd(i.stateNode.containerInfo),ot(i),null;case 10:return $i(i.type),ot(i),null;case 19:if(te(vt),l=i.memoizedState,l===null)return ot(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)ml(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=fc(t),d!==null){for(i.flags|=128,ml(l,!1),t=d.updateQueue,i.updateQueue=t,Ac(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ig(a,t),a=a.sibling;return le(vt,vt.current&1|2),Be&&Ki(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&an()>Nc&&(i.flags|=128,f=!0,ml(l,!1),i.lanes=4194304)}else{if(!f)if(t=fc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Ac(i,t),ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return ot(i),null}else 2*an()-l.renderingStartTime>Nc&&a!==536870912&&(i.flags|=128,f=!0,ml(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=an(),t.sibling=null,a=vt.current,le(vt,f?a&1|2:a&1),Be&&Ki(i,l.treeForkCount),t):(ot(i),null);case 22:case 23:return Sn(i),Bf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&Ac(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(Fs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(Ct),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function l1(t,i){switch(xf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $i(Ct),it(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return vr(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Sn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(vt),null;case 4:return it(),null;case 10:return $i(i.type),null;case 22:case 23:return Sn(i),Bf(),t!==null&&te(Fs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $i(Ct),null;case 25:return null;default:return null}}function n_(t,i){switch(xf(i),i.tag){case 3:$i(Ct),it();break;case 26:case 27:case 5:vr(i);break;case 4:it();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:te(vt);break;case 10:$i(i.type);break;case 22:case 23:Sn(i),Bf(),t!==null&&te(Fs);break;case 24:$i(Ct)}}function pl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(w){We(i,i.return,w)}}function Br(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=i;var N=a,F=w;try{F()}catch(J){We(f,N,J)}}}l=l.next}while(l!==d)}}catch(J){We(i,i.return,J)}}function i_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Kg(i,a)}catch(l){We(t,t.return,l)}}}function r_(t,i,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function gl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){We(t,i,f)}}function Ni(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(t,i,f)}else a.current=null}function s_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(t,t.return,f)}}function vd(t,i,a){try{var l=t.stateNode;N1(l,t.type,a,i),l[Ut]=i}catch(f){We(t,t.return,f)}}function a_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qr(t.type)||t.tag===4}function Ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xn));else if(l!==4&&(l===27&&Qr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(bd(t,i,a),t=t.sibling;t!==null;)bd(t,i,a),t=t.sibling}function xc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Qr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xc(t,i,a),t=t.sibling;t!==null;)xc(t,i,a),t=t.sibling}function o_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);$t(i,l,a),i[At]=t,i[Ut]=a}catch(d){We(t,t.return,d)}}var er=!1,Dt=!1,Td=!1,l_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function u1(t,i){if(t=t.containerInfo,Fd=Kc,t=Eg(t),pf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,w=-1,N=-1,F=0,J=0,ne=t,H=null;t:for(;;){for(var $;ne!==a||f!==0&&ne.nodeType!==3||(w=_+f),ne!==d||l!==0&&ne.nodeType!==3||(N=_+l),ne.nodeType===3&&(_+=ne.nodeValue.length),($=ne.firstChild)!==null;)H=ne,ne=$;for(;;){if(ne===t)break t;if(H===a&&++F===f&&(w=_),H===d&&++J===l&&(N=_),($=ne.nextSibling)!==null)break;ne=H,H=ne.parentNode}ne=$}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hd={focusedElem:t,selectionRange:a},Kc=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=Qs(a.type,f);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function u_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:nr(t,a),l&4&&pl(5,a);break;case 1:if(nr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var f=Qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&i_(a),l&512&&gl(a,a.return);break;case 3:if(nr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Kg(t,i)}catch(_){We(a,a.return,_)}}break;case 27:i===null&&l&4&&o_(a);case 26:case 5:nr(t,a),i===null&&l&4&&s_(a),l&512&&gl(a,a.return);break;case 12:nr(t,a);break;case 31:nr(t,a),l&4&&f_(t,a);break;case 13:nr(t,a),l&4&&d_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=_1.bind(null,a),j1(t,a))));break;case 22:if(l=a.memoizedState!==null||er,!l){i=i!==null&&i.memoizedState!==null||Dt,f=er;var d=Dt;er=l,(Dt=i)&&!d?ir(t,a,(a.subtreeFlags&8772)!==0):nr(t,a),er=f,Dt=d}break;case 30:break;default:nr(t,a)}}function c_(t){var i=t.alternate;i!==null&&(t.alternate=null,c_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ma(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,hn=!1;function tr(t,i,a){for(a=a.child;a!==null;)h_(t,i,a),a=a.sibling}function h_(t,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Dt||Ni(a,i),tr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||Ni(a,i);var l=ct,f=hn;Qr(a.type)&&(ct=a.stateNode,hn=!1),tr(t,i,a),Al(a.stateNode),ct=l,hn=f;break;case 5:Dt||Ni(a,i);case 6:if(l=ct,f=hn,ct=null,tr(t,i,a),ct=l,hn=f,ct!==null)if(hn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:ct!==null&&(hn?(t=ct,iv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ja(t)):iv(ct,a.stateNode));break;case 4:l=ct,f=hn,ct=a.stateNode.containerInfo,hn=!0,tr(t,i,a),ct=l,hn=f;break;case 0:case 11:case 14:case 15:Br(2,a,i),Dt||Br(4,a,i),tr(t,i,a);break;case 1:Dt||(Ni(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&r_(a,i,l)),tr(t,i,a);break;case 21:tr(t,i,a);break;case 22:Dt=(l=Dt)||a.memoizedState!==null,tr(t,i,a),Dt=l;break;default:tr(t,i,a)}}function f_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ja(t)}catch(a){We(i,i.return,a)}}}function d_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ja(t)}catch(a){We(i,i.return,a)}}function c1(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new l_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new l_),i;default:throw Error(s(435,t.tag))}}function Rc(t,i){var a=c1(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=v1.bind(null,t,l);l.then(f,f)}})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(Qr(w.type)){ct=w.stateNode,hn=!1;break e}break;case 5:ct=w.stateNode,hn=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,hn=!0;break e}w=w.return}if(ct===null)throw Error(s(160));h_(d,_,f),ct=null,hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)m_(i,t),i=i.sibling}var ni=null;function m_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),l&4&&(Br(3,t,t.return),pl(3,t),Br(5,t,t.return));break;case 1:fn(i,t),dn(t),l&512&&(Dt||a===null||Ni(a,a.return)),l&64&&er&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ni;if(fn(i,t),dn(t),l&512&&(Dt||a===null||Ni(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gi]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),$t(d,l,a),d[At]=t,xt(d),l=d;break e;case"link":var _=mv("link","href",f).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;case"meta":if(_=mv("meta","content",f).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,xt(d),l=d}t.stateNode=l}else pv(f,t.type,t.stateNode);else t.stateNode=dv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?pv(f,t.type,t.stateNode):dv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),dn(t),l&512&&(Dt||a===null||Ni(a,a.return)),a!==null&&l&4&&vd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),dn(t),l&512&&(Dt||a===null||Ni(a,a.return)),t.flags&32){f=t.stateNode;try{cn(f,"")}catch(de){We(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,vd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Td=!0);break;case 6:if(fn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){We(t,t.return,de)}}break;case 3:if(Fc=null,f=ni,ni=Bc(i.containerInfo),fn(i,t),ni=f,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ja(i.containerInfo)}catch(de){We(t,t.return,de)}Td&&(Td=!1,p_(t));break;case 4:l=ni,ni=Bc(t.stateNode.containerInfo),fn(i,t),dn(t),ni=l;break;case 12:fn(i,t),dn(t);break;case 31:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ic=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=er,J=Dt;if(er=F||f,Dt=J||N,fn(i,t),Dt=J,er=F,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||er||Dt||$s(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=N.stateNode;var ne=N.memoizedProps.style,H=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(de){We(N,N.return,de)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(de){We(N,N.return,de)}}}else if(i.tag===18){if(a===null){N=i;try{var $=N.stateNode;f?rv($,!0):rv(N.stateNode,!1)}catch(de){We(N,N.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Rc(t,a))));break;case 19:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(a_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Ed(t);xc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var w=Ed(t);xc(t,w,_);break;case 3:case 4:var N=a.stateNode.containerInfo,F=Ed(t);bd(t,F,N);break;default:throw Error(s(161))}}catch(J){We(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function p_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;p_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function nr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)u_(t,i.alternate,i),i=i.sibling}function $s(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Br(4,i,i.return),$s(i);break;case 1:Ni(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&r_(i,i.return,a),$s(i);break;case 27:Al(i.stateNode);case 26:case 5:Ni(i,i.return),$s(i);break;case 22:i.memoizedState===null&&$s(i);break;case 30:$s(i);break;default:$s(i)}t=t.sibling}}function ir(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ir(f,d,a),pl(4,d);break;case 1:if(ir(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){We(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Yg(N[f],w)}catch(F){We(l,l.return,F)}}a&&_&64&&i_(d),gl(d,d.return);break;case 27:o_(d);case 26:case 5:ir(f,d,a),a&&l===null&&_&4&&s_(d),gl(d,d.return);break;case 12:ir(f,d,a);break;case 31:ir(f,d,a),a&&_&4&&f_(f,d);break;case 13:ir(f,d,a),a&&_&4&&d_(f,d);break;case 22:d.memoizedState===null&&ir(f,d,a),gl(d,d.return);break;case 30:break;default:ir(f,d,a)}i=i.sibling}}function wd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function Sd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function ii(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)g_(t,i,a,l),i=i.sibling}function g_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ii(t,i,a,l),f&2048&&pl(9,i);break;case 1:ii(t,i,a,l);break;case 3:ii(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(f&2048){ii(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){We(i,i.return,N)}}else ii(t,i,a,l);break;case 31:ii(t,i,a,l);break;case 13:ii(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ii(t,i,a,l):yl(t,i):d._visibility&2?ii(t,i,a,l):(d._visibility|=2,Ba(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&wd(_,i);break;case 24:ii(t,i,a,l),f&2048&&Sd(i.alternate,i);break;default:ii(t,i,a,l)}}function Ba(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,w=a,N=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:Ba(d,_,w,N,f),pl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?Ba(d,_,w,N,f):yl(d,_):(J._visibility|=2,Ba(d,_,w,N,f)),f&&F&2048&&wd(_.alternate,_);break;case 24:Ba(d,_,w,N,f),f&&F&2048&&Sd(_.alternate,_);break;default:Ba(d,_,w,N,f)}i=i.sibling}}function yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:yl(a,l),f&2048&&wd(l.alternate,l);break;case 24:yl(a,l),f&2048&&Sd(l.alternate,l);break;default:yl(a,l)}i=i.sibling}}var _l=8192;function qa(t,i,a){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)y_(t,i,a),t=t.sibling}function y_(t,i,a){switch(t.tag){case 26:qa(t,i,a),t.flags&_l&&t.memoizedState!==null&&X1(a,ni,t.memoizedState,t.memoizedProps);break;case 5:qa(t,i,a);break;case 3:case 4:var l=ni;ni=Bc(t.stateNode.containerInfo),qa(t,i,a),ni=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=_l,_l=16777216,qa(t,i,a),_l=l):qa(t,i,a));break;default:qa(t,i,a)}}function __(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function vl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,E_(l,t)}__(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)v_(t),t=t.sibling}function v_(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Br(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Cc(t)):vl(t);break;default:vl(t)}}function Cc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,E_(l,t)}__(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Br(8,i,i.return),Cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(i));break;default:Cc(i)}t=t.sibling}}function E_(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(c_(l),l===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var h1={getCacheForType:function(t){var i=Kt(Ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Kt(Ct).controller.signal}},f1=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,De=null,Ve=0,Xe=0,An=null,qr=!1,Fa=!1,Ad=!1,rr=0,pt=0,Fr=0,Xs=0,xd=0,xn=0,Ha=0,El=null,mn=null,Rd=!1,Ic=0,b_=0,Nc=1/0,Dc=null,Hr=null,Lt=0,Gr=null,Ga=null,sr=0,Cd=0,Id=null,T_=null,bl=0,Nd=null;function Rn(){return(Ke&2)!==0&&Ve!==0?Ve&-Ve:X.T!==null?Pd():Ou()}function w_(){if(xn===0)if((Ve&536870912)===0||Be){var t=ws;ws<<=1,(ws&3932160)===0&&(ws=262144),xn=t}else xn=536870912;return t=wn.current,t!==null&&(t.flags|=32),xn}function pn(t,i,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),Yr(t,Ve,xn,!1)),Ss(t,a),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(Xs|=a),pt===4&&Yr(t,Ve,xn,!1)),Di(t))}function S_(t,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Kn(t,i),f=l?p1(t,i):Od(t,i,!0),d=l;do{if(f===0){Fa&&!l&&Yr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!d1(a)){f=Od(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var w=t;f=El;var N=w.current.memoizedState.isDehydrated;if(N&&(Ya(w,_).flags|=256),_=Od(w,_,!1),_!==2){if(Ad&&!N){w.errorRecoveryDisabledLanes|=d,Xs|=d,f=4;break e}d=mn,mn=f,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ya(t,0),Yr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Yr(l,i,xn,!qr);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Ic+300-an(),10<f)){if(Yr(l,i,xn,!qr),di(l,0,!0)!==0)break e;sr=i,l.timeoutHandle=tv(A_.bind(null,l,a,mn,Dc,Rd,i,xn,Xs,Ha,qr,d,"Throttled",-0,0),f);break e}A_(l,a,mn,Dc,Rd,i,xn,Xs,Ha,qr,d,null,-0,0)}}break}while(!0);Di(t)}function A_(t,i,a,l,f,d,_,w,N,F,J,ne,H,$){if(t.timeoutHandle=-1,ne=i.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},y_(i,d,ne);var de=(d&62914560)===d?Ic-an():(d&4194048)===d?b_-an():0;if(de=W1(ne,de),de!==null){sr=d,t.cancelPendingCommit=de(M_.bind(null,t,i,d,a,l,f,_,w,N,J,ne,null,H,$)),Yr(t,d,_,!F);return}}M_(t,i,d,a,l,f,_,w,N)}function d1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!bn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yr(t,i,a,l){i&=~xd,i&=~Xs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-yt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&As(t,a,i)}function Oc(){return(Ke&6)===0?(Tl(0),!1):!0}function Dd(){if(De!==null){if(Xe===0)var t=De.return;else t=De,Qi=Bs=null,Kf(t),Pa=null,rl=0,t=De;for(;t!==null;)n_(t.alternate,t),t=t.return;De=null}}function Ya(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,M1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),sr=0,Dd(),nt=t,De=a=Yi(t.current,null),Ve=i,Xe=0,An=null,qr=!1,Fa=Kn(t,i),Ad=!1,Ha=xn=xd=Xs=Fr=pt=0,mn=El=null,Rd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-yt(l),d=1<<f;i|=t[f],l&=~d}return rr=i,Zu(),a}function x_(t,i){Ce=null,X.H=fl,i===Va||i===oc?(i=qg(),Xe=3):i===Vf?(i=qg(),Xe=4):Xe=i===ud?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,De===null&&(pt=1,bc(t,Ln(i,t.current)))}function R_(){var t=wn.current;return t===null?!0:(Ve&4194048)===Ve?Bn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Bn:!1}function C_(){var t=X.H;return X.H=fl,t===null?fl:t}function I_(){var t=X.A;return X.A=h1,t}function Mc(){pt=4,qr||(Ve&4194048)!==Ve&&wn.current!==null||(Fa=!0),(Fr&134217727)===0&&(Xs&134217727)===0||nt===null||Yr(nt,Ve,xn,!1)}function Od(t,i,a){var l=Ke;Ke|=2;var f=C_(),d=I_();(nt!==t||Ve!==i)&&(Dc=null,Ya(t,i)),i=!1;var _=pt;e:do try{if(Xe!==0&&De!==null){var w=De,N=An;switch(Xe){case 8:Dd(),_=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var F=Xe;if(Xe=0,An=null,Ka(t,w,N,F),a&&Fa){_=0;break e}break;default:F=Xe,Xe=0,An=null,Ka(t,w,N,F)}}m1(),_=pt;break}catch(J){x_(t,J)}while(!0);return i&&t.shellSuspendCounter++,Qi=Bs=null,Ke=l,X.H=f,X.A=d,De===null&&(nt=null,Ve=0,Zu()),_}function m1(){for(;De!==null;)N_(De)}function p1(t,i){var a=Ke;Ke|=2;var l=C_(),f=I_();nt!==t||Ve!==i?(Dc=null,Nc=an()+500,Ya(t,i)):Fa=Kn(t,i);e:do try{if(Xe!==0&&De!==null){i=De;var d=An;t:switch(Xe){case 1:Xe=0,An=null,Ka(t,i,d,1);break;case 2:case 9:if(zg(d)){Xe=0,An=null,D_(i);break}i=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Di(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:zg(d)?(Xe=0,An=null,D_(i)):(Xe=0,An=null,Ka(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var w=De;if(_?gv(_):w.stateNode.complete){Xe=0,An=null;var N=w.sibling;if(N!==null)De=N;else{var F=w.return;F!==null?(De=F,kc(F)):De=null}break t}}Xe=0,An=null,Ka(t,i,d,5);break;case 6:Xe=0,An=null,Ka(t,i,d,6);break;case 8:Dd(),pt=6;break e;default:throw Error(s(462))}}g1();break}catch(J){x_(t,J)}while(!0);return Qi=Bs=null,X.H=l,X.A=f,Ke=a,De!==null?0:(nt=null,Ve=0,Zu(),pt)}function g1(){for(;De!==null&&!lf();)N_(De)}function N_(t){var i=e_(t.alternate,t,rr);t.memoizedProps=t.pendingProps,i===null?kc(t):De=i}function D_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Qy(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=Qy(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Kf(i);default:n_(a,i),i=De=Ig(i,rr),i=e_(a,i,rr)}t.memoizedProps=t.pendingProps,i===null?kc(t):De=i}function Ka(t,i,a,l){Qi=Bs=null,Kf(i),Pa=null,rl=0;var f=i.return;try{if(r1(t,f,i,a,Ve)){pt=1,bc(t,Ln(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;pt=1,bc(t,Ln(a,t.current)),De=null;return}i.flags&32768?(Be||l===1?t=!0:Fa||(Ve&536870912)!==0?t=!1:(qr=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),O_(i,t)):kc(i)}function kc(t){var i=t;do{if((i.flags&32768)!==0){O_(i,qr);return}t=i.return;var a=o1(i.alternate,i,rr);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);pt===0&&(pt=5)}function O_(t,i){do{var a=l1(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);pt=6,De=null}function M_(t,i,a,l,f,d,_,w,N){t.cancelPendingCommit=null;do Vc();while(Lt!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Ef,hf(t,a,d,_,w,N),t===nt&&(De=nt=null,Ve=0),Ga=i,Gr=t,sr=a,Cd=d,Id=f,T_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,E1(Tr,function(){return j_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=ae.p,ae.p=2,_=Ke,Ke|=4;try{u1(t,i,a)}finally{Ke=_,ae.p=f,X.T=l}}Lt=1,k_(),V_(),P_()}}function k_(){if(Lt===1){Lt=0;var t=Gr,i=Ga,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var f=Ke;Ke|=4;try{m_(i,t);var d=Hd,_=Eg(t.containerInfo),w=d.focusedElem,N=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&vg(w.ownerDocument.documentElement,w)){if(N!==null&&pf(w)){var F=N.start,J=N.end;if(J===void 0&&(J=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(J,w.value.length);else{var ne=w.ownerDocument||document,H=ne&&ne.defaultView||window;if(H.getSelection){var $=H.getSelection(),de=w.textContent.length,_e=Math.min(N.start,de),tt=N.end===void 0?_e:Math.min(N.end,de);!$.extend&&_e>tt&&(_=tt,tt=_e,_e=_);var j=_g(w,_e),k=_g(w,tt);if(j&&k&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==k.node||$.focusOffset!==k.offset)){var q=ne.createRange();q.setStart(j.node,j.offset),$.removeAllRanges(),_e>tt?($.addRange(q),$.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),$.addRange(q))}}}}for(ne=[],$=w;$=$.parentNode;)$.nodeType===1&&ne.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ne.length;w++){var Z=ne[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Kc=!!Fd,Hd=Fd=null}finally{Ke=f,ae.p=l,X.T=a}}t.current=i,Lt=2}}function V_(){if(Lt===2){Lt=0;var t=Gr,i=Ga,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var f=Ke;Ke|=4;try{u_(t,i.alternate,i)}finally{Ke=f,ae.p=l,X.T=a}}Lt=3}}function P_(){if(Lt===4||Lt===3){Lt=0,Au();var t=Gr,i=Ga,a=sr,l=T_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,Ga=Gr=null,L_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Hr=null),qi(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Yn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=ae.p,ae.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{X.T=i,ae.p=f}}(sr&3)!==0&&Vc(),Di(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Nd?bl++:(bl=0,Nd=t):bl=0,Tl(0)}}function L_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function Vc(){return k_(),V_(),P_(),j_()}function j_(){if(Lt!==5)return!1;var t=Gr,i=Cd;Cd=0;var a=qi(sr),l=X.T,f=ae.p;try{ae.p=32>a?32:a,X.T=null,a=Id,Id=null;var d=Gr,_=sr;if(Lt=0,Ga=Gr=null,sr=0,(Ke&6)!==0)throw Error(s(331));var w=Ke;if(Ke|=4,v_(d.current),g_(d,d.current,_,a),Ke=w,Tl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Yn,d)}catch{}return!0}finally{ae.p=f,X.T=l,L_(t,i)}}function U_(t,i,a){i=Ln(a,i),i=ld(t.stateNode,i,2),t=jr(t,i,2),t!==null&&(Ss(t,2),Di(t))}function We(t,i,a){if(t.tag===3)U_(t,t,a);else for(;i!==null;){if(i.tag===3){U_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hr===null||!Hr.has(l))){t=Ln(a,t),a=zy(2),l=jr(i,a,2),l!==null&&(By(a,l,i,t),Ss(l,2),Di(l));break}}i=i.return}}function Md(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new f1;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Ad=!0,f.add(a),t=y1.bind(null,t,i,a),i.then(t,t))}function y1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ve&a)===a&&(pt===4||pt===3&&(Ve&62914560)===Ve&&300>an()-Ic?(Ke&2)===0&&Ya(t,0):xd|=a,Ha===Ve&&(Ha=0)),Di(t)}function z_(t,i){i===0&&(i=Du()),t=js(t,i),t!==null&&(Ss(t,i),Di(t))}function _1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),z_(t,a)}function v1(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),z_(t,a)}function E1(t,i){return Pt(t,i)}var Pc=null,Qa=null,kd=!1,Lc=!1,Vd=!1,Kr=0;function Di(t){t!==Qa&&t.next===null&&(Qa===null?Pc=Qa=t:Qa=Qa.next=t),Lc=!0,kd||(kd=!0,T1())}function Tl(t,i){if(!Vd&&Lc){Vd=!0;do for(var a=!1,l=Pc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-yt(42|t)+1)-1,d&=f&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,H_(l,d))}else d=Ve,d=di(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Kn(l,d)||(a=!0,H_(l,d));l=l.next}while(a);Vd=!1}}function b1(){B_()}function B_(){Lc=kd=!1;var t=0;Kr!==0&&O1()&&(t=Kr);for(var i=an(),a=null,l=Pc;l!==null;){var f=l.next,d=q_(l,i);d===0?(l.next=null,a===null?Pc=f:a.next=f,f===null&&(Qa=a)):(a=l,(t!==0||(d&3)!==0)&&(Lc=!0)),l=f}Lt!==0&&Lt!==5||Tl(t),Kr!==0&&(Kr=0)}function q_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-yt(d),w=1<<_,N=f[_];N===-1?((w&a)===0||(w&l)!==0)&&(f[_]=cf(w,i)):N<=i&&(t.expiredLanes|=w),d&=~w}if(i=nt,a=Ve,a=di(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&br(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&br(l),qi(a)){case 2:case 8:a=Oo;break;case 32:a=Tr;break;case 268435456:a=xu;break;default:a=Tr}return l=F_.bind(null,t),a=Pt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&br(l),t.callbackPriority=2,t.callbackNode=null,2}function F_(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vc()&&t.callbackNode!==a)return null;var l=Ve;return l=di(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(S_(t,l,i),q_(t,an()),t.callbackNode!=null&&t.callbackNode===a?F_.bind(null,t):null)}function H_(t,i){if(Vc())return null;S_(t,i,!0)}function T1(){k1(function(){(Ke&6)!==0?Pt(Do,b1):B_()})}function Pd(){if(Kr===0){var t=Ma;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Kr=t}return Kr}function G_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function Y_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function w1(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=G_((f[Ut]||null).action),_=l.submitter;_&&(i=(i=_[Ut]||null)?G_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var w=new Si("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Kr!==0){var N=_?Y_(f,_):new FormData(f);nd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(w.preventDefault(),N=_?Y_(f,_):new FormData(f),nd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Ld=0;Ld<vf.length;Ld++){var jd=vf[Ld],S1=jd.toLowerCase(),A1=jd[0].toUpperCase()+jd.slice(1);ti(S1,"on"+A1)}ti(wg,"onAnimationEnd"),ti(Sg,"onAnimationIteration"),ti(Ag,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(Bw,"onTransitionRun"),ti(qw,"onTransitionStart"),ti(Fw,"onTransitionCancel"),ti(xg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function K_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var w=l[_],N=w.instance,F=w.currentTarget;if(w=w.listener,N!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=F;try{d(f)}catch(J){Ju(J)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(w=l[_],N=w.instance,F=w.currentTarget,w=w.listener,N!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=F;try{d(f)}catch(J){Ju(J)}f.currentTarget=null,d=N}}}}function Oe(t,i){var a=i[da];a===void 0&&(a=i[da]=new Set);var l=t+"__bubble";a.has(l)||(Q_(i,t,2,!1),a.add(l))}function Ud(t,i,a){var l=0;i&&(l|=4),Q_(a,t,l,i)}var jc="_reactListening"+Math.random().toString(36).slice(2);function zd(t){if(!t[jc]){t[jc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(x1.has(a)||Ud(a,!1,t),Ud(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[jc]||(i[jc]=!0,Ud("selectionchange",!1,i))}}function Q_(t,i,a,l){switch(wv(i)){case 2:var f=eS;break;case 8:f=tS;break;default:f=tm}a=f.bind(null,i,a,t),f=void 0,!Ns||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Bd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;w!==null;){if(_=yi(w),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}w=w.parentNode}}l=l.return}Cr(function(){var F=d,J=Mn(a),ne=[];e:{var H=Rg.get(t);if(H!==void 0){var $=Si,de=t;switch(t){case"keypress":if(Os(a)===0)break e;case"keydown":case"keyup":$=$u;break;case"focusin":de="focus",$=ks;break;case"focusout":de="blur",$=ks;break;case"beforeblur":case"afterblur":$=ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case wg:case Sg:case Ag:$=qu;break;case xg:$=S;break;case"scroll":case"scrollend":$=Ko;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Gi;break;case"toggle":case"beforetoggle":$=Re}var _e=(i&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),j=_e?H!==null?H+"Capture":null:H;_e=[];for(var k=F,q;k!==null;){var Z=k;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||j===null||(Z=Wn(k,j),Z!=null&&_e.push(Sl(k,Z,q))),tt)break;k=k.return}0<_e.length&&(H=new $(H,de,null,a,J),ne.push({event:H,listeners:_e}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",H&&a!==Ho&&(de=a.relatedTarget||a.fromElement)&&(yi(de)||de[pi]))break e;if(($||H)&&(H=J.window===J?J:(H=J.ownerDocument)?H.defaultView||H.parentWindow:window,$?(de=a.relatedTarget||a.toElement,$=F,de=de?yi(de):null,de!==null&&(tt=u(de),_e=de.tag,de!==tt||_e!==5&&_e!==27&&_e!==6)&&(de=null)):($=null,de=F),$!==de)){if(_e=Qo,Z="onMouseLeave",j="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Gi,Z="onPointerLeave",j="onPointerEnter",k="pointer"),tt=$==null?H:vn($),q=de==null?H:vn(de),H=new _e(Z,k+"leave",$,a,J),H.target=tt,H.relatedTarget=q,Z=null,yi(J)===F&&(_e=new _e(j,k+"enter",de,a,J),_e.target=q,_e.relatedTarget=tt,Z=_e),tt=Z,$&&de)t:{for(_e=R1,j=$,k=de,q=0,Z=j;Z;Z=_e(Z))q++;Z=0;for(var ge=k;ge;ge=_e(ge))Z++;for(;0<q-Z;)j=_e(j),q--;for(;0<Z-q;)k=_e(k),Z--;for(;q--;){if(j===k||k!==null&&j===k.alternate){_e=j;break t}j=_e(j),k=_e(k)}_e=null}else _e=null;$!==null&&$_(ne,H,$,_e,!1),de!==null&&tt!==null&&$_(ne,tt,de,_e,!0)}}e:{if(H=F?vn(F):window,$=H.nodeName&&H.nodeName.toLowerCase(),$==="select"||$==="input"&&H.type==="file")var He=fg;else if(cg(H))if(dg)He=jw;else{He=Pw;var pe=Vw}else $=H.nodeName,!$||$.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&ya(F.elementType)&&(He=fg):He=Lw;if(He&&(He=He(t,F))){hg(ne,He,a,J);break e}pe&&pe(t,H,F),t==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Bo(H,"number",H.value)}switch(pe=F?vn(F):window,t){case"focusin":(cg(pe)||pe.contentEditable==="true")&&(Aa=pe,gf=F,Zo=null);break;case"focusout":Zo=gf=Aa=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,bg(ne,a,J);break;case"selectionchange":if(zw)break;case"keydown":case"keyup":bg(ne,a,J)}var Ne;if(Ye)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Sa?Vs(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ri&&a.locale!=="ko"&&(Sa||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Sa&&(Ne=Yo()):(wi=J,Go="value"in wi?wi.value:wi.textContent,Sa=!0)),pe=Uc(F,Pe),0<pe.length&&(Pe=new xi(Pe,t,null,a,J),ne.push({event:Pe,listeners:pe}),Ne?Pe.data=Ne:(Ne=wa(a),Ne!==null&&(Pe.data=Ne)))),(Ne=Vn?Dw(t,a):Ow(t,a))&&(Pe=Uc(F,"onBeforeInput"),0<Pe.length&&(pe=new xi("onBeforeInput","beforeinput",null,a,J),ne.push({event:pe,listeners:Pe}),pe.data=Ne)),w1(ne,t,F,a,J)}K_(ne,i)})}function Sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Uc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Wn(t,a),f!=null&&l.unshift(Sl(t,f,d)),f=Wn(t,i),f!=null&&l.push(Sl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function R1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $_(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var w=a,N=w.alternate,F=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||F===null||(N=F,f?(F=Wn(a,d),F!=null&&_.unshift(Sl(a,F,N))):f||(F=Wn(a,d),F!=null&&_.push(Sl(a,F,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var C1=/\r\n?/g,I1=/\u0000|\uFFFD/g;function X_(t){return(typeof t=="string"?t:""+t).replace(C1,`
`).replace(I1,"")}function W_(t,i){return i=X_(i),X_(t)===i}function et(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&cn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":Fo(t,l,d);break;case"data":if(i!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",f.name,f,null),et(t,i,"formEncType",f.formEncType,f,null),et(t,i,"formMethod",f.formMethod,f,null),et(t,i,"formTarget",f.formTarget,f,null)):(et(t,i,"encType",f.encType,f,null),et(t,i,"method",f.method,f,null),et(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=_a(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),pa(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uu.get(a)||a,pa(t,a,l))}}function qd(t,i,a,l,f,d){switch(a){case"style":Fo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):pa(t,a,l)}}}function $t(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,d,_,a,null)}}f&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var w=d=_=f=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":_=J;break;case"checked":N=J;break;case"defaultChecked":F=J;break;case"value":d=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:et(t,i,l,J,a,null)}}Pu(t,d,w,N,F,_,f,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:et(t,i,f,w,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Sr(t,!!l,i,!1):a!=null&&Sr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:et(t,i,_,w,a,null)}Ar(t,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,i,N,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Oe(wl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,F,l,a,null)}return;default:if(ya(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&qd(t,i,J,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&et(t,i,w,l,a,null))}function N1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,w=null,N=null,F=null,J=null;for($ in a){var ne=a[$];if(a.hasOwnProperty($)&&ne!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=ne;default:l.hasOwnProperty($)||et(t,i,$,null,l,ne)}}for(var H in l){var $=l[H];if(ne=a[H],l.hasOwnProperty(H)&&($!=null||ne!=null))switch(H){case"type":d=$;break;case"name":f=$;break;case"checked":F=$;break;case"defaultChecked":J=$;break;case"value":_=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==ne&&et(t,i,H,$,l,ne)}}ga(t,_,w,N,F,J,d,f);return;case"select":$=_=w=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":$=N;default:l.hasOwnProperty(d)||et(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":H=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==N&&et(t,i,f,d,l,N)}i=w,a=_,l=$,H!=null?Sr(t,!!a,H,!1):!!l!=!!a&&(i!=null?Sr(t,!!a,i,!0):Sr(t,!!a,a?[]:"",!1));return;case"textarea":$=H=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(t,i,w,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":H=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&et(t,i,_,f,l,d)}Lu(t,H,$);return;case"option":for(var de in a)if(H=a[de],a.hasOwnProperty(de)&&H!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:et(t,i,de,null,l,H)}for(N in l)if(H=l[N],$=a[N],l.hasOwnProperty(N)&&H!==$&&(H!=null||$!=null))switch(N){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:et(t,i,N,H,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&et(t,i,_e,null,l,H);for(F in l)if(H=l[F],$=a[F],l.hasOwnProperty(F)&&H!==$&&(H!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:et(t,i,F,H,l,$)}return;default:if(ya(i)){for(var tt in a)H=a[tt],a.hasOwnProperty(tt)&&H!==void 0&&!l.hasOwnProperty(tt)&&qd(t,i,tt,void 0,l,H);for(J in l)H=l[J],$=a[J],!l.hasOwnProperty(J)||H===$||H===void 0&&$===void 0||qd(t,i,J,H,l,$);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!l.hasOwnProperty(j)&&et(t,i,j,null,l,H);for(ne in l)H=l[ne],$=a[ne],!l.hasOwnProperty(ne)||H===$||H==null&&$==null||et(t,i,ne,H,l,$)}function J_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,w=f.duration;if(d&&w&&J_(_)){for(_=0,w=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],F=N.startTime;if(F>w)break;var J=N.transferSize,ne=N.initiatorType;J&&J_(ne)&&(N=N.responseEnd,_+=J*(N<w?1:(w-F)/(N-F)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Fd=null,Hd=null;function zc(t){return t.nodeType===9?t:t.ownerDocument}function Z_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ev(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Gd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yd=null;function O1(){var t=window.event;return t&&t.type==="popstate"?t===Yd?!1:(Yd=t,!0):(Yd=null,!1)}var tv=typeof setTimeout=="function"?setTimeout:void 0,M1=typeof clearTimeout=="function"?clearTimeout:void 0,nv=typeof Promise=="function"?Promise:void 0,k1=typeof queueMicrotask=="function"?queueMicrotask:typeof nv<"u"?function(t){return nv.resolve(null).then(t).catch(V1)}:tv;function V1(t){setTimeout(function(){throw t})}function Qr(t){return t==="head"}function iv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Ja(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Al(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Al(a);for(var d=a.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[gi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Al(t.ownerDocument.body);a=f}while(a);Ja(i)}function rv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Kd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),ma(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function P1(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function L1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function sv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=qn(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$?"||t.data==="$~"}function $d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function j1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Xd=null;function av(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return qn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function ov(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function lv(t,i,a){switch(i=zc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Al(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ma(t)}var Fn=new Map,uv=new Set;function Bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ar=ae.d;ae.d={f:U1,r:z1,D:B1,C:q1,L:F1,m:H1,X:Y1,S:G1,M:K1};function U1(){var t=ar.f(),i=Oc();return t||i}function z1(t){var i=On(t);i!==null&&i.tag===5&&i.type==="form"?xy(i):ar.r(t)}var $a=typeof document>"u"?null:document;function cv(t,i,a){var l=$a;if(l&&typeof i=="string"&&i){var f=un(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),uv.has(f)||(uv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),$t(i,"link",t),xt(i),l.head.appendChild(i)))}}function B1(t){ar.D(t),cv("dns-prefetch",t,null)}function q1(t,i){ar.C(t,i),cv("preconnect",t,i)}function F1(t,i,a){ar.L(t,i,a);var l=$a;if(l&&t&&i){var f='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+un(a.imageSizes)+'"]')):f+='[href="'+un(t)+'"]';var d=f;switch(i){case"style":d=Xa(t);break;case"script":d=Wa(t)}Fn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Fn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(xl(d))||i==="script"&&l.querySelector(Rl(d))||(i=l.createElement("link"),$t(i,"link",t),xt(i),l.head.appendChild(i)))}}function H1(t,i){ar.m(t,i);var a=$a;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!Fn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Fn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(d)))return}l=a.createElement("link"),$t(l,"link",t),xt(l),a.head.appendChild(l)}}}function G1(t,i,a){ar.S(t,i,a);var l=$a;if(l&&t){var f=_i(l).hoistableStyles,d=Xa(t);i=i||"default";var _=f.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(xl(d)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Fn.get(d))&&Wd(t,a);var N=_=l.createElement("link");xt(N),$t(N,"link",t),N._p=new Promise(function(F,J){N.onload=F,N.onerror=J}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,qc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(d,_)}}}function Y1(t,i){ar.X(t,i);var a=$a;if(a&&t){var l=_i(a).hoistableScripts,f=Wa(t),d=l.get(f);d||(d=a.querySelector(Rl(f)),d||(t=T({src:t,async:!0},i),(i=Fn.get(f))&&Jd(t,i),d=a.createElement("script"),xt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function K1(t,i){ar.M(t,i);var a=$a;if(a&&t){var l=_i(a).hoistableScripts,f=Wa(t),d=l.get(f);d||(d=a.querySelector(Rl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Fn.get(f))&&Jd(t,i),d=a.createElement("script"),xt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function hv(t,i,a,l){var f=(f=Ae.current)?Bc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Xa(a.href),a=_i(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xa(a.href);var d=_i(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(xl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),d||Q1(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wa(a),a=_i(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xa(t){return'href="'+un(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function fv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Q1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$t(i,"link",a),xt(i),t.head.appendChild(i))}function Wa(t){return'[src="'+un(t)+'"]'}function Rl(t){return"script[async]"+t}function dv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return i.instance=l,xt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),$t(l,"style",f),qc(l,a.precedence,t),i.instance=l;case"stylesheet":f=Xa(a.href);var d=t.querySelector(xl(f));if(d)return i.state.loading|=4,i.instance=d,xt(d),d;l=fv(a),(f=Fn.get(f))&&Wd(l,f),d=(t.ownerDocument||t).createElement("link"),xt(d);var _=d;return _._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),$t(d,"link",l),i.state.loading|=4,qc(d,a.precedence,t),i.instance=d;case"script":return d=Wa(a.src),(f=t.querySelector(Rl(d)))?(i.instance=f,xt(f),f):(l=a,(f=Fn.get(d))&&(l=T({},a),Jd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),xt(f),$t(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,qc(l,a.precedence,t));return i.instance}function qc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===i)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Wd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Fc=null;function mv(t,i,a){if(Fc===null){var l=new Map,f=Fc=new Map;f.set(a,l)}else f=Fc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[gi]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function pv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function $1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function gv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function X1(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Xa(l.href),d=i.querySelector(xl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Hc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,xt(d);return}d=i.ownerDocument||i,l=fv(l),(f=Fn.get(f))&&Wd(l,f),d=d.createElement("link"),xt(d);var _=d;_._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),$t(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Hc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Zd=0;function W1(t,i){return t.stylesheets&&t.count===0&&Yc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Yc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Zd===0&&(Zd=62500*D1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Yc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Zd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function Yc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,i.forEach(J1,t),Gc=null,Hc.call(t))}function J1(t,i){if(!(i.state.loading&4)){var a=Gc.get(t);if(a)var l=a.get(null);else{a=new Map,Gc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Hc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Cl={$$typeof:G,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Z1(t,i,a,l,f,d,_,w,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function yv(t,i,a,l,f,d,_,w,N,F,J,ne){return t=new Z1(t,i,a,_,N,F,J,ne,w),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),t.current=d,d.stateNode=t,i=Of(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Pf(d),t}function _v(t){return t?(t=Ca,t):Ca}function vv(t,i,a,l,f,d){f=_v(f),l.context===null?l.context=f:l.pendingContext=f,l=Lr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=jr(t,l,i),a!==null&&(pn(a,t,i),al(a,t,i))}function Ev(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function em(t,i){Ev(t,i),(t=t.alternate)&&Ev(t,i)}function bv(t){if(t.tag===13||t.tag===31){var i=js(t,67108864);i!==null&&pn(i,t,67108864),em(t,67108864)}}function Tv(t){if(t.tag===13||t.tag===31){var i=Rn();i=xs(i);var a=js(t,i);a!==null&&pn(a,t,i),em(t,i)}}var Kc=!0;function eS(t,i,a,l){var f=X.T;X.T=null;var d=ae.p;try{ae.p=2,tm(t,i,a,l)}finally{ae.p=d,X.T=f}}function tS(t,i,a,l){var f=X.T;X.T=null;var d=ae.p;try{ae.p=8,tm(t,i,a,l)}finally{ae.p=d,X.T=f}}function tm(t,i,a,l){if(Kc){var f=nm(l);if(f===null)Bd(t,i,l,Qc,a),Sv(t,l);else if(iS(f,t,i,a,l))l.stopPropagation();else if(Sv(t,l),i&4&&-1<nS.indexOf(t)){for(;f!==null;){var d=On(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=fi(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var N=1<<31-yt(_);w.entanglements[1]|=N,_&=~N}Di(d),(Ke&6)===0&&(Nc=an()+500,Tl(0))}}break;case 31:case 13:w=js(d,2),w!==null&&pn(w,d,2),Oc(),em(d,2)}if(d=nm(l),d===null&&Bd(t,i,l,Qc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Bd(t,i,l,null,a)}}function nm(t){return t=Mn(t),im(t)}var Qc=null;function im(t){if(Qc=null,t=yi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Qc=t,null}function wv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case Do:return 2;case Oo:return 8;case Tr:case uf:return 32;case xu:return 268435456;default:return 32}default:return 32}}var rm=!1,$r=null,Xr=null,Wr=null,Il=new Map,Nl=new Map,Jr=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(t,i){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function Dl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=On(i),i!==null&&bv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function iS(t,i,a,l,f){switch(i){case"focusin":return $r=Dl($r,t,i,a,l,f),!0;case"dragenter":return Xr=Dl(Xr,t,i,a,l,f),!0;case"mouseover":return Wr=Dl(Wr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Il.set(d,Dl(Il.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Nl.set(d,Dl(Nl.get(d)||null,t,i,a,l,f)),!0}return!1}function Av(t){var i=yi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){Tv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Qn(t.priority,function(){Tv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=nm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ho=l,a.target.dispatchEvent(l),Ho=null}else return i=On(a),i!==null&&bv(i),t.blockedOn=a,!1;i.shift()}return!0}function xv(t,i,a){$c(t)&&a.delete(i)}function rS(){rm=!1,$r!==null&&$c($r)&&($r=null),Xr!==null&&$c(Xr)&&(Xr=null),Wr!==null&&$c(Wr)&&(Wr=null),Il.forEach(xv),Nl.forEach(xv)}function Xc(t,i){t.blockedOn===i&&(t.blockedOn=null,rm||(rm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rS)))}var Wc=null;function Rv(t){Wc!==t&&(Wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wc===t&&(Wc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(im(l||a)===null)continue;break}var d=On(a);d!==null&&(t.splice(i,3),i-=3,nd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Ja(t){function i(N){return Xc(N,t)}$r!==null&&Xc($r,t),Xr!==null&&Xc(Xr,t),Wr!==null&&Xc(Wr,t),Il.forEach(i),Nl.forEach(i);for(var a=0;a<Jr.length;a++){var l=Jr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Jr.length&&(a=Jr[0],a.blockedOn===null);)Av(a),a.blockedOn===null&&Jr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Ut]||null;if(typeof d=="function")_||Rv(a);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ut]||null)w=_.formAction;else if(im(f)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Rv(a)}}}function Cv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function sm(t){this._internalRoot=t}Jc.prototype.render=sm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Rn();vv(a,l,t,i,null,null)},Jc.prototype.unmount=sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;vv(t.current,2,null,t,null,null),Oc(),i[pi]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ou();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Jr.length&&i!==0&&i<Jr[a].priority;a++);Jr.splice(a,0,t),a===0&&Av(t)}};var Iv=e.version;if(Iv!=="19.2.3")throw Error(s(527,Iv,"19.2.3"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var sS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Yn=Zc.inject(sS),Ht=Zc}catch{}}return Ml.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=Py,d=Ly,_=jy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=yv(t,1,!1,null,null,a,l,null,f,d,_,Cv),t[pi]=i.current,zd(t),new sm(i)},Ml.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Py,_=Ly,w=jy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=yv(t,1,!0,i,a??null,l,f,N,d,_,w,Cv),i.context=_v(null),a=i.current,l=Rn(),l=xs(l),f=Lr(l),f.callback=null,jr(a,f,l),a=l,i.current.lanes=a,Ss(i,a),Di(i),t[pi]=i.current,zd(t),new Jc(i)},Ml.version="19.2.3",Ml}var Uv;function yS(){if(Uv)return lm.exports;Uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lm.exports=gS(),lm.exports}var _S=yS();/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ES=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),zv=r=>{const e=ES(r);return e.charAt(0).toUpperCase()+e.slice(1)},AE=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),bS=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=V.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>V.createElement("svg",{ref:p,...TS,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:AE("lucide",o),...!u&&!bS(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,b])=>V.createElement(g,b)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(r,e)=>{const n=V.forwardRef(({className:s,...o},u)=>V.createElement(wS,{ref:u,iconNode:e,className:AE(`lucide-${vS(zv(r))}`,`lucide-${r}`,s),...o}));return n.displayName=zv(r),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],AS=ft("arrow-left",SS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xE=ft("arrow-right",xS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],CS=ft("bot",RS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],NS=ft("download",IS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],OS=ft("image-plus",DS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],kS=ft("image",MS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],uu=ft("loader-circle",VS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],LS=ft("lock",PS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],US=ft("mail",jS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M5 12h14",key:"1ays0h"}]],BS=ft("minus",zS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],FS=ft("phone",qS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],RE=ft("plus",HS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],YS=ft("settings",GS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],QS=ft("share-2",KS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CE=ft("shield-check",$S);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],$l=ft("shopping-bag",XS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],IE=ft("sparkles",WS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],NE=ft("square-pen",JS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Cm=ft("star",ZS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],DE=ft("trash-2",eA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],nA=ft("triangle-alert",tA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],rA=ft("upload",iA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],aA=ft("wand-sparkles",sA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ap=ft("x",oA),lA=()=>{};var Bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},uA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},ME={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,b=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(A=64)),s.push(n[b],n[T],n[A],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(OE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):uA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new cA;const A=u<<2|m>>4;if(s.push(A),g!==64){const O=m<<4&240|g>>2;if(s.push(O),T!==64){const Y=g<<6&192|T;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class cA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hA=function(r){const e=OE(r);return ME.encodeByteArray(e,!0)},vh=function(r){return hA(r).replace(/\./g,"")},kE=function(r){try{return ME.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=()=>fA().__FIREBASE_DEFAULTS__,mA=()=>{if(typeof process>"u"||typeof Bv>"u")return;const r=Bv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&kE(r[1]);return e&&JSON.parse(e)},Lh=()=>{try{return lA()||dA()||mA()||pA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},VE=r=>{var e,n;return(n=(e=Lh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},gA=r=>{const e=VE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},PE=()=>{var r;return(r=Lh())==null?void 0:r.config},LE=r=>{var e;return(e=Lh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[vh(JSON.stringify(n)),vh(JSON.stringify(h)),""].join(".")}const ql={};function vA(){const r={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?r.emulator.push(e):r.prod.push(e);return r}function EA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let qv=!1;function UE(r,e){if(typeof window>"u"||typeof document>"u"||!_o(window.location.host)||ql[r]===e||ql[r]||qv)return;ql[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=vA().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,O){A.setAttribute("width","24"),A.setAttribute("id",O),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{qv=!0,h()},A}function b(A,O){A.setAttribute("id",O),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=EA(s),O=n("text"),Y=document.getElementById(O)||document.createElement("span"),z=n("learnmore"),L=document.getElementById(z)||document.createElement("a"),W=n("preprendIcon"),Q=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const G=A.element;m(G),b(L,z);const re=g();p(Q,W),G.append(Q,Y,L,re),document.body.appendChild(G)}u?(Y.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function TA(){var e;const r=(e=Lh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function AA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xA(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function RA(){return!TA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CA(){try{return typeof indexedDB=="object"}catch{return!1}}function IA(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="FirebaseError";class yr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=NA,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?DA(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new yr(o,m,s)}}function DA(r,e){return r.replace(OA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const OA=/\{\$([^}]+)}/g;function MA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ta(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Fv(u)&&Fv(h)){if(!ta(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Fv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ll(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function kA(r,e){const n=new VA(r,e);return n.subscribe.bind(n)}class VA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");PA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(r){return r&&r._delegate?r._delegate:r}class na{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new yA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UA(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jA(r){return r===Ws?void 0:r}function UA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const BA={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},qA=Le.INFO,FA={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},HA=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=FA[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class op{constructor(e){this.name=e,this._logLevel=qA,this._logHandler=HA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const GA=(r,e)=>e.some(n=>r instanceof n);let Hv,Gv;function YA(){return Hv||(Hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KA(){return Gv||(Gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zE=new WeakMap,Im=new WeakMap,BE=new WeakMap,dm=new WeakMap,lp=new WeakMap;function QA(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(as(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&zE.set(n,r)}).catch(()=>{}),lp.set(e,r),e}function $A(r){if(Im.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Im.set(r,e)}let Nm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Im.get(r);if(e==="objectStoreNames")return r.objectStoreNames||BE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function XA(r){Nm=r(Nm)}function WA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(mm(this),e,...n);return BE.set(s,e.sort?e.sort():[e]),as(s)}:KA().includes(r)?function(...e){return r.apply(mm(this),e),as(zE.get(this))}:function(...e){return as(r.apply(mm(this),e))}}function JA(r){return typeof r=="function"?WA(r):(r instanceof IDBTransaction&&$A(r),GA(r,YA())?new Proxy(r,Nm):r)}function as(r){if(r instanceof IDBRequest)return QA(r);if(dm.has(r))return dm.get(r);const e=JA(r);return e!==r&&(dm.set(r,e),lp.set(e,r)),e}const mm=r=>lp.get(r);function ZA(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=as(h);return s&&h.addEventListener("upgradeneeded",p=>{s(as(h.result),p.oldVersion,p.newVersion,as(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ex=["get","getKey","getAll","getAllKeys","count"],tx=["put","add","delete","clear"],pm=new Map;function Yv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=tx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ex.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return pm.set(e,u),u}XA(r=>({...r,get:(e,n,s)=>Yv(e,n)||r.get(e,n,s),has:(e,n)=>!!Yv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ix(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ix(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dm="@firebase/app",Kv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new op("@firebase/app"),rx="@firebase/app-compat",sx="@firebase/analytics-compat",ax="@firebase/analytics",ox="@firebase/app-check-compat",lx="@firebase/app-check",ux="@firebase/auth",cx="@firebase/auth-compat",hx="@firebase/database",fx="@firebase/data-connect",dx="@firebase/database-compat",mx="@firebase/functions",px="@firebase/functions-compat",gx="@firebase/installations",yx="@firebase/installations-compat",_x="@firebase/messaging",vx="@firebase/messaging-compat",Ex="@firebase/performance",bx="@firebase/performance-compat",Tx="@firebase/remote-config",wx="@firebase/remote-config-compat",Sx="@firebase/storage",Ax="@firebase/storage-compat",xx="@firebase/firestore",Rx="@firebase/ai",Cx="@firebase/firestore-compat",Ix="firebase",Nx="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",Dx={[Dm]:"fire-core",[rx]:"fire-core-compat",[ax]:"fire-analytics",[sx]:"fire-analytics-compat",[lx]:"fire-app-check",[ox]:"fire-app-check-compat",[ux]:"fire-auth",[cx]:"fire-auth-compat",[hx]:"fire-rtdb",[fx]:"fire-data-connect",[dx]:"fire-rtdb-compat",[mx]:"fire-fn",[px]:"fire-fn-compat",[gx]:"fire-iid",[yx]:"fire-iid-compat",[_x]:"fire-fcm",[vx]:"fire-fcm-compat",[Ex]:"fire-perf",[bx]:"fire-perf-compat",[Tx]:"fire-rc",[wx]:"fire-rc-compat",[Sx]:"fire-gcs",[Ax]:"fire-gcs-compat",[xx]:"fire-fst",[Cx]:"fire-fst-compat",[Rx]:"fire-vertex","fire-js":"fire-js",[Ix]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,Ox=new Map,Mm=new Map;function Qv(r,e){try{r.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function uo(r){const e=r.name;if(Mm.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,r);for(const n of Eh.values())Qv(n,r);for(const n of Ox.values())Qv(n,r);return!0}function up(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function si(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new cu("app","Firebase",Mx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=Nx;function qE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Om,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=PE()),!n)throw os.create("no-options");const u=Eh.get(o);if(u){if(ta(n,u.options)&&ta(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const h=new zA(o);for(const p of Mm.values())h.addComponent(p);const m=new kx(n,s,h);return Eh.set(o,m),m}function FE(r=Om){const e=Eh.get(r);if(!e&&r===Om&&PE())return qE();if(!e)throw os.create("no-app",{appName:r});return e}function ls(r,e,n){let s=Dx[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(h.join(" "));return}uo(new na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="firebase-heartbeat-database",Px=1,Xl="firebase-heartbeat-store";let gm=null;function HE(){return gm||(gm=ZA(Vx,Px,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw os.create("idb-open",{originalErrorMessage:r.message})})),gm}async function Lx(r){try{const n=(await HE()).transaction(Xl),s=await n.objectStore(Xl).get(GE(r));return await n.done,s}catch(e){if(e instanceof yr)fr.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(n.message)}}}async function $v(r,e){try{const s=(await HE()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,GE(r)),await s.done}catch(n){if(n instanceof yr)fr.warn(n.message);else{const s=os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fr.warn(s.message)}}}function GE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=1024,Ux=30;class zx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Xv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Ux){const h=Fx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){fr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xv(),{heartbeatsToSend:s,unsentEntries:o}=Bx(this._heartbeatsCache.heartbeats),u=vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return fr.warn(n),""}}}function Xv(){return new Date().toISOString().substring(0,10)}function Bx(r,e=jx){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Wv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Wv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class qx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CA()?IA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $v(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $v(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Wv(r){return vh(JSON.stringify({version:2,heartbeats:r})).length}function Fx(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(r){uo(new na("platform-logger",e=>new nx(e),"PRIVATE")),uo(new na("heartbeat",e=>new zx(e),"PRIVATE")),ls(Dm,Kv,r),ls(Dm,Kv,"esm2020"),ls("fire-js","")}Hx("");var Jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,YE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function C(){}C.prototype=R.prototype,x.F=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(M,D,U){for(var I=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)I[Me-2]=arguments[Me];return R.prototype[D].apply(M,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);const M=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)M[D]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(D=0;D<16;++D)M[D]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],D=x.g[2];let U=x.g[3],I;I=R+(U^C&(D^U))+M[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=U+(D^R&(C^D))+M[1]+3905402710&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(C^U&(R^C))+M[2]+606105819&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(R^D&(U^R))+M[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(U^C&(D^U))+M[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=U+(D^R&(C^D))+M[5]+1200080426&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(C^U&(R^C))+M[6]+2821735955&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(R^D&(U^R))+M[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(U^C&(D^U))+M[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=U+(D^R&(C^D))+M[9]+2336552879&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(C^U&(R^C))+M[10]+4294925233&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(R^D&(U^R))+M[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(U^C&(D^U))+M[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=U+(D^R&(C^D))+M[13]+4254626195&4294967295,U=R+(I<<12&4294967295|I>>>20),I=D+(C^U&(R^C))+M[14]+2792965006&4294967295,D=U+(I<<17&4294967295|I>>>15),I=C+(R^D&(U^R))+M[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(D^U&(C^D))+M[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(R^C))+M[6]+3225465664&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(U^R))+M[11]+643717713&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^R&(D^U))+M[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^U&(C^D))+M[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(R^C))+M[10]+38016083&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(U^R))+M[15]+3634488961&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^R&(D^U))+M[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^U&(C^D))+M[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(R^C))+M[14]+3275163606&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(U^R))+M[3]+4107603335&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^R&(D^U))+M[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^U&(C^D))+M[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=U+(C^D&(R^C))+M[2]+4243563512&4294967295,U=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(U^R))+M[7]+1735328473&4294967295,D=U+(I<<14&4294967295|I>>>18),I=C+(U^R&(D^U))+M[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(C^D^U)+M[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=U+(R^C^D)+M[8]+2272392833&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^C)+M[11]+1839030562&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^R)+M[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^U)+M[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=U+(R^C^D)+M[4]+1272893353&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^C)+M[7]+4139469664&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^R)+M[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^U)+M[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=U+(R^C^D)+M[0]+3936430074&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^C)+M[3]+3572445317&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^R)+M[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^U)+M[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=U+(R^C^D)+M[12]+3873151461&4294967295,U=R+(I<<11&4294967295|I>>>21),I=D+(U^R^C)+M[15]+530742520&4294967295,D=U+(I<<16&4294967295|I>>>16),I=C+(D^U^R)+M[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(D^(C|~U))+M[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=U+(C^(R|~D))+M[7]+1126891415&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~C))+M[14]+2878612391&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~R))+M[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~U))+M[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=U+(C^(R|~D))+M[3]+2399980690&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~C))+M[10]+4293915773&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~R))+M[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~U))+M[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=U+(C^(R|~D))+M[15]+4264355552&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~C))+M[6]+2734768916&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~R))+M[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~U))+M[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=U+(C^(R|~D))+M[11]+3174756917&4294967295,U=R+(I<<10&4294967295|I>>>22),I=D+(R^(U|~C))+M[2]+718787259&4294967295,D=U+(I<<15&4294967295|I>>>17),I=C+(U^(D|~R))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.v=function(x,R){R===void 0&&(R=x.length);const C=R-this.blockSize,M=this.C;let D=this.h,U=0;for(;U<R;){if(D==0)for(;U<=C;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<R;)if(M[D++]=x.charCodeAt(U++),D==this.blockSize){o(this,M),D=0;break}}else for(;U<R;)if(M[D++]=x[U++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)x[R++]=this.g[C]>>>M&255;return x};function u(x,R){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function h(x,R){this.h=R;const C=[];let M=!0;for(let D=x.length-1;D>=0;D--){const U=x[D]|0;M&&U==R||(C[D]=U,M=!1)}this.g=C}var m={};function p(x){return-128<=x&&x<128?u(x,function(R){return new h([R|0],R<0?-1:0)}):new h([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(x<0)return L(g(-x));const R=[];let C=1;for(let M=0;x>=C;M++)R[M]=x/C|0,C*=4294967296;return new h(R,0)}function b(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return L(b(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let M=T;for(let U=0;U<x.length;U+=8){var D=Math.min(8,x.length-U);const I=parseInt(x.substring(U,U+D),R);D<8?(D=g(Math.pow(R,D)),M=M.j(D).add(g(I))):(M=M.j(C),M=M.add(g(I)))}return M}var T=p(0),A=p(1),O=p(16777216);r=h.prototype,r.m=function(){if(z(this))return-L(this).m();let x=0,R=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);x+=(M>=0?M:4294967296+M)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Y(this))return"0";if(z(this))return"-"+L(this).toString(x);const R=g(Math.pow(x,6));var C=this;let M="";for(;;){const D=re(C,R).g;C=W(C,D.j(R));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=D,Y(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Y(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function z(x){return x.h==-1}r.l=function(x){return x=W(this,x),z(x)?-1:Y(x)?0:1};function L(x){const R=x.g.length,C=[];for(let M=0;M<R;M++)C[M]=~x.g[M];return new h(C,~x.h).add(A)}r.abs=function(){return z(this)?L(this):this},r.add=function(x){const R=Math.max(this.g.length,x.g.length),C=[];let M=0;for(let D=0;D<=R;D++){let U=M+(this.i(D)&65535)+(x.i(D)&65535),I=(U>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);M=I>>>16,U&=65535,I&=65535,C[D]=I<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function W(x,R){return x.add(L(R))}r.j=function(x){if(Y(this)||Y(x))return T;if(z(this))return z(x)?L(this).j(L(x)):L(L(this).j(x));if(z(x))return L(this.j(L(x)));if(this.l(O)<0&&x.l(O)<0)return g(this.m()*x.m());const R=this.g.length+x.g.length,C=[];for(var M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<x.g.length;D++){const U=this.i(M)>>>16,I=this.i(M)&65535,Me=x.i(D)>>>16,st=x.i(D)&65535;C[2*M+2*D]+=I*st,Q(C,2*M+2*D),C[2*M+2*D+1]+=U*st,Q(C,2*M+2*D+1),C[2*M+2*D+1]+=I*Me,Q(C,2*M+2*D+1),C[2*M+2*D+2]+=U*Me,Q(C,2*M+2*D+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new h(C,0)};function Q(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function G(x,R){this.g=x,this.h=R}function re(x,R){if(Y(R))throw Error("division by zero");if(Y(x))return new G(T,T);if(z(x))return R=re(L(x),R),new G(L(R.g),L(R.h));if(z(R))return R=re(x,L(R)),new G(L(R.g),R.h);if(x.g.length>30){if(z(x)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,M=R;M.l(x)<=0;)C=ue(C),M=ue(M);var D=me(C,1),U=me(M,1);for(M=me(M,2),C=me(C,2);!Y(M);){var I=U.add(M);I.l(x)<=0&&(D=D.add(C),U=I),M=me(M,1),C=me(C,1)}return R=W(x,D.j(R)),new G(D,R)}for(D=T;x.l(R)>=0;){for(C=Math.max(1,Math.floor(x.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=g(C),I=U.j(R);z(I)||I.l(x)>0;)C-=M,U=g(C),I=U.j(R);Y(U)&&(U=A),D=D.add(U),x=W(x,I)}return new G(D,x)}r.B=function(x){return re(this,x).h},r.and=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<R;M++)C[M]=this.i(M)&x.i(M);return new h(C,this.h&x.h)},r.or=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<R;M++)C[M]=this.i(M)|x.i(M);return new h(C,this.h|x.h)},r.xor=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<R;M++)C[M]=this.i(M)^x.i(M);return new h(C,this.h^x.h)};function ue(x){const R=x.g.length+1,C=[];for(let M=0;M<R;M++)C[M]=x.i(M)<<1|x.i(M-1)>>>31;return new h(C,x.h)}function me(x,R){const C=R>>5;R%=32;const M=x.g.length-C,D=[];for(let U=0;U<M;U++)D[U]=R>0?x.i(U+C)>>>R|x.i(U+C+1)<<32-R:x.i(U+C);return new h(D,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,YE=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=b,us=h}).apply(typeof Jv<"u"?Jv:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KE,jl,QE,oh,km,$E,XE,WE;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in E))break e;E=E[B]}c=c[c.length-1],S=E[c],y=y(S),y!=S&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&E.push([S,y[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function b(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,B,K){for(var se=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)se[Re-2]=arguments[Re];return y.prototype[B].apply(S,se)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const E=Array(y);for(let S=0;S<y;S++)E[S]=c[S];return E}return[]}function Y(c,y){for(let S=1;S<arguments.length;S++){const B=arguments[S];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=c.length||0;const K=B.length||0;c.length=E+K;for(let se=0;se<K;se++)c[E+se]=B[se]}else c.push(B)}}class z{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(c){h.setTimeout(()=>{throw c},0)}function W(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Q{constructor(){this.h=this.g=null}add(y,E){const S=G.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var G=new z(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,me=!1,x=new Q,R=()=>{const c=Promise.resolve(void 0);ue=()=>{c.then(C)}};function C(){for(var c;c=W();){try{c.h.call(c.g)}catch(E){L(E)}var y=G;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}me=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Me(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Me,D),Me.prototype.init=function(c,y){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Me.Z.h.call(this)},Me.prototype.h=function(){Me.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var st="closure_listenable_"+(Math.random()*1e6|0),X=0;function ae(c,y,E,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=B,this.key=++X,this.da=this.fa=!1}function oe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c,y,E){for(const S in c)y.call(E,c[S],S,c)}function Fe(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function P(c){const y={};for(const E in c)y[E]=c[E];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let E,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(E in S)c[E]=S[E];for(let K=0;K<te.length;K++)E=te[K],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,y,E,S,B){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const se=Ae(c,y,S,B);return se>-1?(y=c[se],E||(y.fa=!1)):(y=new ae(y,this.src,K,!!S,B),y.fa=E,c.push(y)),y};function ve(c,y){const E=y.type;if(E in c.g){var S=c.g[E],B=Array.prototype.indexOf.call(S,y,void 0),K;(K=B>=0)&&Array.prototype.splice.call(S,B,1),K&&(oe(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ae(c,y,E,S){for(let B=0;B<c.length;++B){const K=c[B];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==S)return B}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),gt={};function it(c,y,E,S,B){if(Array.isArray(y)){for(let K=0;K<y.length;K++)it(c,y[K],E,S,B);return null}return E=No(E),c&&c[st]?c.J(y,E,m(S)?!!S.capture:!1,B):Bi(c,y,E,!1,S,B)}function Bi(c,y,E,S,B,K){if(!y)throw Error("Invalid event type");const se=m(B)?!!B.capture:!!B;let Re=Vt(c);if(Re||(c[ke]=Re=new he(c)),E=Re.add(y,E,S,se,K),E.proxy)return E;if(S=vr(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)U||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(ze(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function vr(){function c(E){return y.call(c.src,c.listener,E)}const y=Zt;return c}function Er(c,y,E,S,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)Er(c,y[K],E,S,B);else S=m(S)?!!S.capture:!!S,E=No(E),c&&c[st]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],E=Ae(y,E,S,B),E>-1&&(oe(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Vt(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ae(y,E,S,B)),(E=c>-1?y[c]:null)&&xe(E))}function xe(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[st])ve(y.i,c);else{var E=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(E,S,c.capture):y.detachEvent?y.detachEvent(ze(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=Vt(y))?(ve(E,c),E.h==0&&(E.src=null,y[ke]=null)):oe(c)}}}function ze(c){return c in gt?gt[c]:gt[c]="on"+c}function Zt(c,y){if(c.da)c=!0;else{y=new Me(y,this);const E=c.listener,S=c.ha||c.src;c.fa&&xe(c),c=E.call(S,y)}return c}function Vt(c){return c=c[ke],c instanceof he?c:null}var Io="__closure_events_fn_"+(Math.random()*1e9>>>0);function No(c){return typeof c=="function"?c:(c[Io]||(c[Io]=function(y){return c.handleEvent(y)}),c[Io])}function wt(){M.call(this),this.i=new he(this),this.M=this,this.G=null}T(wt,M),wt.prototype[st]=!0,wt.prototype.removeEventListener=function(c,y,E,S){Er(this,c,y,E,S)};function Pt(c,y){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var B=y;y=new D(S,c),le(y,B)}B=!0;let K,se;if(E)for(se=E.length-1;se>=0;se--)K=y.g=E[se],B=br(K,S,!0,y)&&B;if(K=y.g=c,B=br(K,S,!0,y)&&B,B=br(K,S,!1,y)&&B,E)for(se=0;se<E.length;se++)K=y.g=E[se],B=br(K,S,!1,y)&&B}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let S=0;S<E.length;S++)oe(E[S]);delete c.g[y],c.h--}}this.G=null},wt.prototype.J=function(c,y,E,S){return this.i.add(String(c),y,!1,E,S)},wt.prototype.K=function(c,y,E,S){return this.i.add(String(c),y,!0,E,S)};function br(c,y,E,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==E){const Re=se.listener,_t=se.ha||se.src;se.fa&&ve(c.i,se),B=Re.call(_t,S)!==!1&&B}}return B&&!S.defaultPrevented}function lf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Au(c){c.g=lf(()=>{c.g=null,c.i&&(c.i=!1,Au(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class an extends M{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(c){M.call(this),this.h=c,this.g={}}T(Ts,M);var Do=[];function Oo(c){Ie(c.g,function(y,E){this.g.hasOwnProperty(E)&&xe(y)},c),c.g={}}Ts.prototype.N=function(){Ts.Z.N.call(this),Oo(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tr=h.JSON.stringify,uf=h.JSON.parse,xu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Ru(){}function Cu(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){D.call(this,"d")}T(Ht,D);function Dn(){D.call(this,"c")}T(Dn,D);var yt={},Iu=null;function fa(){return Iu=Iu||new wt}yt.Ia="serverreachability";function Nu(c){D.call(this,yt.Ia,c)}T(Nu,D);function hi(c){const y=fa();Pt(y,new Nu(y))}yt.STAT_EVENT="statevent";function ws(c,y){D.call(this,yt.STAT_EVENT,c),this.stat=y}T(ws,D);function St(c){const y=fa();Pt(y,new ws(y,c))}yt.Ja="timingevent";function fi(c,y){D.call(this,yt.Ja,c),this.size=y}T(fi,D);function di(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function cf(c,y,E,S,B,K){c.info(function(){if(c.g)if(K){var se="",Re=K.split("&");for(let Ye=0;Ye<Re.length;Ye++){var _t=Re[Ye].split("=");if(_t.length>1){const ut=_t[0];_t=_t[1];const Vn=ut.split("_");se=Vn.length>=2&&Vn[1]=="type"?se+(ut+"="+_t+"&"):se+(ut+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+E+`
`+se})}function Du(c,y,E,S,B,K,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+E+`
`+K+" "+se})}function mi(c,y,E,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+hf(c,E)+(S?" "+S:"")})}function Ss(c,y){c.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function hf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var E=K[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return Tr(K)}catch{return y}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ko;function xs(){}T(xs,Ru),xs.prototype.g=function(){return new XMLHttpRequest},ko=new xs;function qi(c){return encodeURIComponent(String(c))}function Ou(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Qn(c,y,E,S){this.j=c,this.i=y,this.l=E,this.S=S||1,this.V=new Ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var At={},Ut={};function pi(c,y,E){c.M=1,c.A=Rs(Rt(y)),c.u=E,c.R=!0,da(c,null)}function da(c,y){c.F=Date.now(),gi(c),c.B=Rt(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ya(E.i,"t",S),c.C=0,E=c.j.L,c.h=new $n,c.g=Ku(c.j,E?y:null,!c.u),c.P>0&&(c.O=new an(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,S=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Do[0]=B.toString()),B=Do);for(let K=0;K<B.length;K++){const se=it(E,B[K],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?P(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),hi(),cf(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Jn(c)==3?y.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=Jn(this.g),_t=this.g.ya(),Ye=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||Re!=4||_t==7||(_t==8||Ye<=0?hi(3):hi(2)),yi(this);var y=this.g.ca();this.X=y;var E=ff(this);if(this.o=y==200,Du(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var K=S;break t}}K=null}if(c=K)mi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,c);else{this.o=!1,this.m=3,St(12),vn(this),On(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<E.length;)if(ut=ku(this,E),ut==Ut){Re==4&&(this.m=4,St(14),c=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==At){this.m=4,St(15),mi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else mi(this.i,this.l,ut,null),_i(this,ut);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||E.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)mi(this.i,this.l,E,"[Invalid Chunked Response]"),vn(this),On(this);else if(E.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),$o(se),se.P=!0,St(11))}}else mi(this.i,this.l,E,null),_i(this,E);Re==4&&vn(this),this.o&&!this.K&&(Re==4?Fu(this.j,this):(this.o=!1,gi(this)))}else Hi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),vn(this),On(this)}}}catch{}finally{}};function ff(c){if(!Mu(c))return c.g.la();const y=Gt(c.g);if(y==="")return"";let E="";const S=y.length,B=Jn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),On(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<S;K++)c.h.h=!0,E+=c.h.i.decode(y[K],{stream:!(B&&K==S-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Mu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ku(c,y){var E=c.C,S=y.indexOf(`
`,E);return S==-1?Ut:(E=Number(y.substring(E,S)),isNaN(E)?At:(S+=1,S+E>y.length?Ut:(y=y.slice(S,S+E),c.C=S+E,y)))}Qn.prototype.cancel=function(){this.K=!0,vn(this)};function gi(c){c.T=Date.now()+c.H,ma(c,c.H)}function ma(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=di(g(c.aa,c),y)}function yi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ss(this.i,this.B),this.M!=2&&(hi(),St(17)),vn(this),this.m=2,On(this)):ma(this,this.T-c)};function On(c){c.j.I==0||c.K||Fu(c.j,c)}function vn(c){yi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Oo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function _i(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||Ei(E.h,c))){if(!c.L&&Ei(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Ta(E),Nr(E);else break e;ks(E),St(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=di(g(E.Va,E),6e3));vi(E.h)<=1&&E.ta&&(E.ta=void 0)}else xi(E,11)}else if((c.L||E.g==c)&&Ta(E),!I(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let Ye=B[y];const ut=Ye[0];if(!(ut<=E.K))if(E.K=ut,Ye=Ye[1],E.I==2)if(Ye[0]=="c"){E.M=Ye[1],E.ba=Ye[2];const Vn=Ye[3];Vn!=null&&(E.ka=Vn,E.j.info("VER="+E.ka));const Ri=Ye[4];Ri!=null&&(E.za=Ri,E.j.info("SVER="+E.za));const Zn=Ye[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(S=1.5*Zn,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const ei=c.g;if(ei){const Vs=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var K=S.h;K.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Lo(K,K.h),K.h=null))}if(S.G){const wa=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(S.wa=wa,$e(S.J,S.G,wa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var se=c;if(S.na=Yu(S,S.L?S.ba:null,S.W),se.L){jo(S.h,se);var Re=se,_t=S.O;_t&&(Re.H=_t),Re.D&&(yi(Re),gi(Re)),S.g=se}else Bu(S);E.i.length>0&&Ai(E)}else Ye[0]!="stop"&&Ye[0]!="close"||xi(E,7);else E.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?xi(E,7):Ko(E):Ye[0]!="noop"&&E.l&&E.l.qa(Ye),E.A=0)}}hi(4)}catch{}}var xt=class{constructor(c,y){this.g=c,this.map=y}};function Vo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vi(c){return c.h?1:c.g?c.g.size:0}function Ei(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Lo(c,y){c.g?c.g.add(y):c.h=y}function jo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Vo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return O(c.i)}var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let B,K=null;S>=0?(B=c[E].substring(0,S),K=c[E].substring(S+1)):B=c[E],y(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function En(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof En?(this.l=c.l,zt(this,c.j),this.o=c.o,this.g=c.g,wr(this,c.u),this.h=c.h,zo(this,Uu(c.i)),this.m=c.m):c&&(y=String(c).match(Vu))?(this.l=!1,zt(this,y[1]||"",!0),this.o=bi(y[2]||""),this.g=bi(y[3]||"",!0),wr(this,y[4]),this.h=bi(y[5]||"",!0),zo(this,y[6]||"",!0),this.m=bi(y[7]||"")):(this.l=!1,this.i=new Ar(null,this.l))}En.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Cs(y,ga,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Cs(y,ga,!0),"@"),c.push(qi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Cs(E,E.charAt(0)=="/"?Bo:Pu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Cs(E,Lu)),c.join("")},En.prototype.resolve=function(c){const y=Rt(this);let E=!!c.j;E?zt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var S=c.h;if(E)wr(y,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=y.h.lastIndexOf("/");B!=-1&&(S=y.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let se=0;se<B.length;){const Re=B[se++];Re=="."?S&&se==B.length&&K.push(""):Re==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&se==B.length&&K.push("")):(K.push(Re),S=!0)}S=K.join("/")}else S=B}return E?y.h=S:E=c.i.toString()!=="",E?zo(y,Uu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function Rt(c){return new En(c)}function zt(c,y,E){c.j=E?bi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function wr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function zo(c,y,E){y instanceof Ar?(c.i=y,_a(c.i,c.l)):(E||(y=Cs(y,Sr)),c.i=new Ar(y,c.l))}function $e(c,y,E){c.i.set(y,E)}function Rs(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function bi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cs(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,un),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ga=/[#\/\?@]/g,Pu=/[#\?:]/g,Bo=/[#\?]/g,Sr=/[#\?@]/g,Lu=/#/g;function Ar(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&pa(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=Ar.prototype,r.add=function(c,y){cn(this),this.i=null,c=xr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function ju(c,y){cn(c),y=xr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function qo(c,y){return cn(c),y=xr(c,y),c.g.has(y)}r.forEach=function(c,y){cn(this),this.g.forEach(function(E,S){E.forEach(function(B){c.call(y,B,S,this)},this)},this)};function Fo(c,y){cn(c);let E=[];if(typeof y=="string")qo(c,y)&&(E=E.concat(c.g.get(xr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return cn(this),this.i=null,c=xr(this,c),qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Fo(this,c),c.length>0?String(c[0]):y):y};function ya(c,y,E){ju(c,y),E.length>0&&(c.i=null,c.g.set(xr(c,y),O(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var E=y[S];const B=qi(E);E=Fo(this,E);for(let K=0;K<E.length;K++){let se=B;E[K]!==""&&(se+="="+qi(E[K])),c.push(se)}}return this.i=c.join("&")};function Uu(c){const y=new Ar;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function xr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function _a(c,y){y&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(E,S){const B=S.toLowerCase();S!=B&&(ju(this,S),ya(this,B,E))},c)),c.j=y}function Xn(c,y){const E=new Kn;if(h.Image){const S=new Image;S.onload=b(Mn,E,"TestLoadImage: loaded",!0,y,S),S.onerror=b(Mn,E,"TestLoadImage: error",!1,y,S),S.onabort=b(Mn,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=b(Mn,E,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Ho(c,y){const E=new Kn,S=new AbortController,B=setTimeout(()=>{S.abort(),Mn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?Mn(E,"TestPingServer: ok",!0,y):Mn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Mn(E,"TestPingServer: error",!1,y)})}function Mn(c,y,E,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(E)}catch{}}function Rr(){this.g=new xu}function Ti(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ti,Ru),Ti.prototype.g=function(){return new Is(this.i,this.h)};function Is(c,y){wt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Is,wt),r=Is.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;va(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function va(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Cr(this):Wn(this),this.readyState==3&&va(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Cr(this))},r.Na=function(c){this.g&&(this.response=c,Cr(this))},r.ga=function(){this.g&&Cr(this)};function Cr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Wn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kn(c){let y="";return Ie(c,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function Ns(c,y,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=kn(E),typeof c=="string"?E!=null&&qi(E):$e(c,y,E))}function Je(c){wt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Je,wt);var wi=/^https?$/i,Go=["POST","PUT"];r=Je.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ko.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Ds(this,K);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)E.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())E.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Go,y,void 0)>=0)||S||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of E)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Ds(this,K)}};function Ds(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Yo(c),Fi(c)}function Yo(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Pt(this,"complete"),Pt(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Os(this):this.Xa())},r.Xa=function(){Os(this)};function Os(c){if(c.h&&typeof u<"u"){if(c.v&&Jn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Pt(c,"readystatechange"),Jn(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var S;if(S=K===0){let se=String(c.D).match(Vu)[1]||null;!se&&h.self&&h.self.location&&(se=h.self.location.protocol.slice(0,-1)),S=!wi.test(se?se.toLowerCase():"")}E=S}if(E)Pt(c,"complete"),Pt(c,"success");else{c.o=6;try{var B=Jn(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Yo(c)}}finally{Fi(c)}}}}function Fi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Pt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),uf(y)}};function Gt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(c){const y={};c=(c.g&&Jn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var E=Ou(c[S]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[B]||[];y[B]=K,K.push(E)}Fe(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Ir(c){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(c&&c.concurrentRequestLimit),this.Ba=new Rr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ir.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,S){St(0),this.W=c,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=Yu(this,null,this.W),Ai(this)};function Ko(c){if(Ea(c),c.I==3){var y=c.V++,E=Rt(c.J);if($e(E,"SID",c.M),$e(E,"RID",y),$e(E,"TYPE","terminate"),Ms(c,E),y=new Qn(c,c.j,y),y.M=2,y.A=Rs(Rt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=Ku(y.j,null),y.g.ea(y.A)),y.F=Date.now(),gi(y)}Gu(c)}function Nr(c){c.g&&($o(c),c.g.cancel(),c.g=null)}function Ea(c){Nr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ta(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ai(c){if(!Po(c.h)&&!c.m){c.m=!0;var y=c.Ea;ue||R(),me||(ue(),me=!0),x.add(y,c),c.D=0}}function ba(c,y){return vi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=di(g(c.Ea,c,y),Hu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Qn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=P(K),le(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=zu(this,B,y),E=Rt(this.J),$e(E,"RID",c),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),Ms(this,E),K&&(this.R?y="headers="+qi(kn(K))+"&"+y:this.u&&Ns(E,this.u,K)),Lo(this.h,B),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",y),$e(E,"SID","null"),B.U=!0,pi(B,E,null)):pi(B,E,y),this.I=2}}else this.I==3&&(c?Qo(this,c):this.i.length==0||Po(this.h)||Qo(this))};function Qo(c,y){var E;y?E=y.l:E=c.V++;const S=Rt(c.J);$e(S,"SID",c.M),$e(S,"RID",E),$e(S,"AID",c.K),Ms(c,S),c.u&&c.o&&Ns(S,c.u,c.o),E=new Qn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=zu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Lo(c.h,E),pi(E,S,y)}function Ms(c,y){c.H&&Ie(c.H,function(E,S){$e(y,S,E)}),c.l&&Ie({},function(E,S){$e(y,S,E)})}function zu(c,y,E){E=Math.min(c.i.length,E);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let Re=-1;for(;;){const _t=["count="+E];Re==-1?E>0?(Re=B[0].g,_t.push("ofs="+Re)):Re=0:_t.push("ofs="+Re);let Ye=!0;for(let ut=0;ut<E;ut++){var K=B[ut].g;const Vn=B[ut].map;if(K-=Re,K<0)Re=Math.max(0,B[ut].g-100),Ye=!1;else try{K="req"+K+"_"||"";try{var se=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ri,Zn]of se){let ei=Zn;m(Zn)&&(ei=Tr(Zn)),_t.push(K+Ri+"="+encodeURIComponent(ei))}}catch(Ri){throw _t.push(K+"type="+encodeURIComponent("_badmap")),Ri}}catch{S&&S(Vn)}}if(Ye){se=_t.join("&");break e}}se=void 0}return c=c.i.splice(0,E),y.G=c,se}function Bu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ue||R(),me||(ue(),me=!0),x.add(y,c),c.A=0}}function ks(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=di(g(c.Da,c),Hu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=di(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Nr(this),qu(this))};function $o(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function qu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Rt(c.na);$e(y,"RID","rpc"),$e(y,"SID",c.M),$e(y,"AID",c.K),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(y,"TO",c.ia),$e(y,"TYPE","xmlhttp"),Ms(c,y),c.u&&c.o&&Ns(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Rs(Rt(y)),E.u=null,E.R=!0,da(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Nr(this),ks(this),St(19))};function Ta(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Fu(c,y){var E=null;if(c.g==y){Ta(c),$o(c),c.g=null;var S=2}else if(Ei(c.h,y))E=y.G,jo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;S=fa(),Pt(S,new fi(S,E)),Ai(c)}else Bu(c);else if(B=y.m,B==3||B==0&&y.X>0||!(S==1&&ba(c,y)||S==2&&ks(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),B){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function Hu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function xi(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),S=c.Ua;const B=!S;S=new En(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||zt(S,"https"),Rs(S),B?Xn(S.toString(),E):Ho(S.toString(),E)}else St(2);c.I=0,c.l&&c.l.pa(y),Gu(c),Ea(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Gu(c){if(c.I=0,c.ja=[],c.l){const y=Uo(c.h);(y.length!=0||c.i.length!=0)&&(Y(c.ja,y),Y(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function Yu(c,y,E){var S=E instanceof En?Rt(E):new En(E);if(S.g!="")y&&(S.g=y+"."+S.g),wr(S,S.u);else{var B=h.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const K=new En(null);S&&zt(K,S),y&&(K.g=y),B&&wr(K,B),E&&(K.h=E),S=K}return E=c.G,y=c.wa,E&&y&&$e(S,E,y),$e(S,"VER",c.ka),Ms(c,S),S}function Ku(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Je(new Ti({ab:E})):new Je(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Dr(){}Dr.prototype.g=function(c,y){return new on(c,y)};function on(c,y){wt.call(this),this.g=new Ir(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Gi(this)}T(on,wt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ko(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Tr(c),c=E);y.i.push(new xt(y.Ya++,c)),y.I==3&&Ai(y)},on.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,on.Z.N.call(this)};function $u(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T($u,Ht);function Xu(){Dn.call(this),this.status=1}T(Xu,Dn);function Gi(c){this.g=c}T(Gi,Qu),Gi.prototype.ra=function(){Pt(this.g,"a")},Gi.prototype.qa=function(c){Pt(this.g,new $u(c))},Gi.prototype.pa=function(c){Pt(this.g,new Xu)},Gi.prototype.oa=function(){Pt(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,WE=function(){return new Dr},XE=function(){return fa()},$E=yt,km={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,oh=As,Mo.COMPLETE="complete",QE=Mo,Cu.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",wt.prototype.listen=wt.prototype.J,jl=Cu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,KE=Je}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const Zv="@firebase/firestore",e0="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new op("@firebase/firestore");function Za(){return ia.logLevel}function fe(r,...e){if(ia.logLevel<=Le.DEBUG){const n=e.map(cp);ia.debug(`Firestore (${Eo}): ${r}`,...n)}}function dr(r,...e){if(ia.logLevel<=Le.ERROR){const n=e.map(cp);ia.error(`Firestore (${Eo}): ${r}`,...n)}}function co(r,...e){if(ia.logLevel<=Le.WARN){const n=e.map(cp);ia.warn(`Firestore (${Eo}): ${r}`,...n)}}function cp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,JE(r,s,n)}function JE(r,e,n){let s=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw dr(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||JE(e,o,s)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class Yx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Kx{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new cr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new cr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new ZE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class Qx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $x{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Qx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class t0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new t0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new t0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Wx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function je(r,e){return r<e?-1:r>e?1:0}function Vm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return ym(o)===ym(u)?je(o,u):ym(o)?1:-1}return je(r.length,e.length)}const Jx=55296,Zx=57343;function ym(r){const e=r.charCodeAt(0);return e>=Jx&&e<=Zx}function ho(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="__name__";class Mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return je(e.length,n.length)}static compareSegments(e,n){const s=Mi.isNumericId(e),o=Mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):Vm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class rt extends Mi{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const eR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Mi{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return eR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n0}static keyField(){return new Wt([n0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(r,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function tR(r,e,n,s){if(e===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function i0(r){if(!ye.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function r0(r){if(ye.isDocumentKey(r))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function tb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function oi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jh(r);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(r,e){const n={typeString:r};return e&&(n.value=e),n}function fu(r,e){if(!tb(r))throw new ce(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=-62135596800,a0=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*a0);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<s0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a0}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-s0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:kt("string",lt._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new lt(0,0))}static max(){return new Te(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function nR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new ds(o,ye.empty(),e)}function iR(r){return new ds(r.readTime,r.key,Wl)}class ds{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ds(Te.min(),ye.empty(),Wl)}static max(){return new ds(Te.max(),ye.empty(),Wl)}}function rR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:je(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==sR)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((b=>{h[g]=b,++m,m===u&&s(h)}),(b=>o(b)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function oR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=-1;function zh(r){return r==null}function bh(r){return r===0&&1/r==-1/0}function lR(r){return typeof r=="number"&&Number.isInteger(r)&&!bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="";function uR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=o0(e)),e=cR(r.get(n),e);return o0(e)}function cR(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case nb:n+="";break;default:n+=u}}return n}function o0(r){return r+nb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function vs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function ib(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Xt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new u0(this.data.getIterator())}getIteratorFrom(e){return new u0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class u0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new jt(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new rb("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const hR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=hR.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ps(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="server_timestamp",ab="__type__",ob="__previous_value__",lb="__local_write_time__";function dp(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[ab])==null?void 0:s.stringValue)===sb}function Bh(r){const e=r.mapValue.fields[ob];return dp(e)?Bh(e):e}function Jl(r){const e=ms(r.mapValue.fields[lb].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,s,o,u,h,m,p,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b}}const Th="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||Th}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="__type__",dR="__max__",nh={mapValue:{}},cb="__vector__",wh="value";function gs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dp(r)?4:pR(r)?9007199254740991:mR(r)?10:11:be(28295,{value:r})}function zi(r,e){if(r===e)return!0;const n=gs(r);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ms(o.timestampValue),m=ms(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ps(o.bytesValue).isEqual(ps(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=bt(o.doubleValue),m=bt(u.doubleValue);return h===m?bh(h)===bh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return ho(r.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(l0(h)!==l0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!zi(h[p],m[p])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function eu(r,e){return(r.values||[]).find((n=>zi(n,e)))!==void 0}function fo(r,e){if(r===e)return 0;const n=gs(r),s=gs(e);if(n!==s)return je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=bt(u.integerValue||u.doubleValue),p=bt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return c0(r.timestampValue,e.timestampValue);case 4:return c0(Jl(r),Jl(e));case 5:return Vm(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=ps(u),p=ps(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const b=je(m[g],p[g]);if(b!==0)return b}return je(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=je(bt(u.latitude),bt(h.latitude));return m!==0?m:je(bt(u.longitude),bt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return h0(r.arrayValue,e.arrayValue);case 10:return(function(u,h){var A,O,Y,z;const m=u.fields||{},p=h.fields||{},g=(A=m[wh])==null?void 0:A.arrayValue,b=(O=p[wh])==null?void 0:O.arrayValue,T=je(((Y=g==null?void 0:g.values)==null?void 0:Y.length)||0,((z=b==null?void 0:b.values)==null?void 0:z.length)||0);return T!==0?T:h0(g,b)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===nh.mapValue&&h===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(h===nh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let T=0;T<p.length&&T<b.length;++T){const A=Vm(p[T],b[T]);if(A!==0)return A;const O=fo(m[p[T]],g[b[T]]);if(O!==0)return O}return je(p.length,b.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function c0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const n=ms(r),s=ms(e),o=je(n.seconds,s.seconds);return o!==0?o:je(n.nanos,s.nanos)}function h0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=fo(n[o],s[o]);if(u)return u}return je(n.length,s.length)}function mo(r){return Pm(r)}function Pm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ms(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ps(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Pm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Pm(n.fields[h])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function lh(r){switch(gs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bh(r);return e?16+lh(e):16;case 5:return 2*r.stringValue.length;case 6:return ps(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+lh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return vs(s.fields,((u,h)=>{o+=u.length+lh(h)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function f0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Lm(r){return!!r&&"integerValue"in r}function mp(r){return!!r&&"arrayValue"in r}function d0(r){return!!r&&"nullValue"in r}function m0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uh(r){return!!r&&"mapValue"in r}function mR(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[ub])==null?void 0:s.stringValue)===cb}function Fl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return vs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(r.arrayValue.values[n]);return e}return{...r}}function pR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Fl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){vs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new yn(Fl(this.value))}}function hb(r){const e=[];return vs(r.fields,((n,s)=>{const o=new Wt([n]);if(uh(s)){const u=hb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new rn(e,0,Te.min(),Te.min(),Te.min(),yn.empty(),0)}static newFoundDocument(e,n,s,o){return new rn(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new rn(e,2,n,Te.min(),Te.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Te.min(),Te.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function p0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=fo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function g0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!zi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function gR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{}class Mt extends fb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new _R(e,n,s):n==="array-contains"?new bR(e,s):n==="in"?new TR(e,s):n==="not-in"?new wR(e,s):n==="array-contains-any"?new SR(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new vR(e,s):new ER(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends fb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new li(e,n)}matches(e){return db(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function db(r){return r.op==="and"}function mb(r){return yR(r)&&db(r)}function yR(r){for(const e of r.filters)if(e instanceof li)return!1;return!0}function jm(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+mo(r.value);if(mb(r))return r.filters.map((e=>jm(e))).join(",");{const e=r.filters.map((n=>jm(n))).join(",");return`${r.op}(${e})`}}function pb(r,e){return r instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&zi(s.value,o.value)})(r,e):r instanceof li?(function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&pb(h,o.filters[m])),!0):!1})(r,e):void be(19439)}function gb(r){return r instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`})(r):r instanceof li?(function(n){return n.op.toString()+" {"+n.getFilters().map(gb).join(" ,")+"}"})(r):"Filter"}class _R extends Mt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class vR extends Mt{constructor(e,n){super(e,"in",n),this.keys=yb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ER extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=yb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function yb(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>ye.fromName(s.referenceValue)))}class bR extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mp(n)&&eu(n.arrayValue,this.value)}}class TR extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class wR extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class SR extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>eu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function y0(r,e=null,n=[],s=[],o=null,u=null,h=null){return new AR(r,e,n,s,o,u,h)}function pp(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>jm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>mo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>mo(s))).join(",")),e.Te=n}return e.Te}function gp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!gR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!pb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!g0(r.startAt,e.startAt)&&g0(r.endAt,e.endAt)}function Um(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xR(r,e,n,s,o,u,h,m){return new wo(r,e,n,s,o,u,h,m)}function yp(r){return new wo(r)}function _0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _b(r){return r.collectionGroup!==null}function Hl(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new jt(Wt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new tu(u,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new tu(Wt.keyField(),s))}return e.Ie}function ki(r){const e=Se(r);return e.Ee||(e.Ee=RR(e,Hl(r))),e.Ee}function RR(r,e){if(r.limitType==="F")return y0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new tu(o.field,u)}));const n=r.endAt?new Sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Sh(r.startAt.position,r.startAt.inclusive):null;return y0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function zm(r,e){const n=r.filters.concat([e]);return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Bm(r,e,n){return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function qh(r,e){return gp(ki(r),ki(e))&&r.limitType===e.limitType}function vb(r){return`${pp(ki(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>gb(o))).join(", ")}]`),zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>mo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>mo(o))).join(",")),`Target(${s})`})(ki(r))}; limitType=${r.limitType})`}function Fh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Hl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=p0(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Hl(s),o)||s.endAt&&!(function(h,m,p){const g=p0(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Hl(s),o))})(r,e)}function CR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Eb(r){return(e,n)=>{let s=!1;for(const o of Hl(r)){const u=IR(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function IR(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?fo(p,g):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return ib(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new dt(ye.comparator);function mr(){return NR}const bb=new dt(ye.comparator);function Ul(...r){let e=bb;for(const n of r)e=e.insert(n.key,n);return e}function Tb(r){let e=bb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Zs(){return Gl()}function wb(){return Gl()}function Gl(){return new aa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const DR=new dt(ye.comparator),OR=new jt(ye.comparator);function Ue(...r){let e=OR;for(const n of r)e=e.add(n);return e}const MR=new jt(je);function kR(){return MR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function Sb(r){return{integerValue:""+r}}function Ab(r,e){return lR(e)?Sb(e):_p(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function VR(r,e,n){return r instanceof nu?(function(o,u){const h={fields:{[ab]:{stringValue:sb},[lb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&dp(u)&&(u=Bh(u)),u&&(h.fields[ob]=u),{mapValue:h}})(n,e):r instanceof iu?Rb(r,e):r instanceof ru?Cb(r,e):(function(o,u){const h=xb(o,u),m=v0(h)+v0(o.Ae);return Lm(h)&&Lm(o.Ae)?Sb(m):_p(o.serializer,m)})(r,e)}function PR(r,e,n){return r instanceof iu?Rb(r,e):r instanceof ru?Cb(r,e):n}function xb(r,e){return r instanceof su?(function(s){return Lm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class nu extends Hh{}class iu extends Hh{constructor(e){super(),this.elements=e}}function Rb(r,e){const n=Ib(e);for(const s of r.elements)n.some((o=>zi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ru extends Hh{constructor(e){super(),this.elements=e}}function Cb(r,e){let n=Ib(e);for(const s of r.elements)n=n.filter((o=>!zi(o,s)));return{arrayValue:{values:n}}}class su extends Hh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function v0(r){return bt(r.integerValue||r.doubleValue)}function Ib(r){return mp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n){this.field=e,this.transform=n}}function LR(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof iu&&o instanceof iu||s instanceof ru&&o instanceof ru?ho(s.elements,o.elements,zi):s instanceof su&&o instanceof su?zi(s.Ae,o.Ae):s instanceof nu&&o instanceof nu})(r.transform,e.transform)}class jR{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Gh{}function Db(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new vp(r.key,Gn.none()):new du(r.key,r.data,Gn.none());{const n=r.data,s=yn.empty();let o=new jt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Es(r.key,s,new Cn(o.toArray()),Gn.none())}}function UR(r,e,n){r instanceof du?(function(o,u,h){const m=o.value.clone(),p=b0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Es?(function(o,u,h){if(!ch(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=b0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Ob(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Yl(r,e,n,s){return r instanceof du?(function(u,h,m,p){if(!ch(u.precondition,h))return m;const g=u.value.clone(),b=T0(u.fieldTransforms,p,h);return g.setAll(b),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Es?(function(u,h,m,p){if(!ch(u.precondition,h))return m;const g=T0(u.fieldTransforms,p,h),b=h.data;return b.setAll(Ob(u)),b.setAll(g),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return ch(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function zR(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=xb(s.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(s.field,u))}return n||null}function E0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,((u,h)=>LR(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class du extends Gh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends Gh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ob(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function b0(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,PR(h,m,n[o]))}return s}function T0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,VR(u,h,e))}return s}class vp extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BR extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&UR(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=wb();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=Db(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((n,s)=>E0(n,s)))&&ho(this.baseMutations,e.baseMutations,((n,s)=>E0(n,s)))}}class Ep{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return DR})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Ep(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,qe;function GR(r){switch(r){case ee.OK:return be(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function Mb(r){if(r===void 0)return dr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case Ot.OK:return ee.OK;case Ot.CANCELLED:return ee.CANCELLED;case Ot.UNKNOWN:return ee.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ee.INTERNAL;case Ot.UNAVAILABLE:return ee.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ee.NOT_FOUND;case Ot.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ot.ABORTED:return ee.ABORTED;case Ot.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ot.DATA_LOSS:return ee.DATA_LOSS;default:return be(39323,{code:r})}}(qe=Ot||(Ot={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new us([4294967295,4294967295],0);function w0(r){const e=YR().encode(r),n=new YE;return n.update(e),new Uint8Array(n.digest())}function S0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new us([n,s],0),new us([o,u],0)]}class bp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=us.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(us.fromNumber(s)));return o.compare(KR)===1&&(o=new us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=w0(e),[s,o]=S0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new bp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=w0(e),[s,o]=S0(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Yh(Te.min(),o,new dt(je),mr(),Ue())}}class mu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new mu(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class kb{constructor(e,n){this.targetId=e,this.Ce=n}}class Vb{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class A0{constructor(){this.ve=0,this.Fe=x0(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new mu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=x0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QR{constructor(e){this.Ge=e,this.ze=new Map,this.je=mr(),this.Je=ih(),this.He=ih(),this.Ye=new dt(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Um(u))if(s===0){const h=new ye(u.path);this.et(n,h,rn.newNoDocument(h,Te.min()))}else Qe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ps(s).toUint8Array()}catch(p){if(p instanceof rb)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new bp(h,o,u)}catch(p){return co(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Um(m.target)){const p=new ye(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,rn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Ue();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Yh(e,n,this.Ye,this.je,s);return this.je=mr(),this.Je=ih(),this.He=ih(),this.Ye=new dt(je),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new A0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new A0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ih(){return new dt(ye.comparator)}function x0(){return new dt(ye.comparator)}const $R={asc:"ASCENDING",desc:"DESCENDING"},XR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WR={and:"AND",or:"OR"};class JR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qm(r,e){return r.useProto3Json||zh(e)?e:{value:e}}function Ah(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ZR(r,e){return Ah(r,e.toTimestamp())}function Vi(r){return Qe(!!r,49232),Te.fromTimestamp((function(n){const s=ms(n);return new lt(s.seconds,s.nanos)})(r))}function Tp(r,e){return Fm(r,e).canonicalString()}function Fm(r,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Lb(r){const e=rt.fromString(r);return Qe(qb(e),10190,{key:e.toString()}),e}function Hm(r,e){return Tp(r.databaseId,e.path)}function _m(r,e){const n=Lb(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(Ub(n))}function jb(r,e){return Tp(r.databaseId,e)}function e2(r){const e=Lb(r);return e.length===4?rt.emptyPath():Ub(e)}function Gm(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ub(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function R0(r,e,n){return{name:Hm(r,e),fields:n.value.mapValue.fields}}function t2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(Qe(b===void 0||typeof b=="string",58123),Jt.fromBase64String(b||"")):(Qe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Jt.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const b=g.code===void 0?ee.UNKNOWN:Mb(g.code);return new ce(b,g.message||"")})(h);n=new Vb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_m(r,s.document.name),u=Vi(s.document.updateTime),h=s.document.createTime?Vi(s.document.createTime):Te.min(),m=new yn({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,u,h,m),g=s.targetIds||[],b=s.removedTargetIds||[];n=new hh(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_m(r,s.document),u=s.readTime?Vi(s.readTime):Te.min(),h=rn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new hh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_m(r,s.document),u=s.removedTargetIds||[];n=new hh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new HR(o,u),m=s.targetId;n=new kb(m,h)}}return n}function n2(r,e){let n;if(e instanceof du)n={update:R0(r,e.key,e.value)};else if(e instanceof vp)n={delete:Hm(r,e.key)};else if(e instanceof Es)n={update:R0(r,e.key,e.data),updateMask:h2(e.fieldMask)};else{if(!(e instanceof BR))return be(16599,{Vt:e.type});n={verify:Hm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof nu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof iu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ru)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof su)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ZR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(r,e.precondition)),n}function i2(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Vi(o.updateTime):Vi(u);return h.isEqual(Te.min())&&(h=Vi(u)),new jR(h,o.transformResults||[])})(n,e)))):[]}function r2(r,e){return{documents:[jb(r,e.path)]}}function s2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=jb(r,o);const u=(function(g){if(g.length!==0)return Bb(li.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((b=>(function(A){return{field:to(A.field),direction:l2(A.dir)}})(b)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=qm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function a2(r){let e=e2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(T){const A=zb(T);return A instanceof li&&mb(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(Y){return new tu(no(Y.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,zh(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,O=T.values||[];return new Sh(O,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,O=T.values||[];return new Sh(O,A)})(n.endAt)),xR(e,o,h,u,m,"F",p,g)}function o2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=no(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=no(n.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Mt.create(no(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return li.create(n.compositeFilter.filters.map((s=>zb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function l2(r){return $R[r]}function u2(r){return XR[r]}function c2(r){return WR[r]}function to(r){return{fieldPath:r.canonicalString()}}function no(r){return Wt.fromServerFormat(r.fieldPath)}function Bb(r){return r instanceof Mt?(function(n){if(n.op==="=="){if(m0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(d0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(d0(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:u2(n.op),value:n.value}}})(r):r instanceof li?(function(n){const s=n.getFilters().map((o=>Bb(o)));return s.length===1?s[0]:{compositeFilter:{op:c2(n.op),filters:s}}})(r):be(54877,{filter:r})}function h2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function qb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,s,o,u=Te.min(),h=Te.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.yt=e}}function d2(r){const e=a2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.Cn=new p2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ds.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class p2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fb=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(Fb,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new po(0)}static cr(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="LruGarbageCollector",g2=1048576;function N0([r,e],[n,s]){const o=je(r,n);return o===0?je(e,s):o}class y2{constructor(e){this.Ir=e,this.buffer=new jt(N0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();N0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(I0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?fe(I0,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Vr(3e5)}))}}class v2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Uh.ce);const s=new y2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(C0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),Za()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function E2(r,e){return new v2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.changes=new aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Yl(s.mutation,o,Cn.empty(),lt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Zs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Ul();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=mr();const h=Gl(),m=(function(){return Gl()})();return n.forEach(((p,g)=>{const b=s.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof Es)?u=u.insert(g.key,g):b!==void 0?(h.set(g.key,b.mutation.getFieldMask()),Yl(b.mutation,g,b.mutation.getFieldMask(),lt.now())):h.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,b)=>h.set(g,b))),n.forEach(((g,b)=>m.set(g,new T2(b,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Gl();let o=new dt(((h,m)=>h-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let b=s.get(p)||Cn.empty();b=m.applyToLocalView(g,b),s.set(p,b);const T=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,b=p.value,T=wb();b.forEach((A=>{if(!u.has(A)){const O=Db(n.get(A),s.get(A));O!==null&&T.set(A,O),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_b(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Zs());let m=Wl,p=u;return h.next((g=>ie.forEach(g,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(b)?ie.resolve():this.remoteDocumentCache.getEntry(e,b).next((A=>{p=p.insert(b,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ue()))).next((b=>({batchId:m,changes:Tb(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Ul();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(T,A){return new wo(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((b=>{b.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const b=g.getKey();h.get(b)===null&&(h=h.insert(b,rn.newInvalidDocument(b)))}));let m=Ul();return h.forEach(((p,g)=>{const b=u.get(p);b!==void 0&&Yl(b.mutation,g,Cn.empty(),lt.now()),Fh(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:d2(o.bundledQuery),readTime:Vi(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.overlays=new dt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),u=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt(((g,b)=>g-b));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let b=u.get(g.largestBatchId);b===null&&(b=Zs(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,b)=>m.set(g,b))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new FR(n,s));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.Qr=new jt(qt.$r),this.Ur=new jt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new rt([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new rt([])),s=new qt(n,e),o=new qt(n,e+1);let u=Ue();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt(qt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new qR(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?fp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(je);return n.forEach((o=>{const u=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new qt(new ye(u),0);let m=new jt(je);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new qt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.ri=e,this.docs=(function(){return new dt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let s=mr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=mr();const h=n.path,m=new ye(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||rR(iR(b),s)<=0||(o.has(b.key)||Fh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new I2(this)}getSize(e){return ie.resolve(this.size)}}class I2 extends b2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.persistence=e,this.si=new aa((n=>pp(n)),gp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new wp,this.targetCount=0,this.ai=po.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new po(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Uh(0),this.li=!1,this.li=!0,this.hi=new x2,this.referenceDelegate=e(this),this.Pi=new N2(this),this.indexManager=new m2,this.remoteDocumentCache=(function(o){return new C2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new f2(n),this.Ii=new S2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new A2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new R2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new D2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class D2 extends aR{constructor(e){super(),this.currentSequenceNumber=e}}class Sp{constructor(e){this.persistence=e,this.Ri=new wp,this.Vi=null}static mi(e){return new Sp(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class xh{constructor(e,n){this.persistence=e,this.pi=new aa((s=>uR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=E2(this,n)}static mi(e,n){return new xh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Ap(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RA()?8:oR(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new O2;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Za()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Za()<=Le.DEBUG&&fe("QueryEngine","Query:",eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Za()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):ie.resolve())}ys(e,n){if(_0(n))return ie.resolve(null);let s=ki(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Bm(n,null,"F"),s=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Ue(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Bm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return _0(n)||o.isEqual(Te.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?ie.resolve(null):(Za()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.vs(e,h,n,nR(o,Wl)).next((m=>m)))}))}Ds(e,n){let s=new jt(Eb(e));return n.forEach(((o,u)=>{Fh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Za()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ps.getDocumentsMatchingQuery(e,n,ds.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="LocalStore",k2=3e8;class V2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new dt(je),this.xs=new aa((u=>pp(u)),gp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function P2(r,e,n,s){return new V2(r,e,n,s)}async function Gb(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Ue();for(const g of o){h.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function L2(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,b){const T=g.batch,A=T.keys();let O=ie.resolve();return A.forEach((Y=>{O=O.next((()=>b.getEntry(p,Y))).next((z=>{const L=g.docVersions.get(Y);Qe(L!==null,48541),z.version.compareTo(L)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),b.addEntry(z)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Yb(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function j2(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,T)=>{const A=o.get(T);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,T))));let O=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Jt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,s)),o=o.insert(T,O),(function(z,L,W){return z.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=k2?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(A,O,b)&&m.push(n.Pi.updateTargetData(u,O))}));let p=mr(),g=Ue();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(U2(u,h,e.documentUpdates).next((b=>{p=b.ks,g=b.qs}))),!s.isEqual(Te.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return ie.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function U2(r,e,n){let s=Ue(),o=Ue();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=mr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):fe(xp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function z2(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=fp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function B2(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ss(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Ym(r,e,n){const s=Se(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!To(h))throw h;fe(xp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function D0(r,e,n){const s=Se(r);let o=Te.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,b){const T=Se(p),A=T.xs.get(b);return A!==void 0?ie.resolve(T.Ms.get(A)):T.Pi.getTargetData(g,b)})(s,h,ki(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Te.min(),n?u:Ue()))).next((m=>(q2(s,CR(e),m),{documents:m,Qs:u})))))}function q2(r,e,n){let s=r.Os.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class O0{constructor(){this.activeTargetIds=kR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F2{constructor(){this.Mo=new O0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new O0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="ConnectivityMonitor";class k0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(M0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(M0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function Km(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="RestConnection",G2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Km(),m=this.zo(e,n.toUriEncodedString());fe(vm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),b=_o(g);return this.Jo(e,m,p,s,b).then((T=>(fe(vm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw co(vm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Eo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=G2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class Q2 extends Y2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Km();return new Promise(((m,p)=>{const g=new KE;g.setWithCredentials(!0),g.listenOnce(QE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case oh.NO_ERROR:const T=g.getResponseJson();fe(tn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case oh.TIMEOUT:fe(tn,`RPC '${e}' ${h} timed out`),p(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const A=g.getStatus();if(fe(tn,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const Y=O==null?void 0:O.error;if(Y&&Y.status&&Y.message){const z=(function(W){const Q=W.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Q)>=0?Q:ee.UNKNOWN})(Y.status);p(new ce(z,Y.message))}else p(new ce(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(tn,`RPC '${e}' ${h} completed.`)}}));const b=JSON.stringify(o);fe(tn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",b,s,15)}))}T_(e,n,s){const o=Km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=WE(),m=XE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const b=u.join("");fe(tn,`Creating RPC '${e}' stream ${o}: ${b}`,p);const T=h.createWebChannel(b,p);this.I_(T);let A=!1,O=!1;const Y=new K2({Yo:L=>{O?fe(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(A||(fe(tn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),fe(tn,`RPC '${e}' stream ${o} sending:`,L),T.send(L))},Zo:()=>T.close()}),z=(L,W,Q)=>{L.listen(W,(G=>{try{Q(G)}catch(re){setTimeout((()=>{throw re}),0)}}))};return z(T,jl.EventType.OPEN,(()=>{O||(fe(tn,`RPC '${e}' stream ${o} transport opened.`),Y.o_())})),z(T,jl.EventType.CLOSE,(()=>{O||(O=!0,fe(tn,`RPC '${e}' stream ${o} transport closed`),Y.a_(),this.E_(T))})),z(T,jl.EventType.ERROR,(L=>{O||(O=!0,co(tn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),Y.a_(new ce(ee.UNAVAILABLE,"The operation could not be completed")))})),z(T,jl.EventType.MESSAGE,(L=>{var W;if(!O){const Q=L.data[0];Qe(!!Q,16349);const G=Q,re=(G==null?void 0:G.error)||((W=G[0])==null?void 0:W.error);if(re){fe(tn,`RPC '${e}' stream ${o} received error:`,re);const ue=re.status;let me=(function(C){const M=Ot[C];if(M!==void 0)return Mb(M)})(ue),x=re.message;me===void 0&&(me=ee.INTERNAL,x="Unknown error status: "+ue+" with message "+re.message),O=!0,Y.a_(new ce(me,x)),T.close()}else fe(tn,`RPC '${e}' stream ${o} received:`,Q),Y.u_(Q)}})),z(m,$E.STAT_EVENT,(L=>{L.stat===km.PROXY?fe(tn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===km.NOPROXY&&fe(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(r){return new JR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="PersistentStream";class Qb{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Kb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(V0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(V0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $2 extends Qb{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=t2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Vi(h.readTime):Te.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Gm(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Um(p)?{documents:r2(u,p)}:{query:s2(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Pb(u,h.resumeToken);const g=qm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Te.min())>0){m.readTime=Ah(u,h.snapshotVersion.toTimestamp());const g=qm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=o2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Gm(this.serializer),n.removeTarget=e,this.q_(n)}}class X2 extends Qb{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=i2(e.writeResults,e.commitTime),s=Vi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Gm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>n2(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{}class J2 extends W2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Fm(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Fm(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(ee.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Z2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class eC{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{oa(this)&&(fe(ra,"Restarting streams for network reachability change."),await(async function(p){const g=Se(p);g.Ea.add(4),await pu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Qh(g)})(this))}))})),this.Ra=new Z2(s,o)}}async function Qh(r){if(oa(r))for(const e of r.da)await e(!0)}async function pu(r){for(const e of r.da)await e(!1)}function $b(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Np(n)?Ip(n):So(n).O_()&&Cp(n,e))}function Rp(r,e){const n=Se(r),s=So(n);n.Ia.delete(e),s.O_()&&Xb(n,e),n.Ia.size===0&&(s.O_()?s.L_():oa(n)&&n.Ra.set("Unknown"))}function Cp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(r).Y_(e)}function Xb(r,e){r.Va.Ue(e),So(r).Z_(e)}function Ip(r){r.Va=new QR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),So(r).start(),r.Ra.ua()}function Np(r){return oa(r)&&!So(r).x_()&&r.Ia.size>0}function oa(r){return Se(r).Ea.size===0}function Wb(r){r.Va=void 0}async function tC(r){r.Ra.set("Online")}async function nC(r){r.Ia.forEach(((e,n)=>{Cp(r,e)}))}async function iC(r,e){Wb(r),Np(r)?(r.Ra.ha(e),Ip(r)):r.Ra.set("Unknown")}async function rC(r,e,n){if(r.Ra.set("Online"),e instanceof Vb&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){fe(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Rh(r,s)}else if(e instanceof hh?r.Va.Ze(e):e instanceof kb?r.Va.st(e):r.Va.tt(e),!n.isEqual(Te.min()))try{const s=await Yb(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(Jt.EMPTY_BYTE_STRING,b.snapshotVersion)),Xb(u,p);const T=new ss(b.target,p,g,b.sequenceNumber);Cp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){fe(ra,"Failed to raise snapshot:",s),await Rh(r,s)}}async function Rh(r,e,n){if(!To(e))throw e;r.Ea.add(1),await pu(r),r.Ra.set("Offline"),n||(n=()=>Yb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{fe(ra,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Qh(r)}))}function Jb(r,e){return e().catch((n=>Rh(r,n,e)))}async function $h(r){const e=Se(r),n=ys(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fp;for(;sC(e);)try{const o=await z2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,aC(e,o)}catch(o){await Rh(e,o)}Zb(e)&&eT(e)}function sC(r){return oa(r)&&r.Ta.length<10}function aC(r,e){r.Ta.push(e);const n=ys(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Zb(r){return oa(r)&&!ys(r).x_()&&r.Ta.length>0}function eT(r){ys(r).start()}async function oC(r){ys(r).ra()}async function lC(r){const e=ys(r);for(const n of r.Ta)e.ea(n.mutations)}async function uC(r,e,n){const s=r.Ta.shift(),o=Ep.from(s,e,n);await Jb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await $h(r)}async function cC(r,e){e&&ys(r).X_&&await(async function(s,o){if((function(h){return GR(h)&&h!==ee.ABORTED})(o.code)){const u=s.Ta.shift();ys(s).B_(),await Jb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await $h(s)}})(r,e),Zb(r)&&eT(r)}async function P0(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),fe(ra,"RemoteStore received new credentials");const s=oa(n);n.Ea.add(3),await pu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qh(n)}async function hC(r,e){const n=Se(r);e?(n.Ea.delete(2),await Qh(n)):e||(n.Ea.add(2),await pu(n),n.Ra.set("Unknown"))}function So(r){return r.ma||(r.ma=(function(n,s,o){const u=Se(n);return u.sa(),new $2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:tC.bind(null,r),t_:nC.bind(null,r),r_:iC.bind(null,r),H_:rC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Np(r)?Ip(r):r.Ra.set("Unknown")):(await r.ma.stop(),Wb(r))}))),r.ma}function ys(r){return r.fa||(r.fa=(function(n,s,o){const u=Se(n);return u.sa(),new X2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:oC.bind(null,r),r_:cC.bind(null,r),ta:lC.bind(null,r),na:uC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await $h(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(ra,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Dp(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Op(r,e){if(dr("AsyncQueue",`${e}: ${r}`),To(r))return new ce(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ul(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.ga=new dt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class go{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new go(e,n,ro.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class dC{constructor(){this.queries=j0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=j0(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function j0(){return new aa((r=>vb(r)),qh)}async function tT(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new fC,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Op(h,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Mp(n)}async function nT(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function mC(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Mp(n)}function pC(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Mp(r){r.Ca.forEach((e=>{e.next()}))}var Qm,U0;(U0=Qm||(Qm={})).Ma="default",U0.Cache="cache";class iT{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.key=e}}class sT{constructor(e){this.key=e}}class gC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=Eb(e),this.tu=new ro(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new L0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,T)=>{const A=o.get(b),O=Fh(this.query,T)?T:null,Y=!!A&&this.mutatedKeys.has(A.key),z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;A&&O?A.data.isEqual(O.data)?Y!==z&&(s.track({type:3,doc:O}),L=!0):this.su(A,O)||(s.track({type:2,doc:O}),L=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!A&&O?(s.track({type:0,doc:O}),L=!0):A&&!O&&(s.track({type:1,doc:A}),L=!0,(p||g)&&(m=!0)),L&&(O?(h=h.add(O),u=z?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((b,T)=>(function(O,Y){const z=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:L})}};return z(O)-z(Y)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new go(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new sT(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new rT(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kp="SyncEngine";class yC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class _C{constructor(e){this.key=e,this.hu=!1}}class vC{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new aa((m=>vb(m)),qh),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ye.comparator),this.Au=new Map,this.Ru=new wp,this.Vu={},this.mu=new Map,this.fu=po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EC(r,e,n=!0){const s=hT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await aT(s,e,n,!0),o}async function bC(r,e){const n=hT(r);await aT(n,e,!0,!1)}async function aT(r,e,n,s){const o=await B2(r.localStore,ki(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await TC(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&$b(r.remoteStore,o),m}async function TC(r,e,n,s,o){r.pu=(T,A,O)=>(async function(z,L,W,Q){let G=L.view.ru(W);G.Cs&&(G=await D0(z.localStore,L.query,!1).then((({documents:x})=>L.view.ru(x,G))));const re=Q&&Q.targetChanges.get(L.targetId),ue=Q&&Q.targetMismatches.get(L.targetId)!=null,me=L.view.applyChanges(G,z.isPrimaryClient,re,ue);return B0(z,L.targetId,me.au),me.snapshot})(r,T,A,O);const u=await D0(r.localStore,e,!0),h=new gC(e,u.Qs),m=h.ru(u.documents),p=mu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);B0(r,n,g.au);const b=new yC(e,n,h);return r.Tu.set(e,b),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function wC(r,e,n){const s=Se(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!qh(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ym(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Rp(s.remoteStore,o.targetId),$m(s,o.targetId)})).catch(bo)):($m(s,o.targetId),await Ym(s.localStore,o.targetId,!0))}async function SC(r,e){const n=Se(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Rp(n.remoteStore,s.targetId))}async function AC(r,e,n){const s=OC(r);try{const o=await(function(h,m){const p=Se(h),g=lt.now(),b=m.reduce(((O,Y)=>O.add(Y.key)),Ue());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let Y=mr(),z=Ue();return p.Ns.getEntries(O,b).next((L=>{Y=L,Y.forEach(((W,Q)=>{Q.isValidDocument()||(z=z.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,Y))).next((L=>{T=L;const W=[];for(const Q of m){const G=zR(Q,T.get(Q.key).overlayedDocument);G!=null&&W.push(new Es(Q.key,G,hb(G.value.mapValue),Gn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,W,m)})).next((L=>{A=L;const W=L.applyToLocalDocumentSet(T,z);return p.documentOverlayCache.saveOverlays(O,L.batchId,W)}))})).then((()=>({batchId:A.batchId,changes:Tb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new dt(je)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await gu(s,o.changes),await $h(s.remoteStore)}catch(o){const u=Op(o,"Failed to persist write");n.reject(u)}}async function oT(r,e){const n=Se(r);try{const s=await j2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Qe(h.hu,14607):o.removedDocuments.size>0&&(Qe(h.hu,42227),h.hu=!1))})),await gu(n,s,e)}catch(s){await bo(s)}}function z0(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Se(h);p.onlineState=m;let g=!1;p.queries.forEach(((b,T)=>{for(const A of T.Sa)A.va(m)&&(g=!0)})),g&&Mp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function xC(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new dt(ye.comparator);h=h.insert(u,rn.newNoDocument(u,Te.min()));const m=Ue().add(u),p=new Yh(Te.min(),new Map,new dt(je),h,m);await oT(s,p),s.du=s.du.remove(u),s.Au.delete(e),Vp(s)}else await Ym(s.localStore,e,!1).then((()=>$m(s,e,n))).catch(bo)}async function RC(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await L2(n.localStore,e);uT(n,s,null),lT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gu(n,o)}catch(o){await bo(o)}}async function CC(r,e,n){const s=Se(r);try{const o=await(function(h,m){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Qe(T!==null,37113),b=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>p.localDocuments.getDocuments(g,b)))}))})(s.localStore,e);uT(s,e,n),lT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await gu(s,o)}catch(o){await bo(o)}}function lT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function uT(r,e,n){const s=Se(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function $m(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||cT(r,s)}))}function cT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Rp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Vp(r))}function B0(r,e,n){for(const s of n)s instanceof rT?(r.Ru.addReference(s.key,e),IC(r,s)):s instanceof sT?(fe(kp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||cT(r,s.key)):be(19791,{wu:s})}function IC(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(fe(kp,"New document in limbo: "+n),r.Eu.add(s),Vp(r))}function Vp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(rt.fromString(e)),s=r.fu.next();r.Au.set(s,new _C(n)),r.du=r.du.insert(n,s),$b(r.remoteStore,new ss(ki(yp(n.path)),s,"TargetPurposeLimboResolution",Uh.ce))}}async function gu(r,e,n){const s=Se(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{var b;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(b=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Ap.As(p.targetId,g);u.push(T)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const b=Se(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(g,(A=>ie.forEach(A.Es,(O=>b.persistence.referenceDelegate.addReference(T,A.targetId,O))).next((()=>ie.forEach(A.ds,(O=>b.persistence.referenceDelegate.removeReference(T,A.targetId,O)))))))))}catch(T){if(!To(T))throw T;fe(xp,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const O=b.Ms.get(A),Y=O.snapshotVersion,z=O.withLastLimboFreeSnapshotVersion(Y);b.Ms=b.Ms.insert(A,z)}}})(s.localStore,u))}async function NC(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){fe(kp,"User change. New user:",e.toKey());const s=await Gb(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ce(ee.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gu(n,s.Ls)}}function DC(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function hT(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=oT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xC.bind(null,e),e.Pu.H_=mC.bind(null,e.eventManager),e.Pu.yu=pC.bind(null,e.eventManager),e}function OC(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CC.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return P2(this.persistence,new M2,e.initialUser,this.serializer)}Cu(e){return new Hb(Sp.mi,this.serializer)}Du(e){return new F2}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class MC extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof xh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new Hb((s=>xh.mi(s,n)),this.serializer)}}class Xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>z0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=NC.bind(null,this.syncEngine),await hC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dC})()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),s=(function(u){return new Q2(u)})(e.databaseInfo);return(function(u,h,m,p){return new J2(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new eC(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>z0(this.syncEngine,n,0)),(function(){return k0.v()?new k0:new H2})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,b){const T=new vC(o,u,h,m,p,g);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Se(o);fe(ra,"RemoteStore shutting down."),u.Ea.add(5),await pu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="FirestoreClient";class kC{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{fe(_s,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(fe(_s,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Op(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function bm(r,e){r.asyncQueue.verifyOperationInProgress(),fe(_s,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Gb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function q0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await VC(r);fe(_s,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>P0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>P0(e.remoteStore,o))),r._onlineComponents=e}async function VC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(_s,"Using user provided OfflineComponentProvider");try{await bm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await bm(r,new Ch)}}else fe(_s,"Using default OfflineComponentProvider"),await bm(r,new MC(void 0));return r._offlineComponents}async function dT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(_s,"Using user provided OnlineComponentProvider"),await q0(r,r._uninitializedComponentsProvider._online)):(fe(_s,"Using default OnlineComponentProvider"),await q0(r,new Xm))),r._onlineComponents}function PC(r){return dT(r).then((e=>e.syncEngine))}async function mT(r){const e=await dT(r),n=e.eventManager;return n.onListen=EC.bind(null,e.syncEngine),n.onUnlisten=wC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SC.bind(null,e.syncEngine),n}function LC(r,e,n={}){const s=new cr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const b=new fT({next:A=>{b.Nu(),h.enqueueAndForget((()=>nT(u,T)));const O=A.docs.has(m);!O&&A.fromCache?g.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&p&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new iT(yp(m.path),b,{includeMetadataChanges:!0,qa:!0});return tT(u,T)})(await mT(r),r.asyncQueue,e,n,s))),s.promise}function jC(r,e,n={}){const s=new cr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const b=new fT({next:A=>{b.Nu(),h.enqueueAndForget((()=>nT(u,T))),A.fromCache&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new iT(m,b,{includeMetadataChanges:!0,qa:!0});return tT(u,T)})(await mT(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="firestore.googleapis.com",H0=!0;class G0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gT,this.ssl=H0}else this.host=e.host,this.ssl=e.ssl??H0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Fb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<g2)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Gx;switch(s.type){case"firstParty":return new $x(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=F0.get(n);s&&(fe("ComponentProvider","Removing Datastore"),F0.delete(n),s.terminate())})(this),Promise.resolve()}}function UC(r,e,n,s={}){var g;r=oi(r,Xh);const o=_o(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(jE(`https://${m}`),UE("Firestore",!0)),u.host!==gT&&u.host!==m&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ta(p,h)&&(r._setSettings(p),s.mockUserToken)){let b,T;if(typeof s.mockUserToken=="string")b=s.mockUserToken,T=nn.MOCK_USER;else{b=_A(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new nn(A)}r._authCredentials=new Yx(new ZE(b,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class Tt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(fu(n,Tt._jsonSchema))return new Tt(e,s||null,new ye(rt.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:kt("string",Tt._jsonSchemaVersion),referencePath:kt("string")};class cs extends la{constructor(e,n,s){super(e,n,yp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ye(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function Pp(r,e,...n){if(r=Ft(r),eb("collection","path",e),r instanceof Xh){const s=rt.fromString(e,...n);return r0(s),new cs(r,null,s)}{if(!(r instanceof Tt||r instanceof cs))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return r0(s),new cs(r.firestore,null,s)}}function hs(r,e,...n){if(r=Ft(r),arguments.length===1&&(e=hp.newId()),eb("doc","path",e),r instanceof Xh){const s=rt.fromString(e,...n);return i0(s),new Tt(r,null,new ye(s))}{if(!(r instanceof Tt||r instanceof cs))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return i0(s),new Tt(r.firestore,r instanceof cs?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="AsyncQueue";class K0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Kb(this,"async_queue_retry"),this._c=()=>{const s=Em();s&&fe(Y0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;fe(Y0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",Q0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Dp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:Q0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Q0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ua extends Xh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new K0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K0(e),this._firestoreClient=void 0,await e}}}function zC(r,e){const n=typeof r=="object"?r:FE(),s=typeof r=="string"?r:Th,o=up(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=gA("firestore");u&&UC(o,...u)}return o}function Lp(r){if(r._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||BC(r),r._firestoreClient}function BC(r){var s,o,u;const e=r._freezeSettings(),n=(function(m,p,g,b){return new fR(m,p,g,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,pT(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new kC(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Jt.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:kt("string",Hn._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(fu(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:kt("string",Pi._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Li(e.vectorValues);throw new ce(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:kt("string",Li._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=/^__.*__$/;class FC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class yT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _T(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class jp{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_T(this.Ac)&&qC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Kh(e)}Cc(e,n,s,o=!1){return new jp({Ac:e,methodName:n,Dc:s,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jh(r){const e=r._freezeSettings(),n=Kh(r._databaseId);return new HC(r._databaseId,!!e.ignoreUndefinedProperties,n)}function vT(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Bp("Data must be an object, but it was:",h,s);const m=ET(s,h);let p,g;if(u.merge)p=new Cn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const A=Wm(e,T,n);if(!h.contains(A))throw new ce(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);TT(b,A)||b.push(A)}p=new Cn(b),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new FC(new yn(m),p,g)}class Zh extends yu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}class Up extends yu{_toFieldTransform(e){return new Nb(e.path,new nu)}isEqual(e){return e instanceof Up}}class zp extends yu{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new su(e.serializer,Ab(e.serializer,this.Fc));return new Nb(e.path,n)}isEqual(e){return e instanceof zp&&this.Fc===e.Fc}}function GC(r,e,n,s){const o=r.Cc(1,e,n);Bp("Data must be an object, but it was:",o,s);const u=[],h=yn.empty();vs(s,((p,g)=>{const b=qp(e,p,n);g=Ft(g);const T=o.yc(b);if(g instanceof Zh)u.push(b);else{const A=_u(g,T);A!=null&&(u.push(b),h.set(b,A))}}));const m=new Cn(u);return new yT(h,m,o.fieldTransforms)}function YC(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[Wm(e,s,n)],p=[o];if(u.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Wm(e,u[A])),p.push(u[A+1]);const g=[],b=yn.empty();for(let A=m.length-1;A>=0;--A)if(!TT(g,m[A])){const O=m[A];let Y=p[A];Y=Ft(Y);const z=h.yc(O);if(Y instanceof Zh)g.push(O);else{const L=_u(Y,z);L!=null&&(g.push(O),b.set(O,L))}}const T=new Cn(g);return new yT(b,T,h.fieldTransforms)}function KC(r,e,n,s=!1){return _u(n,r.Cc(s?4:3,e))}function _u(r,e){if(bT(r=Ft(r)))return Bp("Unsupported field value:",e,r),ET(r,e);if(r instanceof yu)return(function(s,o){if(!_T(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=_u(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Ab(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=lt.fromDate(s);return{timestampValue:Ah(o.serializer,u)}}if(s instanceof lt){const u=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,u)}}if(s instanceof Pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:Pb(o.serializer,s._byteString)};if(s instanceof Tt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Tp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Li)return(function(h,m){return{mapValue:{fields:{[ub]:{stringValue:cb},[wh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return _p(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${jh(s)}`)})(r,e)}function ET(r,e){const n={};return ib(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(r,((s,o)=>{const u=_u(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function bT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof lt||r instanceof Pi||r instanceof Hn||r instanceof Tt||r instanceof yu||r instanceof Li)}function Bp(r,e,n){if(!bT(n)||!tb(n)){const s=jh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Wm(r,e,n){if((e=Ft(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return qp(r,e);throw Ih("Field path arguments must be of type string or ",r,!1,void 0,n)}const QC=new RegExp("[~\\*/\\[\\]]");function qp(r,e,n){if(e.search(QC)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ih(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ce(ee.INVALID_ARGUMENT,m+r+p)}function TT(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $C extends wT{data(){return super.data()}}function Fp(r,e){return typeof e=="string"?qp(r,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hp{}class ST extends Hp{}function WC(r,e,...n){let s=[];e instanceof Hp&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Yp)).length,m=u.filter((p=>p instanceof Gp)).length;if(h>1||h>0&&m>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Gp extends ST{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Gp(e,n,s)}_apply(e){const n=this._parse(e);return AT(e._query,n),new la(e.firestore,e.converter,zm(e._query,n))}_parse(e){const n=Jh(e.firestore);return(function(u,h,m,p,g,b,T){let A;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){X0(T,b);const Y=[];for(const z of T)Y.push($0(p,u,z));A={arrayValue:{values:Y}}}else A=$0(p,u,T)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||X0(T,b),A=KC(m,h,T,b==="in"||b==="not-in");return Mt.create(g,b,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Yp extends Hp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)AT(h,p),h=zm(h,p)})(e._query,n),new la(e.firestore,e.converter,zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kp extends ST{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Kp(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(u,h)})(e._query,this._field,this._direction);return new la(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new wo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function JC(r,e="asc"){const n=e,s=Fp("orderBy",r);return Kp._create(s,n)}function $0(r,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_b(e)&&n.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ye.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return f0(r,new ye(s))}if(n instanceof Tt)return f0(r,n._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(n)}.`)}function X0(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AT(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZC{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return vs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[wh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((h=>bt(h.doubleValue)));return new Li(n)}convertGeoPoint(e){return new Pi(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Bh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=ms(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Qe(qb(s),9688,{name:e});const o=new Zl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends wT{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Fp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:kt("string",ea._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class fh extends ea{data(e={}){return super.data(e)}}class so{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new fh(this._firestore,this._userDataWriter,s.key,s,new Bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),b=h.indexOf(m.doc.key)),{type:eI(m.type),doc:p,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=so._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(r){r=oi(r,Tt);const e=oi(r.firestore,ua);return LC(Lp(e),r._key).then((n=>rI(e,r,n)))}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:kt("string",so._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class RT extends ZC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function tI(r){r=oi(r,la);const e=oi(r.firestore,ua),n=Lp(e),s=new RT(e);return XC(r._query),jC(n,r._query).then((o=>new so(e,s,r,o)))}function nI(r,e,n){r=oi(r,Tt);const s=oi(r.firestore,ua),o=xT(r.converter,e);return ef(s,[vT(Jh(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Gn.none())])}function CT(r,e,n,...s){r=oi(r,Tt);const o=oi(r.firestore,ua),u=Jh(o);let h;return h=typeof(e=Ft(e))=="string"||e instanceof Wh?YC(u,"updateDoc",r._key,e,n,s):GC(u,"updateDoc",r._key,e),ef(o,[h.toMutation(r._key,Gn.exists(!0))])}function iI(r){return ef(oi(r.firestore,ua),[new vp(r._key,Gn.none())])}function IT(r,e){const n=oi(r.firestore,ua),s=hs(r),o=xT(r.converter,e);return ef(n,[vT(Jh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then((()=>s))}function ef(r,e){return(function(s,o){const u=new cr;return s.asyncQueue.enqueueAndForget((async()=>AC(await PC(s),o,u))),u.promise})(Lp(r),e)}function rI(r,e,n){const s=n.docs.get(e._key),o=new RT(r);return new ea(r,o,e._key,s,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}function sI(){return new Up("serverTimestamp")}function aI(r){return new zp("increment",r)}(function(e,n=!0){(function(o){Eo=o})(vo),uo(new na("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ua(new Kx(s.getProvider("auth-internal")),new Xx(h,s.getProvider("app-check-internal")),(function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,b)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ls(Zv,e0,e),ls(Zv,e0,"esm2020")})();function NT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oI=NT,DT=new cu("auth","Firebase",NT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new op("@firebase/auth");function lI(r,...e){Nh.logLevel<=Le.WARN&&Nh.warn(`Auth (${vo}): ${r}`,...e)}function dh(r,...e){Nh.logLevel<=Le.ERROR&&Nh.error(`Auth (${vo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(r,...e){throw Qp(r,...e)}function ji(r,...e){return Qp(r,...e)}function OT(r,e,n){const s={...oI(),[e]:n};return new cu("auth","Firebase",s).create(e,{appName:r.name})}function fs(r){return OT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return DT.create(r,...e)}function Ee(r,e,...n){if(!r)throw Qp(e,...n)}function lr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw dh(e),new Error(e)}function pr(r,e){r||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function uI(){return W0()==="http:"||W0()==="https:"}function W0(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uI()||SA()||"connection"in navigator)?navigator.onLine:!0}function hI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=bA()||AA()}get(){return cI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(r,e){pr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mI=new vu(3e4,6e4);function ca(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function bs(r,e,n,s,o={}){return kT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=hu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return wA()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&_o(r.emulatorConfig.host)&&(g.credentials="include"),MT.fetch()(await VT(r,r.config.apiHost,n,m),g)})}async function kT(r,e,n){r._canInitEmulator=!1;const s={...fI,...e};try{const o=new gI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw sh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw sh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw sh(r,"user-disabled",h);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw OT(r,b,g);ui(r,b)}}catch(o){if(o instanceof yr)throw o;ui(r,"network-request-failed",{message:String(o)})}}async function tf(r,e,n,s,o={}){const u=await bs(r,e,n,s,o);return"mfaPendingCredential"in u&&ui(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function VT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?$p(r.config,o):`${r.config.apiScheme}://${o}`;return dI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function pI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ji(this.auth,"network-request-failed")),mI.get())})}}function sh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ji(r,e,s);return o.customData._tokenResponse=n,o}function J0(r){return r!==void 0&&r.enterprise!==void 0}class yI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _I(r,e){return bs(r,"GET","/v2/recaptchaConfig",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(r,e){return bs(r,"POST","/v1/accounts:delete",e)}async function Dh(r,e){return bs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EI(r,e=!1){const n=Ft(r),s=await n.getIdToken(e),o=Xp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Kl(Tm(o.auth_time)),issuedAtTime:Kl(Tm(o.iat)),expirationTime:Kl(Tm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Tm(r){return Number(r)*1e3}function Xp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=kE(n);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Z0(r){const e=Xp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof yr&&bI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function bI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(r){var T;const e=r.auth,n=await r.getIdToken(),s=await au(r,Dh(e,{idToken:n}));Ee(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?PT(o.providerUserInfo):[],h=SI(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(h!=null&&h.length),g=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,b)}async function wI(r){const e=Ft(r);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function PT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(r,e){const n=await kT(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await VT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&_o(r.emulatorConfig.host)&&(p.credentials="include"),MT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xI(r,e){return bs(r,"POST","/v2/accounts:revokeToken",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Z0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await AI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new ao;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new TI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EI(this,e)}reload(){return wI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(fs(this.auth));const e=await this.getIdToken();return await au(this,vI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:O,providerData:Y,stsTokenManager:z}=n;Ee(T&&z,e,"internal-error");const L=ao.fromJSON(this.name,z);Ee(typeof T=="string",e,"internal-error"),es(s,e.name),es(o,e.name),Ee(typeof A=="boolean",e,"internal-error"),Ee(typeof O=="boolean",e,"internal-error"),es(u,e.name),es(h,e.name),es(m,e.name),es(p,e.name),es(g,e.name),es(b,e.name);const W=new ai({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:g,lastLoginAt:b});return Y&&Array.isArray(Y)&&(W.providerData=Y.map(Q=>({...Q}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,n,s=!1){const o=new ao;o.updateFromServerResponse(n);const u=new ai({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?PT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ao;m.updateFromIdToken(s);const p=new ai({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;function ur(r){pr(r instanceof Function,"Expected a class definition");let e=eE.get(r);return e?(pr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,eE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LT.type="NONE";const tE=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(r,e,n){return`firebase:${r}:${e}:${n}`}class oo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=mh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dh(this.auth,{idToken:e}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new oo(ur(tE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ur(tE);const h=mh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const b=await g._get(h);if(b){let T;if(typeof b=="string"){const A=await Dh(e,{idToken:b}).catch(()=>{});if(!A)break;T=await ai._fromGetAccountInfoResponse(e,A,b)}else T=ai._fromJSON(e,b);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new oo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new oo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FT(e))return"Blackberry";if(HT(e))return"Webos";if(UT(e))return"Safari";if((e.includes("chrome/")||zT(e))&&!e.includes("edge/"))return"Chrome";if(qT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function jT(r=sn()){return/firefox\//i.test(r)}function UT(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zT(r=sn()){return/crios\//i.test(r)}function BT(r=sn()){return/iemobile/i.test(r)}function qT(r=sn()){return/android/i.test(r)}function FT(r=sn()){return/blackberry/i.test(r)}function HT(r=sn()){return/webos/i.test(r)}function Wp(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function RI(r=sn()){var e;return Wp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function CI(){return xA()&&document.documentMode===10}function GT(r=sn()){return Wp(r)||qT(r)||HT(r)||FT(r)||/windows phone/i.test(r)||BT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(r,e=[]){let n;switch(r){case"Browser":n=nE(sn());break;case"Worker":n=`${nE(sn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(r,e={}){return bs(r,"GET","/v2/passwordPolicy",ca(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=6;class OI{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iE(this),this.idTokenSubscription=new iE(this),this.beforeStateQueue=new II(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dh(this,{idToken:e}),s=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(si(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(fs(this));const n=e?Ft(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NI(this),n=new OI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await xI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&lI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ao(r){return Ft(r)}class iE{constructor(e){this.auth=e,this.observer=null,this.addObserver=kA(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kI(r){nf=r}function KT(r){return nf.loadJS(r)}function VI(){return nf.recaptchaEnterpriseScript}function PI(){return nf.gapiScript}function LI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class jI{constructor(){this.enterprise=new UI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class UI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zI="recaptcha-enterprise",QT="NO_RECAPTCHA";class BI{constructor(e){this.type=zI,this.auth=Ao(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{_I(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new yI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;J0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(QT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&J0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=VI();p.length!==0&&(p+=m),KT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function rE(r,e,n,s=!1,o=!1){const u=new BI(r);let h;if(o)h=QT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function sE(r,e,n,s,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await rE(r,e,n,n==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await rE(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(r,e){const n=up(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ta(u,e??{}))return o;ui(o,"already-initialized")}return n.initialize({options:e})}function FI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ur);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function HI(r,e,n){const s=Ao(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=$T(e),{host:h,port:m}=GI(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},b=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ta(g,s.config.emulator)&&ta(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,_o(h)?(jE(`${u}//${h}${p}`),UE("Auth",!0)):YI()}function $T(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function GI(r){const e=$T(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:aE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:aE(h)}}}function aE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function YI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function KI(r,e){return bs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(r,e){return tf(r,"POST","/v1/accounts:signInWithPassword",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(r,e){return tf(r,"POST","/v1/accounts:signInWithEmailLink",ca(r,e))}async function XI(r,e){return tf(r,"POST","/v1/accounts:signInWithEmailLink",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Jp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ou(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ou(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sE(e,n,"signInWithPassword",QI);case"emailLink":return $I(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sE(e,s,"signUpPassword",KI);case"emailLink":return XI(e,{idToken:n,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(r,e){return tf(r,"POST","/v1/accounts:signInWithIdp",ca(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="http://localhost";class sa extends Jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new sa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:WI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZI(r){const e=Pl(Ll(r)).link,n=e?Pl(Ll(e)).deep_link_id:null,s=Pl(Ll(r)).deep_link_id;return(s?Pl(Ll(s)).link:null)||s||n||e||r}class Zp{constructor(e){const n=Pl(Ll(e)),s=n.apiKey??null,o=n.oobCode??null,u=JI(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ZI(e);try{return new Zp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return ou._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Zp.parseLink(n);return Ee(s,"argument-error"),ou._fromEmailAndCode(e,s.code,s.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends XT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Eu{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Eu{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Eu{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ai._fromIdTokenResponse(e,s,o),h=oE(s);return new yo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=oE(s);return new yo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function oE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends yr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Mh(e,n,s,o)}}function WT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(r,u,e,s):u})}async function eN(r,e,n=!1){const s=await au(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return yo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(r,e,n=!1){const{auth:s}=r;if(si(s.app))return Promise.reject(fs(s));const o="reauthenticate";try{const u=await au(r,WT(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const h=Xp(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(r.uid===m,s,"user-mismatch"),yo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ui(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JT(r,e,n=!1){if(si(r.app))return Promise.reject(fs(r));const s="signIn",o=await WT(r,s,e),u=await yo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function nN(r,e){return JT(Ao(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(r){const e=Ao(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function rN(r,e,n){return si(r.app)?Promise.reject(fs(r)):nN(Ft(r),xo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&iN(r),s})}function sN(r,e,n,s){return Ft(r).onIdTokenChanged(e,n,s)}function aN(r,e,n){return Ft(r).beforeAuthStateChanged(e,n)}function oN(r,e,n,s){return Ft(r).onAuthStateChanged(e,n,s)}function lN(r){return Ft(r).signOut()}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=1e3,cN=10;class ew extends ZT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);CI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},uN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ew.type="LOCAL";const hN=ew;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw extends ZT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tw.type="SESSION";const nw=tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new rf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await fN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=eg("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function mN(r){Ui().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function pN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function yN(){return iw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="firebaseLocalStorageDb",_N=1,Vh="firebaseLocalStorage",sw="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(r,e){return r.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function vN(){const r=indexedDB.deleteDatabase(rw);return new bu(r).toPromise()}function tp(){const r=indexedDB.open(rw,_N);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Vh,{keyPath:sw})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Vh)?e(s):(s.close(),await vN(),e(await tp()))})})}async function lE(r,e,n){const s=sf(r,!0).put({[sw]:e,value:n});return new bu(s).toPromise()}async function EN(r,e){const n=sf(r,!1).get(e),s=await new bu(n).toPromise();return s===void 0?null:s.value}function uE(r,e){const n=sf(r,!0).delete(e);return new bu(n).toPromise()}const bN=800,TN=3;class aw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>TN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(yN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await pN(),!this.activeServiceWorker)return;this.sender=new dN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await lE(e,kh,"1"),await uE(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>lE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>EN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=sf(o,!1).getAll();return new bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aw.type="LOCAL";const wN=aw;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(r,e){return e?ur(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends Jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AN(r){return JT(r.auth,new tg(r),r.bypassAuthState)}function xN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),tN(n,new tg(r),r.bypassAuthState)}async function RN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),eN(n,new tg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AN;case"linkViaPopup":case"linkViaRedirect":return RN;case"reauthViaPopup":case"reauthViaRedirect":return xN;default:ui(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new vu(2e3,1e4);class io extends ow{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CN.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="pendingRedirect",ph=new Map;class NN extends ow{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await DN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DN(r,e){const n=kN(e),s=MN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ON(r,e){ph.set(r._key(),e)}function MN(r){return ur(r._redirectPersistence)}function kN(r){return mh(IN,r.config.apiKey,r.name)}async function VN(r,e,n=!1){if(si(r.app))return Promise.reject(fs(r));const s=Ao(r),o=SN(s,e),h=await new NN(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=600*1e3;class LN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!lw(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(ji(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PN&&this.cachedEventUids.clear(),this.cachedEventUids.has(cE(e))}saveEventToCache(e){this.cachedEventUids.add(cE(e)),this.lastProcessedEventTime=Date.now()}}function cE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function lw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(r,e={}){return bs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BN=/^https?/;async function qN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await UN(r);for(const n of e)try{if(FN(n))return}catch{}ui(r,"unauthorized-domain")}function FN(r){const e=Zm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!BN.test(n))return!1;if(zN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=new vu(3e4,6e4);function hE(){const r=Ui().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function GN(r){return new Promise((e,n)=>{var o,u,h;function s(){hE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hE(),n(ji(r,"network-request-failed"))},timeout:HN.get()})}if((u=(o=Ui().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((h=Ui().gapi)!=null&&h.load)s();else{const m=LI("iframefcb");return Ui()[m]=()=>{gapi.load?s():n(ji(r,"network-request-failed"))},KT(`${PI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw gh=null,e})}let gh=null;function YN(r){return gh=gh||GN(r),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=new vu(5e3,15e3),QN="__/auth/iframe",$N="emulator/auth/iframe",XN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JN(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?$p(e,$N):`https://${r.config.authDomain}/${QN}`,s={apiKey:e.apiKey,appName:r.name,v:vo},o=WN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function ZN(r){const e=await YN(r),n=Ui().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:JN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ji(r,"network-request-failed"),m=Ui().setTimeout(()=>{u(h)},KN.get());function p(){Ui().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tD=500,nD=600,iD="_blank",rD="http://localhost";class fE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sD(r,e,n,s=tD,o=nD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...eD,width:s.toString(),height:o.toString(),top:u,left:h},g=sn().toLowerCase();n&&(m=zT(g)?iD:n),jT(g)&&(e=e||rD,p.scrollbars="yes");const b=Object.entries(p).reduce((A,[O,Y])=>`${A}${O}=${Y},`,"");if(RI(g)&&m!=="_self")return aD(e||"",m),new fE(null);const T=window.open(e||"",m,b);Ee(T,r,"popup-blocked");try{T.focus()}catch{}return new fE(T)}function aD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="__/auth/handler",lD="emulator/auth/handler",uD=encodeURIComponent("fac");async function dE(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:vo,eventId:o};if(e instanceof XT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",MA(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))h[b]=T}if(e instanceof Eu){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(h.scopes=b.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await r._getAppCheckToken(),g=p?`#${uD}=${encodeURIComponent(p)}`:"";return`${cD(r)}?${hu(m).slice(1)}${g}`}function cD({config:r}){return r.emulator?$p(r,lD):`https://${r.authDomain}/${oD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="webStorageSupport";class hD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nw,this._completeRedirectFn=VN,this._overrideRedirectResult=ON}async _openPopup(e,n,s,o){var h;pr((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await dE(e,n,s,Zm(),o);return sD(e,u,eg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await dE(e,n,s,Zm(),o);return mN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ZN(e),s=new LN(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[wm];u!==void 0&&n(!!u),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GT()||UT()||Wp()}}const fD=hD;var mE="@firebase/auth",pE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pD(r){uo(new na("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YT(r)},g=new MI(s,o,u,p);return FI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),uo(new na("auth-internal",e=>{const n=Ao(e.getProvider("auth").getImmediate());return(s=>new dD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(mE,pE,mD(r)),ls(mE,pE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=300,yD=LE("authIdTokenMaxAge")||gD;let gE=null;const _D=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>yD)return;const o=n==null?void 0:n.token;gE!==o&&(gE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vD(r=FE()){const e=up(r,"auth");if(e.isInitialized())return e.getImmediate();const n=qI(r,{popupRedirectResolver:fD,persistence:[wN,hN,nw]}),s=LE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=_D(u.toString());aN(n,h,()=>h(n.currentUser)),sN(n,m=>h(m))}}const o=VE("auth");return o&&HI(n,`http://${o}`),n}function ED(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}kI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ji("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",ED().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pD("Browser");function uw(r,e,n){return Math.max(r,Math.min(e,n))}class bD{advance(e){var m;if(!this.isRunning)return;let n=!1;if(this.lerp)this.value=(s=this.value,o=this.to,u=60*this.lerp,h=e,(function(p,g,b){return(1-b)*p+b*g})(s,o,1-Math.exp(-u*h))),Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=e;const p=uw(0,this.currentTime/this.duration,1);n=p>=1;const g=n?1:this.easing(p);this.value=this.from+(this.to-this.from)*g}var s,o,u,h;(m=this.onUpdate)==null||m.call(this,this.value,n),n&&this.stop()}stop(){this.isRunning=!1}fromTo(e,n,{lerp:s=.1,duration:o=1,easing:u=(p=>p),onStart:h,onUpdate:m}){this.from=this.value=e,this.to=n,this.lerp=s,this.duration=o,this.easing=u,this.currentTime=0,this.isRunning=!0,h==null||h(),this.onUpdate=m}}class TD{constructor({wrapper:e,content:n,autoResize:s=!0,debounce:o=250}={}){or(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});or(this,"onWrapperResize",()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});or(this,"onContentResize",()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=e,this.content=n,s&&(this.debouncedResize=(function(u,h){let m;return function(){let p=arguments,g=this;clearTimeout(m),m=setTimeout((function(){u.apply(g,p)}),h)}})(this.resize,o),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var e,n;(e=this.wrapperResizeObserver)==null||e.disconnect(),(n=this.contentResizeObserver)==null||n.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class cw{constructor(){this.events={}}emit(e,...n){let s=this.events[e]||[];for(let o=0,u=s.length;o<u;o++)s[o](...n)}on(e,n){var s;return(s=this.events[e])!=null&&s.push(n)||(this.events[e]=[n]),()=>{var o;this.events[e]=(o=this.events[e])==null?void 0:o.filter((u=>n!==u))}}off(e,n){var s;this.events[e]=(s=this.events[e])==null?void 0:s.filter((o=>n!==o))}destroy(){this.events={}}}const yE=100/6;class wD{constructor(e,{wheelMultiplier:n=1,touchMultiplier:s=1}){or(this,"onTouchStart",e=>{const{clientX:n,clientY:s}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=n,this.touchStart.y=s,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})});or(this,"onTouchMove",e=>{const{clientX:n,clientY:s}=e.targetTouches?e.targetTouches[0]:e,o=-(n-this.touchStart.x)*this.touchMultiplier,u=-(s-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=n,this.touchStart.y=s,this.lastDelta={x:o,y:u},this.emitter.emit("scroll",{deltaX:o,deltaY:u,event:e})});or(this,"onTouchEnd",e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})});or(this,"onWheel",e=>{let{deltaX:n,deltaY:s,deltaMode:o}=e;n*=o===1?yE:o===2?this.windowWidth:1,s*=o===1?yE:o===2?this.windowHeight:1,n*=this.wheelMultiplier,s*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:n,deltaY:s,event:e})});or(this,"onWindowResize",()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight});this.element=e,this.wheelMultiplier=n,this.touchMultiplier=s,this.touchStart={x:null,y:null},this.emitter=new cw,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(e,n){return this.emitter.on(e,n)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class SD{constructor({wrapper:e=window,content:n=document.documentElement,wheelEventsTarget:s=e,eventsTarget:o=s,smoothWheel:u=!0,syncTouch:h=!1,syncTouchLerp:m=.075,touchInertiaMultiplier:p=35,duration:g,easing:b=(G=>Math.min(1,1.001-Math.pow(2,-10*G))),lerp:T=!g&&.1,infinite:A=!1,orientation:O="vertical",gestureOrientation:Y="vertical",touchMultiplier:z=1,wheelMultiplier:L=1,autoResize:W=!0,__experimental__naiveDimensions:Q=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:G,deltaY:re,event:ue})=>{if(ue.ctrlKey)return;const me=ue.type.includes("touch"),x=ue.type.includes("wheel");if(this.options.syncTouch&&me&&ue.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const R=G===0&&re===0,C=this.options.gestureOrientation==="vertical"&&re===0||this.options.gestureOrientation==="horizontal"&&G===0;if(R||C)return;let M=ue.composedPath();if(M=M.slice(0,M.indexOf(this.rootElement)),M.find((Me=>{var st,X,ae,oe,Ie;return((st=Me.hasAttribute)===null||st===void 0?void 0:st.call(Me,"data-lenis-prevent"))||me&&((X=Me.hasAttribute)===null||X===void 0?void 0:X.call(Me,"data-lenis-prevent-touch"))||x&&((ae=Me.hasAttribute)===null||ae===void 0?void 0:ae.call(Me,"data-lenis-prevent-wheel"))||((oe=Me.classList)===null||oe===void 0?void 0:oe.contains("lenis"))&&!(!((Ie=Me.classList)===null||Ie===void 0)&&Ie.contains("lenis-stopped"))})))return;if(this.isStopped||this.isLocked)return void ue.preventDefault();if(this.isSmooth=this.options.syncTouch&&me||this.options.smoothWheel&&x,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();ue.preventDefault();let D=re;this.options.gestureOrientation==="both"?D=Math.abs(re)>Math.abs(G)?re:G:this.options.gestureOrientation==="horizontal"&&(D=G);const U=me&&this.options.syncTouch,I=me&&ue.type==="touchend"&&Math.abs(D)>5;I&&(D=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+D,Object.assign({programmatic:!1},U?{lerp:I?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const G=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-G),this.emit()}},window.lenisVersion="1.0.42",e!==document.documentElement&&e!==document.body||(e=window),this.options={wrapper:e,content:n,wheelEventsTarget:s,eventsTarget:o,smoothWheel:u,syncTouch:h,syncTouchLerp:m,touchInertiaMultiplier:p,duration:g,easing:b,lerp:T,infinite:A,gestureOrientation:Y,orientation:O,touchMultiplier:z,wheelMultiplier:L,autoResize:W,__experimental__naiveDimensions:Q},this.animate=new bD,this.emitter=new cw,this.dimensions=new TD({wrapper:e,content:n,autoResize:W}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=h||u,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new wD(o,{touchMultiplier:z,wheelMultiplier:L}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(e,n){return this.emitter.on(e,n)}off(e,n){return this.emitter.off(e,n)}setScroll(e){this.isHorizontal?this.rootElement.scrollLeft=e:this.rootElement.scrollTop=e}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(e){const n=e-(this.time||e);this.time=e,this.animate.advance(.001*n)}scrollTo(e,{offset:n=0,immediate:s=!1,lock:o=!1,duration:u=this.options.duration,easing:h=this.options.easing,lerp:m=!u&&this.options.lerp,onComplete:p,force:g=!1,programmatic:b=!0}={}){if(!this.isStopped&&!this.isLocked||g){if(["top","left","start"].includes(e))e=0;else if(["bottom","right","end"].includes(e))e=this.limit;else{let T;if(typeof e=="string"?T=document.querySelector(e):e!=null&&e.nodeType&&(T=e),T){if(this.options.wrapper!==window){const O=this.options.wrapper.getBoundingClientRect();n-=this.isHorizontal?O.left:O.top}const A=T.getBoundingClientRect();e=(this.isHorizontal?A.left:A.top)+this.animatedScroll}}if(typeof e=="number"){if(e+=n,e=Math.round(e),this.options.infinite?b&&(this.targetScroll=this.animatedScroll=this.scroll):e=uw(0,e,this.limit),s)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),void(p==null||p(this));if(!b){if(e===this.targetScroll)return;this.targetScroll=e}this.animate.fromTo(this.animatedScroll,e,{duration:u,easing:h,lerp:m,onStart:()=>{o&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(T,A)=>{this.isScrolling=!0,this.velocity=T-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=T,this.setScroll(this.scroll),b&&(this.targetScroll=T),A||this.emit(),A&&(this.reset(),this.emit(),p==null||p(this),this.__preventNextScrollEvent=!0,requestAnimationFrame((()=>{delete this.__preventNextScrollEvent})))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,n=this.limit,(e%n+n)%n):this.animatedScroll;var e,n}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(e){this.__isSmooth!==e&&(this.__isSmooth=e,this.toggleClassName("lenis-smooth",e))}get isScrolling(){return this.__isScrolling}set isScrolling(e){this.__isScrolling!==e&&(this.__isScrolling=e,this.toggleClassName("lenis-scrolling",e))}get isStopped(){return this.__isStopped}set isStopped(e){this.__isStopped!==e&&(this.__isStopped=e,this.toggleClassName("lenis-stopped",e))}get isLocked(){return this.__isLocked}set isLocked(e){this.__isLocked!==e&&(this.__isLocked=e,this.toggleClassName("lenis-locked",e))}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),this.isSmooth&&(e+=" lenis-smooth"),e}toggleClassName(e,n){this.rootElement.classList.toggle(e,n),this.emitter.emit("className change",this)}}/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _E="popstate";function AD(r={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=ha(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),np("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:lu(u))}function s(o,u){In(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return RD(e,n,s,r)}function ht(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function In(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xD(){return Math.random().toString(36).substring(2,10)}function vE(r,e){return{usr:r.state,key:r.key,idx:e}}function np(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ha(e):e,state:n,key:e&&e.key||s||xD()}}function lu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ha(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function RD(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=b();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function b(){return(h.state||{idx:null}).idx}function T(){m="POP";let L=b(),W=L==null?null:L-g;g=L,p&&p({action:m,location:z.location,delta:W})}function A(L,W){m="PUSH";let Q=np(z.location,L,W);n&&n(Q,L),g=b()+1;let G=vE(Q,g),re=z.createHref(Q);try{h.pushState(G,"",re)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(re)}u&&p&&p({action:m,location:z.location,delta:1})}function O(L,W){m="REPLACE";let Q=np(z.location,L,W);n&&n(Q,L),g=b();let G=vE(Q,g),re=z.createHref(Q);h.replaceState(G,"",re),u&&p&&p({action:m,location:z.location,delta:0})}function Y(L){return CD(L)}let z={get action(){return m},get location(){return r(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_E,T),p=L,()=>{o.removeEventListener(_E,T),p=null}},createHref(L){return e(o,L)},createURL:Y,encodeLocation(L){let W=Y(L);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:A,replace:O,go(L){return h.go(L)}};return z}function CD(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:lu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function hw(r,e,n="/"){return ID(r,e,n,!1)}function ID(r,e,n,s){let o=typeof e=="string"?ha(e):e,u=gr(o.pathname||"/",n);if(u==null)return null;let h=fw(r);ND(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=BD(u);m=UD(h[p],g,s)}return m}function fw(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let b={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&p)return;ht(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let T=hr([s,b.relativePath]),A=n.concat(b);h.children&&h.children.length>0&&(ht(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),fw(h.children,e,A,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:LD(T,h.index),routesMeta:A})};return r.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of dw(h.path))u(h,m,!0,g)}),e}function dw(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=dw(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function ND(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:jD(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var DD=/^:[\w-]+$/,OD=3,MD=2,kD=1,VD=10,PD=-2,EE=r=>r==="*";function LD(r,e){let n=r.split("/"),s=n.length;return n.some(EE)&&(s+=PD),e&&(s+=MD),n.filter(o=>!EE(o)).reduce((o,u)=>o+(DD.test(u)?OD:u===""?kD:VD),s)}function jD(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function UD(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=Ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:hr([u,T.pathname]),pathnameBase:GD(hr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=hr([u,T.pathnameBase]))}return h}function Ph(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=zD(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:b,isOptional:T},A)=>{if(b==="*"){let Y=m[A]||"";h=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const O=m[A];return T&&!O?g[b]=void 0:g[b]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function zD(r,e=!1,n=!0){In(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function BD(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return In(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function gr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qD=r=>mw.test(r);function FD(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ha(r):r,u;if(n)if(qD(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),In(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=bE(n.substring(1),"/"):u=bE(n,e)}else u=e;return{pathname:u,search:YD(s),hash:KD(o)}}function bE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Sm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HD(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ng(r){let e=HD(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ig(r,e,n,s=!1){let o;typeof r=="string"?o=ha(r):(o={...r},ht(!o.pathname||!o.pathname.includes("?"),Sm("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),Sm("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),Sm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=FD(o,m),g=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var hr=r=>r.join("/").replace(/\/\/+/g,"/"),GD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),YD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,KD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,QD=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function $D(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function XD(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var pw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gw(r,e){let n=r;if(typeof n!="string"||!mw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(pw)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=gr(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{In(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yw=["POST","PUT","PATCH","DELETE"];new Set(yw);var WD=["GET",...yw];new Set(WD);var Ro=V.createContext(null);Ro.displayName="DataRouter";var af=V.createContext(null);af.displayName="DataRouterState";var JD=V.createContext(!1),_w=V.createContext({isTransitioning:!1});_w.displayName="ViewTransition";var ZD=V.createContext(new Map);ZD.displayName="Fetchers";var e4=V.createContext(null);e4.displayName="Await";var Nn=V.createContext(null);Nn.displayName="Navigation";var Tu=V.createContext(null);Tu.displayName="Location";var ci=V.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var rg=V.createContext(null);rg.displayName="RouteError";var vw="REACT_ROUTER_ERROR",t4="REDIRECT",n4="ROUTE_ERROR_RESPONSE";function i4(r){if(r.startsWith(`${vw}:${t4}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function r4(r){if(r.startsWith(`${vw}:${n4}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new QD(e.status,e.statusText,e.data)}catch{}}function s4(r,{relative:e}={}){ht(Co(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext(Nn),{hash:o,pathname:u,search:h}=Su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:hr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Co(){return V.useContext(Tu)!=null}function _r(){return ht(Co(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Tu).location}var Ew="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bw(r){V.useContext(Nn).static||V.useLayoutEffect(r)}function wu(){let{isDataRoute:r}=V.useContext(ci);return r?v4():a4()}function a4(){ht(Co(),"useNavigate() may be used only in the context of a <Router> component.");let r=V.useContext(Ro),{basename:e,navigator:n}=V.useContext(Nn),{matches:s}=V.useContext(ci),{pathname:o}=_r(),u=JSON.stringify(ng(s)),h=V.useRef(!1);return bw(()=>{h.current=!0}),V.useCallback((p,g={})=>{if(In(h.current,Ew),!h.current)return;if(typeof p=="number"){n.go(p);return}let b=ig(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:hr([e,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[e,n,u,o,r])}V.createContext(null);function o4(){let{matches:r}=V.useContext(ci),e=r[r.length-1];return e?e.params:{}}function Su(r,{relative:e}={}){let{matches:n}=V.useContext(ci),{pathname:s}=_r(),o=JSON.stringify(ng(n));return V.useMemo(()=>ig(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function l4(r,e){return Tw(r,e)}function Tw(r,e,n,s,o){var Q;ht(Co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=V.useContext(Nn),{matches:h}=V.useContext(ci),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",b=m?m.pathnameBase:"/",T=m&&m.route;{let G=T&&T.path||"";Sw(g,!T||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let A=_r(),O;if(e){let G=typeof e=="string"?ha(e):e;ht(b==="/"||((Q=G.pathname)==null?void 0:Q.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${G.pathname}" was given in the \`location\` prop.`),O=G}else O=A;let Y=O.pathname||"/",z=Y;if(b!=="/"){let G=b.replace(/^\//,"").split("/");z="/"+Y.replace(/^\//,"").split("/").slice(G.length).join("/")}let L=hw(r,{pathname:z});In(T||L!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),In(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=d4(L&&L.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:hr([b,u.encodeLocation?u.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?b:hr([b,u.encodeLocation?u.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),h,n,s,o);return e&&W?V.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},W):W}function u4(){let r=_4(),e=$D(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:o},n):null,h)}var c4=V.createElement(u4,null),ww=class extends V.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=r4(r.digest);n&&(r=n)}let e=r!==void 0?V.createElement(ci.Provider,{value:this.props.routeContext},V.createElement(rg.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?V.createElement(h4,{error:r},e):e}};ww.contextType=JD;var Am=new WeakMap;function h4({children:r,error:e}){let{basename:n}=V.useContext(Nn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=i4(e.digest);if(s){let o=Am.get(e);if(o)throw o;let u=gw(s.location,n);if(pw&&!Am.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Am.set(e,h),h}return V.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function f4({routeContext:r,match:e,children:n}){let s=V.useContext(Ro);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(ci.Provider,{value:r},n)}function d4(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n==null?void 0:n.errors;if(h!=null){let b=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);ht(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,p=-1;if(n)for(let b=0;b<u.length;b++){let T=u[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=b),T.route.id){let{loaderData:A,errors:O}=n,Y=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!O||O[T.route.id]===void 0);if(T.route.lazy||Y){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(b,T)=>{var A,O;s(b,{location:n.location,params:((O=(A=n.matches)==null?void 0:A[0])==null?void 0:O.params)??{},unstable_pattern:XD(n.matches),errorInfo:T})}:void 0;return u.reduceRight((b,T,A)=>{let O,Y=!1,z=null,L=null;n&&(O=h&&T.route.id?h[T.route.id]:void 0,z=T.route.errorElement||c4,m&&(p<0&&A===0?(Sw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,L=null):p===A&&(Y=!0,L=T.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,A+1)),Q=()=>{let G;return O?G=z:Y?G=L:T.route.Component?G=V.createElement(T.route.Component,null):T.route.element?G=T.route.element:G=b,V.createElement(f4,{match:T,routeContext:{outlet:b,matches:W,isDataRoute:n!=null},children:G})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?V.createElement(ww,{location:n.location,revalidation:n.revalidation,component:z,error:O,children:Q(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:g}):Q()},null)}function sg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m4(r){let e=V.useContext(Ro);return ht(e,sg(r)),e}function p4(r){let e=V.useContext(af);return ht(e,sg(r)),e}function g4(r){let e=V.useContext(ci);return ht(e,sg(r)),e}function ag(r){let e=g4(r),n=e.matches[e.matches.length-1];return ht(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function y4(){return ag("useRouteId")}function _4(){var s;let r=V.useContext(rg),e=p4("useRouteError"),n=ag("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function v4(){let{router:r}=m4("useNavigate"),e=ag("useNavigate"),n=V.useRef(!1);return bw(()=>{n.current=!0}),V.useCallback(async(o,u={})=>{In(n.current,Ew),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var TE={};function Sw(r,e,n){!e&&!TE[r]&&(TE[r]=!0,In(!1,n))}V.memo(E4);function E4({routes:r,future:e,state:n,onError:s}){return Tw(r,void 0,n,s,e)}function b4({to:r,replace:e,state:n,relative:s}){ht(Co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(Nn);In(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=V.useContext(ci),{pathname:h}=_r(),m=wu(),p=ig(r,ng(u),h,s==="path"),g=JSON.stringify(p);return V.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function ri(r){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T4({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ht(!Co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=ha(n));let{pathname:g="/",search:b="",hash:T="",state:A=null,key:O="default"}=n,Y=V.useMemo(()=>{let z=gr(g,m);return z==null?null:{location:{pathname:z,search:b,hash:T,state:A,key:O},navigationType:s}},[m,g,b,T,A,O,s]);return In(Y!=null,`<Router basename="${m}"> is not able to match the URL "${g}${b}${T}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:V.createElement(Nn.Provider,{value:p},V.createElement(Tu.Provider,{children:e,value:Y}))}function w4({children:r,location:e}){return l4(ip(r),e)}function ip(r,e=[]){let n=[];return V.Children.forEach(r,(s,o)=>{if(!V.isValidElement(s))return;let u=[...e,o];if(s.type===V.Fragment){n.push.apply(n,ip(s.props.children,u));return}ht(s.type===ri,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ip(s.props.children,u)),n.push(h)}),n}var yh="get",_h="application/x-www-form-urlencoded";function of(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function S4(r){return of(r)&&r.tagName.toLowerCase()==="button"}function A4(r){return of(r)&&r.tagName.toLowerCase()==="form"}function x4(r){return of(r)&&r.tagName.toLowerCase()==="input"}function R4(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function C4(r,e){return r.button===0&&(!e||e==="_self")&&!R4(r)}var ah=null;function I4(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var N4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(r){return r!=null&&!N4.has(r)?(In(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_h}"`),null):r}function D4(r,e){let n,s,o,u,h;if(A4(r)){let m=r.getAttribute("action");s=m?gr(m,e):null,n=r.getAttribute("method")||yh,o=xm(r.getAttribute("enctype"))||_h,u=new FormData(r)}else if(S4(r)||x4(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?gr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||yh,o=xm(r.getAttribute("formenctype"))||xm(m.getAttribute("enctype"))||_h,u=new FormData(m,r),!I4()){let{name:g,type:b,value:T}=r;if(b==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(of(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yh,s=null,o=_h,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function og(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function O4(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&gr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function M4(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k4(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function V4(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await M4(u,n);return h.links?h.links():[]}return[]}));return U4(s.flat(1).filter(k4).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function wE(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var b;return n[g].pathname!==p.pathname||((b=n[g].route.path)==null?void 0:b.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var T;let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function P4(r,e,{includeHydrateFallback:n}={}){return L4(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function L4(r){return[...new Set(r)]}function j4(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function U4(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(j4(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Aw(){let r=V.useContext(Ro);return og(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function z4(){let r=V.useContext(af);return og(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lg=V.createContext(void 0);lg.displayName="FrameworkContext";function xw(){let r=V.useContext(lg);return og(r,"You must render this element inside a <HydratedRouter> element"),r}function B4(r,e){let n=V.useContext(lg),[s,o]=V.useState(!1),[u,h]=V.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:T}=e,A=V.useRef(null);V.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let z=W=>{W.forEach(Q=>{h(Q.isIntersecting)})},L=new IntersectionObserver(z,{threshold:.5});return A.current&&L.observe(A.current),()=>{L.disconnect()}}},[r]),V.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let O=()=>{o(!0)},Y=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:kl(m,O),onBlur:kl(p,Y),onMouseEnter:kl(g,O),onMouseLeave:kl(b,Y),onTouchStart:kl(T,O)}]:[!1,A,{}]}function kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function q4({page:r,...e}){let{router:n}=Aw(),s=V.useMemo(()=>hw(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?V.createElement(H4,{page:r,matches:s,...e}):null}function F4(r){let{manifest:e,routeModules:n}=xw(),[s,o]=V.useState([]);return V.useEffect(()=>{let u=!1;return V4(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function H4({page:r,matches:e,...n}){let s=_r(),{future:o,manifest:u,routeModules:h}=xw(),{basename:m}=Aw(),{loaderData:p,matches:g}=z4(),b=V.useMemo(()=>wE(r,e,g,u,s,"data"),[r,e,g,u,s]),T=V.useMemo(()=>wE(r,e,g,u,s,"assets"),[r,e,g,u,s]),A=V.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,L=!1;if(e.forEach(Q=>{var re;let G=u.routes[Q.route.id];!G||!G.hasLoader||(!b.some(ue=>ue.route.id===Q.route.id)&&Q.route.id in p&&((re=h[Q.route.id])!=null&&re.shouldRevalidate)||G.hasClientLoader?L=!0:z.add(Q.route.id))}),z.size===0)return[];let W=O4(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return L&&z.size>0&&W.searchParams.set("_routes",e.filter(Q=>z.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[W.pathname+W.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,b,e,r,h]),O=V.useMemo(()=>P4(T,u),[T,u]),Y=F4(T);return V.createElement(V.Fragment,null,A.map(z=>V.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),O.map(z=>V.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),Y.map(({key:z,link:L})=>V.createElement("link",{key:z,nonce:n.nonce,...L})))}function G4(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Y4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y4&&(window.__reactRouterVersion="7.12.0")}catch{}function K4({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=V.useRef();o.current==null&&(o.current=AD({window:s,v5Compat:!0}));let u=o.current,[h,m]=V.useState({action:u.action,location:u.location}),p=V.useCallback(g=>{n===!1?m(g):V.startTransition(()=>m(g))},[n]);return V.useLayoutEffect(()=>u.listen(p),[u,p]),V.createElement(T4,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var Rw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cw=V.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:A,...O},Y){let{basename:z,unstable_useTransitions:L}=V.useContext(Nn),W=typeof g=="string"&&Rw.test(g),Q=gw(g,z);g=Q.to;let G=s4(g,{relative:o}),[re,ue,me]=B4(s,O),x=X4(g,{replace:h,state:m,target:p,preventScrollReset:b,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:L});function R(M){e&&e(M),M.defaultPrevented||x(M)}let C=V.createElement("a",{...O,...me,href:Q.absoluteURL||G,onClick:Q.isExternal||u?e:R,ref:G4(Y,ue),target:p,"data-discover":!W&&n==="render"?"true":void 0});return re&&!W?V.createElement(V.Fragment,null,C,V.createElement(q4,{page:G})):C});Cw.displayName="Link";var Iw=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},b){let T=Su(h,{relative:g.relative}),A=_r(),O=V.useContext(af),{navigator:Y,basename:z}=V.useContext(Nn),L=O!=null&&tO(T)&&m===!0,W=Y.encodeLocation?Y.encodeLocation(T).pathname:T.pathname,Q=A.pathname,G=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),G=G?G.toLowerCase():null,W=W.toLowerCase()),G&&z&&(G=gr(G,z)||G);const re=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let ue=Q===W||!o&&Q.startsWith(W)&&Q.charAt(re)==="/",me=G!=null&&(G===W||!o&&G.startsWith(W)&&G.charAt(W.length)==="/"),x={isActive:ue,isPending:me,isTransitioning:L},R=ue?e:void 0,C;typeof s=="function"?C=s(x):C=[s,ue?"active":null,me?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(x):u;return V.createElement(Cw,{...g,"aria-current":R,className:C,ref:b,style:M,to:h,viewTransition:m},typeof p=="function"?p(x):p)});Iw.displayName="NavLink";var Q4=V.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=yh,action:m,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:A,...O},Y)=>{let{unstable_useTransitions:z}=V.useContext(Nn),L=Z4(),W=eO(m,{relative:g}),Q=h.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&Rw.test(m),re=ue=>{if(p&&p(ue),ue.defaultPrevented)return;ue.preventDefault();let me=ue.nativeEvent.submitter,x=(me==null?void 0:me.getAttribute("formmethod"))||h,R=()=>L(me||ue.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:A});z&&n!==!1?V.startTransition(()=>R()):R()};return V.createElement("form",{ref:Y,method:Q,action:W,onSubmit:s?p:re,...O,"data-discover":!G&&r==="render"?"true":void 0})});Q4.displayName="Form";function $4(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nw(r){let e=V.useContext(Ro);return ht(e,$4(r)),e}function X4(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=wu(),b=_r(),T=Su(r,{relative:u});return V.useCallback(A=>{if(C4(A,e)){A.preventDefault();let O=n!==void 0?n:lu(b)===lu(T),Y=()=>g(r,{replace:O,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?V.startTransition(()=>Y()):Y()}},[b,g,T,n,s,e,r,o,u,h,m,p])}var W4=0,J4=()=>`__${String(++W4)}__`;function Z4(){let{router:r}=Nw("useSubmit"),{basename:e}=V.useContext(Nn),n=y4(),s=r.fetch,o=r.navigate;return V.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:b,body:T}=D4(u,e);if(h.navigate===!1){let A=h.fetcherKey||J4();await s(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:b,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function eO(r,{relative:e}={}){let{basename:n}=V.useContext(Nn),s=V.useContext(ci);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Su(r||".",{relative:e})},h=_r();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let b=m.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:hr([n,u.pathname])),lu(u)}function tO(r,{relative:e}={}){let n=V.useContext(_w);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Nw("useViewTransitionState"),o=Su(r,{relative:e});if(!n.isTransitioning)return!1;let u=gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ph(o.pathname,h)!=null||Ph(o.pathname,u)!=null}var nO=SE(),iO="firebase",rO="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(iO,rO,"app");const sO={apiKey:"AIzaSyCFaUYrkeSFOJZyvOUjkOPJy5CvLeejODk",authDomain:"edit-flow-store.firebaseapp.com",projectId:"edit-flow-store",storageBucket:"edit-flow-store.firebasestorage.app",messagingSenderId:"857982231876",appId:"1:857982231876:web:a7dd2f4609b58be9bde311",measurementId:"G-K1J4HF81F3"};let Rm,_n,Js;try{Rm=qE(sO),_n=zC(Rm),Js=vD(Rm)}catch(r){/already exists/.test(r.message)||console.error("Firebase initialization error",r.stack)}const Oi={contact:{title:"Contact Us",content:v.jsxs(v.Fragment,{children:[v.jsx("p",{children:"If you have any questions or need assistance, please feel free to reach out to us."}),v.jsxs("ul",{children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Email:"})," support@editflow.com"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Phone:"})," +91 98765 43210"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Address:"})," 123, Creative Tower, Digital Park, Mumbai, Maharashtra, 400001, India"]})]}),v.jsx("h3",{children:"Operating Hours"}),v.jsx("p",{children:"Monday to Friday: 10:00 AM - 6:00 PM (IST)"})]})},shipping:{title:"Shipping & Delivery Policy",content:v.jsxs(v.Fragment,{children:[v.jsx("p",{children:v.jsx("strong",{children:"Last updated: January 2026"})}),v.jsx("p",{children:"For International buyers, orders are shipped and delivered through registered international courier companies and/or International speed post only. For domestic buyers, orders are shipped through registered domestic courier companies and /or speed post only."}),v.jsxs("p",{children:["However, since we sell ",v.jsx("strong",{children:"digital products"}),", there is no physical shipping involved."]}),v.jsx("h3",{children:"Digital Delivery"}),v.jsx("p",{children:"Upon successful payment, you will receive an email confirmation with a download link to your purchased assets. This process is instant, but may take up to 15 minutes depending on server load and email delivery speeds."}),v.jsx("p",{children:"If you do not receive the email, please check your spam folder or contact our support team."})]})},terms:{title:"Terms and Conditions",content:v.jsxs(v.Fragment,{children:[v.jsx("p",{children:v.jsx("strong",{children:"Last updated: January 2026"})}),v.jsx("p",{children:"Welcome to Edit.Flow. These terms and conditions outline the rules and regulations for the use of our website."}),v.jsx("h3",{children:"License"}),v.jsx("p",{children:"Unless otherwise stated, Edit.Flow owns the intellectual property rights for all material on this website. All intellectual property rights are reserved. You may access this from Edit.Flow for your own personal use subjected to restrictions set in these terms and conditions."}),v.jsx("p",{children:"You must not:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Republish material from Edit.Flow"}),v.jsx("li",{children:"Sell, rent or sub-license material from Edit.Flow"}),v.jsx("li",{children:"Reproduce, duplicate or copy material from Edit.Flow"}),v.jsx("li",{children:"Redistribute content from Edit.Flow"})]}),v.jsx("h3",{children:"User Comments"}),v.jsx("p",{children:"Parts of this website offer an opportunity for users to post and exchange opinions and information. Edit.Flow does not filter, edit, publish or review Comments prior to their presence on the website. Comments do not reflect the views and opinions of Edit.Flow,its agents and/or affiliates."})]})},cancellation:{title:"Cancellation & Refund Policy",content:v.jsxs(v.Fragment,{children:[v.jsx("p",{children:v.jsx("strong",{children:"Last updated: January 2026"})}),v.jsx("p",{children:"We believe in helping our customers as far as possible, and therefore a liberal cancellation policy."}),v.jsx("h3",{children:"Cancellations"}),v.jsx("p",{children:"Under this policy:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Cancellations will be considered only if the request is made within 24 hours of placing the order. However, the cancellation request may not be entertained if the orders have been communicated to the vendors/merchants and they have initiated the process of shipping them."}),v.jsx("li",{children:"Since our products are digital assets, once the download link has been accessed or the file downloaded, cancellations are not possible."})]}),v.jsx("h3",{children:"Refunds"}),v.jsx("p",{children:"Due to the nature of digital goods, we generally do not offer refunds once the product has been downloaded. However, if you face technical issues that prevent you from using the product, please contact our support team within 7 days of purchase. Refunds will be processed on a case-by-case basis and if approved, will be credited to your original payment method within 5-7 working days."})]})},privacy:{title:"Privacy Policy",content:v.jsxs(v.Fragment,{children:[v.jsx("p",{children:v.jsx("strong",{children:"Last updated: January 2026"})}),v.jsx("p",{children:"At Edit.Flow, accessible from our website, one of our main priorities is the privacy of our visitors. This Privacy Policy document contains types of information that is collected and recorded by Edit.Flow and how we use it."}),v.jsx("h3",{children:"Information Collection"}),v.jsx("p",{children:"We collect information that you provide to us directly, such as when you create an account, make a purchase, or contact us for support. This may include your name, email address, phone number, and payment information."}),v.jsx("h3",{children:"Use of Information"}),v.jsx("p",{children:"We use the information we collect to:"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Provide, operate, and maintain our website"}),v.jsx("li",{children:"Improve, personalize, and expand our website"}),v.jsx("li",{children:"Process your transactions and send you related information"}),v.jsx("li",{children:"Send you emails regarding your order or support inquiries"})]}),v.jsx("h3",{children:"Log Files"}),v.jsx("p",{children:"Edit.Flow follows a standard procedure of using log files. These files log visitors when they visit websites. All hosting companies do this and a part of hosting services' analytics."})]})}},aO=({className:r})=>v.jsxs("div",{className:`flex items-center gap-3 ${r}`,children:[v.jsx("div",{className:"w-8 h-8 bg-[#6500aa] flex items-center justify-center",children:v.jsx("span",{className:"text-white font-black text-lg",children:"E"})}),v.jsx("div",{className:"flex flex-col leading-none",children:v.jsx("span",{className:"font-bold text-xl tracking-tight text-white uppercase font-sans",children:"EDIT.FLOW"})})]}),oO=()=>{const r=V.useRef(null);return V.useEffect(()=>{const e=r.current;if(!e)return;const n=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const s=[],o=["#6500aa","#ffffff","#ff0055","#00ffcc","#ffff00"];for(let m=0;m<200;m++)s.push({x:Math.random()*e.width,y:Math.random()*e.height-e.height,w:Math.random()*10+5,h:Math.random()*10+5,color:o[Math.floor(Math.random()*o.length)],dy:Math.random()*5+2,dx:Math.random()*4-2,rotation:Math.random()*360});const u=()=>{n.clearRect(0,0,e.width,e.height),s.forEach(m=>{n.save(),n.translate(m.x+m.w/2,m.y+m.h/2),n.rotate(m.rotation*Math.PI/180),n.fillStyle=m.color,n.fillRect(-m.w/2,-m.h/2,m.w,m.h),n.restore(),m.y+=m.dy,m.x+=m.dx,m.rotation+=5,m.y>e.height&&(m.y=-20,m.x=Math.random()*e.width)}),requestAnimationFrame(u)},h=requestAnimationFrame(u);return()=>cancelAnimationFrame(h)},[]),v.jsx("canvas",{ref:r,className:"fixed inset-0 z-[1000] pointer-events-none"})},lO=({onComplete:r})=>{const[e,n]=V.useState("initial");return V.useEffect(()=>{const s=setTimeout(()=>n("reveal"),100),o=setTimeout(()=>n("exit"),2500),u=setTimeout(r,3e3);return()=>{clearTimeout(s),clearTimeout(o),clearTimeout(u)}},[r]),e==="done"?null:v.jsx("div",{className:`fixed inset-0 z-[9999] bg-[#050505] flex items-center justify-center overflow-hidden transition-all duration-700 ease-in-out ${e==="exit"?"-translate-y-full":"translate-y-0"}`,children:v.jsx("div",{className:"relative",children:v.jsxs("h1",{className:"text-6xl md:text-9xl font-black tracking-tighter text-white flex items-center gap-4 select-none uppercase font-sans",children:[v.jsx("span",{className:`inline-block transition-all duration-1000 transform ${e==="initial"?"translate-y-full opacity-0":"translate-y-0 opacity-100"}`,children:"EDIT"}),v.jsx("span",{className:`w-4 h-4 md:w-8 md:h-8 bg-[#6500aa] inline-block transition-all duration-1000 delay-300 transform ${e==="initial"?"scale-0":"scale-100"}`}),v.jsx("span",{className:`inline-block transition-all duration-1000 delay-100 transform ${e==="initial"?"translate-y-full opacity-0":"translate-y-0 opacity-100"}`,children:"FLOW"})]})})})};class uO extends sp.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n),this.setState({errorInfo:n})}render(){return this.state.hasError?v.jsx("div",{className:"min-h-screen bg-[#111] flex items-center justify-center text-white p-8",children:v.jsxs("div",{className:"border border-red-500 p-8 max-w-lg text-center",children:[v.jsx(nA,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),v.jsx("h1",{className:"text-2xl font-bold mb-2 font-mono",children:"SYSTEM ERROR"}),v.jsx("p",{className:"text-neutral-400 mb-6 font-mono text-sm",children:"Please refresh the interface."}),v.jsxs("details",{className:"text-left text-xs bg-black p-4 rounded text-red-400 mb-4 overflow-auto max-h-40",children:[v.jsx("summary",{children:"Error Details"}),this.state.error&&this.state.error.toString(),v.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),v.jsx("button",{onClick:()=>window.location.reload(),className:"bg-white text-black px-8 py-3 font-bold hover:bg-neutral-200 transition-colors uppercase tracking-widest text-xs",children:"Reload"})]})}):this.props.children}}const cO=({onGoBack:r})=>v.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#050505] text-white p-8 text-center relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 z-0 opacity-10",style:{backgroundImage:"linear-gradient(#333 1px, transparent 1px), linear-gradient(90deg, #333 1px, transparent 1px)",backgroundSize:"40px 40px"}}),v.jsxs("div",{className:"relative z-10 flex flex-col items-center max-w-3xl border border-white/10 p-12 bg-black/50 backdrop-blur-sm",children:[v.jsx("div",{className:"w-16 h-16 bg-[#6500aa] flex items-center justify-center mb-8",children:v.jsx(aA,{className:"w-8 h-8 text-white"})}),v.jsx("h1",{className:"text-5xl md:text-7xl font-black mb-6 tracking-tighter text-white uppercase",children:"Studio Beta"}),v.jsxs("p",{className:"text-lg text-neutral-400 mb-10 max-w-lg mx-auto font-mono",children:["// SYSTEM_STATUS: INITIALIZING...",v.jsx("br",{}),"// ACCESS_LEVEL: ADMIN_ONLY"]}),v.jsx("button",{onClick:r,className:"px-10 py-4 bg-white text-black font-bold uppercase tracking-widest hover:bg-[#6500aa] hover:text-white transition-colors border border-white",children:"Return to Store"})]})]}),hO=({onGoBack:r})=>v.jsx("div",{className:"fixed inset-0 bg-[#0f0f0f] text-white flex items-center justify-center",children:v.jsxs("div",{className:"text-center border border-white/20 p-10 bg-black",children:[v.jsx("h2",{className:"text-2xl font-bold uppercase tracking-widest mb-6",children:"Video Editor"}),v.jsx("button",{onClick:r,className:"px-6 py-2 bg-white text-black uppercase font-bold hover:bg-[#6500aa] hover:text-white transition-colors",children:"Back"})]})}),fO=()=>{const[r,e]=V.useState(145);return V.useEffect(()=>{const n=setInterval(()=>{e(s=>{const o=Math.floor(Math.random()*11)-5;return Math.max(100,s+o)})},3e3);return()=>clearInterval(n)},[]),v.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 border border-white/20 bg-black/50",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),v.jsxs("span",{className:"text-[10px] font-mono text-white tracking-widest",children:["LIVE: ",r]})]})},dO=({onNavigate:r})=>v.jsxs("footer",{className:"border-t border-white/10 bg-[#050505] pt-16 pb-8 px-6 relative z-10",children:[v.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-12 mb-16",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-xl font-black uppercase tracking-tighter text-white",children:"Edit.Flow"}),v.jsx("p",{className:"text-neutral-500 text-sm font-mono leading-relaxed",children:"Premium digital assets for visionaries. Elevate your creative workflow with our curated tools."})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-white uppercase tracking-widest text-xs mb-6",children:"Policies"}),v.jsxs("ul",{className:"space-y-3 text-sm text-neutral-400 font-mono",children:[v.jsx("li",{children:v.jsx("button",{onClick:()=>r("privacy"),className:"hover:text-white transition-colors uppercase",children:"Privacy Policy"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>r("terms"),className:"hover:text-white transition-colors uppercase",children:"Terms & Conditions"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>r("cancellation"),className:"hover:text-white transition-colors uppercase",children:"Cancellation & Refund"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>r("shipping"),className:"hover:text-white transition-colors uppercase",children:"Shipping Policy"})})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-white uppercase tracking-widest text-xs mb-6",children:"Support"}),v.jsxs("ul",{className:"space-y-3 text-sm text-neutral-400 font-mono",children:[v.jsx("li",{children:v.jsx("button",{onClick:()=>r("contact"),className:"hover:text-white transition-colors uppercase",children:"Contact Us"})}),v.jsx("li",{children:v.jsx("a",{href:"mailto:support@editflow.com",className:"hover:text-white transition-colors uppercase",children:"Email Support"})})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-white uppercase tracking-widest text-xs mb-6",children:"Social"}),v.jsxs("ul",{className:"space-y-3 text-sm text-neutral-400 font-mono",children:[v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-white transition-colors uppercase",children:"Instagram"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-white transition-colors uppercase",children:"Twitter"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"hover:text-white transition-colors uppercase",children:"YouTube"})})]})]})]}),v.jsxs("div",{className:"max-w-7xl mx-auto pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-4",children:[v.jsxs("p",{className:"text-neutral-600 text-xs font-mono uppercase",children:[" ",new Date().getFullYear()," Edit.Flow. All rights reserved."]}),v.jsx("p",{className:"text-neutral-600 text-xs font-mono uppercase",children:"Secure Payments by Razorpay"})]})]}),Vl=({title:r,content:e,onGoBack:n})=>v.jsxs("div",{className:"min-h-screen pt-32 pb-20 px-6 animate-fade-in relative z-10 bg-[#050505]",children:[v.jsx("button",{onClick:n,className:"fixed top-24 left-6 z-50 px-4 py-2 bg-black/50 backdrop-blur-md border border-white/20 text-white text-xs font-bold uppercase tracking-widest hover:bg-white hover:text-black transition-all rounded-sm",children:" Back"}),v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white uppercase tracking-tighter mb-12 border-b border-white/10 pb-8",children:r}),v.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-bold prose-headings:uppercase prose-headings:tracking-tight prose-p:text-neutral-400 prose-li:text-neutral-400 prose-strong:text-white",children:e})]})]}),mO=()=>new Promise(r=>{const e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",e.onload=()=>r(!0),e.onerror=()=>r(!1),document.body.appendChild(e)}),pO="rzp_live_RyGyJvTYktAob8",gO=({isOpen:r,onClose:e,cart:n,updateQuantity:s,removeFromCart:o,accentColor:u,onPaymentSuccess:h,user:m})=>{const[p,g]=V.useState(!1),[b,T]=V.useState(""),[A,O]=V.useState("");V.useEffect(()=>{m&&m.email&&O(L=>L!==m.email?m.email:L)},[m,r]);const Y=n.reduce((L,W)=>L+W.price*W.qty,0),z=async()=>{if(n.length===0)return;if(!b||b.length<10){alert("Please enter a valid 10-digit phone number.");return}if(!A||!A.includes("@")){alert("Please enter a valid email address for delivery.");return}if(g(!0),!await mO()){alert("Razorpay SDK failed to load."),g(!1);return}const W={key:pO,amount:Y*100,currency:"INR",name:"Edit.Flow Store",description:"Digital Asset Purchase",image:"https://via.placeholder.com/150",notes:{products:n.map(G=>G.title).join(", ")},handler:async function(G){g(!1);try{await IT(Pp(_n,"orders"),{items:n,amount:Y,paymentId:G.razorpay_payment_id,customerPhone:b,customerEmail:A,createdAt:sI(),status:"paid"}),h(n)}catch(re){console.error("Order Save Error",re),alert("Payment success but failed to create order: "+re.message)}},prefill:{name:"User",email:A,contact:b},modal:{ondismiss:function(){g(!1)}},theme:{color:u}},Q=new window.Razorpay(W);Q.open(),Q.on("payment.failed",function(G){g(!1),alert(G.error.description)})};return r?v.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity",onClick:e}),v.jsxs("div",{className:"relative w-full max-w-lg bg-[#050505] border border-white/20 shadow-2xl rounded-lg overflow-hidden flex flex-col max-h-[90vh] animate-popup-scale",children:[v.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-white/20 bg-[#0a0a0a] flex-shrink-0",children:[v.jsx("h2",{className:"text-xl font-black text-white flex items-center gap-3 uppercase tracking-tighter",children:"Your Cart"}),v.jsx("button",{onClick:e,className:"p-2 text-neutral-400 hover:text-white hover:bg-white/10 transition-colors rounded-full",children:v.jsx(ap,{className:"w-5 h-5"})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar bg-[#050505]",children:n.length===0?v.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-neutral-500 space-y-4 opacity-50 font-mono",children:[v.jsx($l,{className:"w-12 h-12"}),v.jsx("p",{children:"CART_EMPTY"})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"space-y-4",children:n.map(L=>v.jsxs("div",{className:"flex gap-4 bg-[#0a0a0a] p-4 border border-white/20 hover:border-white transition-all rounded-sm",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"font-bold text-white text-sm uppercase tracking-tight",children:L.title}),v.jsx("p",{className:"text-[10px] text-neutral-500 mb-2 font-mono uppercase",children:L.category}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"flex items-center gap-0 border border-white/20 rounded-sm overflow-hidden",children:[v.jsx("button",{onClick:()=>s(L.id,-1),disabled:L.qty<=1,className:"px-2 py-1 text-white hover:bg-white/10 disabled:opacity-30 border-r border-white/20",children:v.jsx(BS,{className:"w-3 h-3"})}),v.jsx("span",{className:"text-xs font-bold text-white w-8 text-center font-mono bg-[#111]",children:L.qty}),v.jsx("button",{onClick:()=>s(L.id,1),className:"px-2 py-1 text-white hover:bg-white/10 border-l border-white/20",children:v.jsx(RE,{className:"w-3 h-3"})})]}),v.jsxs("span",{className:"font-bold text-sm text-white",children:["",(L.price*L.qty).toFixed(2)]})]})]}),v.jsx("button",{onClick:()=>o(L.id),className:"text-[#666] hover:text-[#6500aa] self-start transition-colors",style:{color:u==="#6500aa"?void 0:u},children:v.jsx(DE,{className:"w-4 h-4"})})]},L.id))}),v.jsxs("div",{className:"pt-6 border-t border-white/10 space-y-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsxs("label",{className:"text-[10px] uppercase font-bold text-neutral-500 tracking-widest flex items-center gap-2",children:[v.jsx(FS,{className:"w-3 h-3"})," Mobile ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"text",inputMode:"numeric",maxLength:10,placeholder:"Phone Number",value:b,onChange:L=>T(L.target.value.replace(/\D/g,"").slice(0,10)),className:"w-full p-3 bg-[#111] border border-white/20 text-white placeholder-neutral-600 outline-none focus:border-[var(--accent-color)] font-mono text-xs transition-colors rounded-sm"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsxs("label",{className:"text-[10px] uppercase font-bold text-neutral-500 tracking-widest flex items-center gap-2",children:[v.jsx(US,{className:"w-3 h-3"})," Email ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"email",placeholder:"Email Address",value:A,onChange:L=>O(L.target.value),className:"w-full p-3 bg-[#111] border border-white/20 text-white placeholder-neutral-600 outline-none focus:border-[var(--accent-color)] font-mono text-xs transition-colors rounded-sm"})]})]})]})}),n.length>0&&v.jsxs("div",{className:"p-6 bg-[#0a0a0a] border-t border-white/20 space-y-4 flex-shrink-0 z-10 shadow-[0_-5px_20px_rgba(0,0,0,0.5)]",children:[v.jsxs("div",{className:"flex justify-between items-center text-xl font-black text-white uppercase tracking-tight",children:[v.jsx("span",{children:"Total"}),v.jsxs("span",{children:["",Y.toFixed(2)]})]}),v.jsx("button",{onClick:z,disabled:p,className:"w-full py-4 bg-white hover:opacity-90 text-black font-bold uppercase tracking-widest flex items-center justify-center gap-3 transition-colors border border-transparent hover:border-white text-sm rounded-sm shadow-lg",style:{backgroundColor:"white",color:"black"},children:p?v.jsx(uu,{className:"w-4 h-4 animate-spin"}):v.jsxs(v.Fragment,{children:["Checkout ",v.jsx(xE,{className:"w-4 h-4"})]})})]})]})]}):null},yO=({isOpen:r,onClose:e,onLogin:n,email:s,setEmail:o,password:u,setPassword:h})=>r?nO.createPortal(v.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm",onClick:e}),v.jsxs("div",{className:"relative bg-[#050505] p-10 w-full max-w-sm border border-white/20 shadow-2xl z-10 animate-popup-scale rounded-lg",children:[v.jsx("h2",{className:"text-2xl font-black mb-6 text-white uppercase tracking-wider text-center",children:"Admin Access"}),v.jsxs("form",{onSubmit:n,className:"space-y-4",children:[v.jsx("input",{type:"email",value:s,onChange:m=>o(m.target.value),className:"w-full p-4 bg-[#111] border border-white/20 text-white placeholder-neutral-600 outline-none focus:border-[#6500aa] font-mono text-sm rounded-sm",placeholder:"EMAIL"}),v.jsx("input",{type:"password",value:u,onChange:m=>h(m.target.value),className:"w-full p-4 bg-[#111] border border-white/20 text-white placeholder-neutral-600 outline-none focus:border-[#6500aa] font-mono text-sm rounded-sm",placeholder:"PASSWORD"}),v.jsx("button",{type:"submit",className:"w-full py-4 bg-white text-black hover:bg-[#6500aa] hover:text-white uppercase font-bold tracking-widest transition-colors rounded-sm",children:"Enter"})]}),v.jsx("button",{onClick:e,className:"mt-6 text-xs text-neutral-500 w-full hover:text-white uppercase tracking-widest",children:"Cancel"})]})]}),document.body):null,_O="AIzaSyDFQScuI7EG2qbBIP8pAUN4TVwlbKyDZaE",vO=async r=>({inlineData:{data:await new Promise(n=>{const s=new FileReader;s.onloadend=()=>n(s.result.split(",")[1]),s.readAsDataURL(r)}),mimeType:r.type}}),ug=async(r,e="",n=null,s=!1)=>{var p,g,b,T,A;const u=`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${_O}`,h=[{text:r}];if(n){const O=await vO(n);h.push(O)}const m={contents:[{role:"user",parts:h}],systemInstruction:{parts:[{text:e}]}};s&&(m.generationConfig={responseMimeType:"application/json",responseSchema:{type:"OBJECT",properties:{action:{type:"STRING"},response:{type:"STRING"},color:{type:"STRING"},page:{type:"STRING"},code:{type:"STRING"},language:{type:"STRING"},image_prompt:{type:"STRING"},exposure:{type:"INTEGER"},contrast:{type:"INTEGER"},saturation:{type:"INTEGER"},hue:{type:"INTEGER"},blur:{type:"INTEGER"},temperature:{type:"INTEGER"},tint:{type:"INTEGER"}}}});try{const Y=await(await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json();if(Y.error)throw new Error(Y.error.message);const z=(A=(T=(b=(g=(p=Y.candidates)==null?void 0:p[0])==null?void 0:g.content)==null?void 0:b.parts)==null?void 0:T[0])==null?void 0:A.text;return s&&z?JSON.parse(z):z}catch(O){return console.error("Gemini AI Error:",O),s?{action:"chat",response:"Error: "+O.message}:"Error connecting to AI."}},EO=({onAction:r,activeTab:e,storeStats:n,isAdmin:s})=>{const[o,u]=V.useState(!1),[h,m]=V.useState(""),[p,g]=V.useState([{role:"ai",text:s?"ADMIN SYSTEM ONLINE. COMMAND?":"SYSTEM ONLINE. AWAITING INPUT."}]),[b,T]=V.useState(!1),[A,O]=V.useState(null),Y=V.useRef(null),z=()=>{var W;return(W=Y.current)==null?void 0:W.scrollIntoView({behavior:"smooth"})};V.useEffect(()=>z(),[p,o]);const L=async()=>{if(!h.trim()&&!A)return;const W=h,Q=A?URL.createObjectURL(A):null;g(G=>[...G,{role:"user",text:W,image:Q}]),m(""),O(null),T(!0);try{const G=n?`Revenue: ${n.totalRevenue||0}, Orders: ${n.totalOrders||0}`:"No data.",re=`AI Manager for Edit.Flow. User is ${s?"ADMIN (Pro Access)":"Visitor"}. Stats: ${G}. Context: ${e}. You can change themes (action: theme) and navigate (action: navigate).`,ue=await ug(W,re,A,!0);(ue.action==="theme"||ue.action==="navigate")&&r(ue);let me="Task complete.";ue.response&&(me=typeof ue.response=="string"?ue.response:JSON.stringify(ue.response)),g(x=>[...x,{role:"ai",text:me,code:ue.code,language:ue.language}])}catch(G){console.error(G),g(re=>[...re,{role:"ai",text:"SYSTEM ERROR."}])}finally{T(!1)}};return v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>u(!o),className:`fixed bottom-8 right-8 z-50 w-14 h-14 ${s?"bg-green-600 border-green-400":"bg-[#6500aa] border-white/20"} border text-white flex items-center justify-center shadow-lg hover:bg-white hover:text-black transition-colors`,children:o?v.jsx(ap,{className:"w-6 h-6"}):v.jsx(CS,{className:"w-6 h-6"})}),o&&v.jsxs("div",{className:"fixed bottom-24 right-8 z-50 w-80 md:w-96 bg-[#0a0a0a] border border-white/20 shadow-2xl flex flex-col h-[500px]",children:[v.jsxs("div",{className:"p-4 border-b border-white/20 flex items-center gap-3 bg-[#111]",children:[v.jsx("div",{className:`w-2 h-2 ${s?"bg-green-500":"bg-[#6500aa]"} animate-pulse`}),v.jsx("span",{className:"font-bold text-xs tracking-widest uppercase text-white font-mono",children:s?"ADMIN TERMINAL (PRO)":"AI TERMINAL"})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar bg-[#050505]",children:[p.map((W,Q)=>v.jsx("div",{className:`flex flex-col ${W.role==="user"?"items-end":"items-start"}`,children:v.jsx("div",{className:`max-w-[85%] p-3 text-xs leading-relaxed font-mono border ${W.role==="user"?"bg-white text-black border-white":"bg-[#111] text-[#ccc] border-white/20"}`,children:typeof W.text=="object"?JSON.stringify(W.text):W.text})},Q)),b&&v.jsx("div",{className:`text-xs font-mono animate-pulse ${s?"text-green-500":"text-[#6500aa]"}`,children:"PROCESSING..."}),v.jsx("div",{ref:Y})]}),v.jsx("div",{className:"p-4 border-t border-white/20 bg-[#111]",children:v.jsxs("div",{className:"flex gap-2 relative",children:[v.jsxs("label",{className:"p-2 border border-white/20 hover:bg-white/10 cursor-pointer transition-colors",children:[v.jsx(OS,{className:"w-4 h-4 text-white"}),v.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:W=>O(W.target.files[0])})]}),v.jsx("input",{type:"text",placeholder:s?"ADMIN COMMAND...":"ENTER COMMAND...",className:"w-full bg-transparent border-b border-white/20 text-xs text-white outline-none placeholder:text-white/30 font-mono py-2 focus:border-[#6500aa]",value:h,onChange:W=>m(W.target.value),onKeyDown:W=>W.key==="Enter"&&L()}),v.jsx("button",{onClick:L,className:"p-2 bg-white text-black hover:bg-[#6500aa] hover:text-white transition-colors",children:v.jsx(xE,{className:"w-4 h-4"})})]})})]})]})},bO="dwwrerahf",TO="njuvozne",Ql=async(r,e="auto",n=null)=>{const s=new FormData;if(s.append("file",r),s.append("upload_preset",TO),e==="raw"){const o=`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,u=r.name.replace(/[^a-zA-Z0-9]/g,"_");s.append("public_id",`secure_assets/${o}_${u}`)}return new Promise((o,u)=>{const h=new XMLHttpRequest;h.open("POST",`https://api.cloudinary.com/v1_1/${bO}/${e}/upload`),n&&(h.upload.onprogress=m=>{m.lengthComputable&&n(Math.round(m.loaded/m.total*100))}),h.onload=()=>{h.status===200?o(JSON.parse(h.responseText).secure_url):u(new Error("Upload failed"))},h.onerror=()=>u(new Error("Network Error")),h.send(s)})},wO=({product:r,onClose:e,onUpdateSuccess:n})=>{const[s,o]=V.useState({...r}),[u,h]=V.useState(null),[m,p]=V.useState(null),[g,b]=V.useState(!1),[T,A]=V.useState(!1),O=async z=>{z.preventDefault(),b(!0);try{let L=s.customThumbnailUrl||null,W=s.fileUrl;u&&(L=await Ql(u,"image")),m&&(W=await Ql(m,"raw"));const Q=hs(_n,"products",s.id);await CT(Q,{title:s.title,price:parseFloat(s.price),category:s.category,description:s.description,customThumbnailUrl:L,fileUrl:W}),alert("Product Updated Successfully!"),n(),e()}catch(L){console.error("Update Error:",L),alert("Failed to update product: "+L.message)}finally{b(!1)}},Y=async()=>{A(!0);const z=`Write a short, high-converting description for a digital product named "${s.title}" in the category "${s.category}". Use emojis. Keep it under 30 words.`;try{const L=await ug(z);o(W=>({...W,description:L}))}catch(L){console.error(L),alert("AI Generation Failed. Please try again.")}finally{A(!1)}};return v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:e}),v.jsxs("div",{className:"relative bg-[#050505] border border-white/20 w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col shadow-2xl animate-fade-in",children:[v.jsxs("div",{className:"flex justify-between items-start p-8 pb-4 border-b border-white/10 flex-shrink-0",children:[v.jsxs("h2",{className:"text-2xl font-black text-white uppercase tracking-tighter flex items-center gap-3",children:[v.jsx(NE,{className:"w-6 h-6 text-[#6500aa]"})," Edit Product"]}),v.jsx("button",{onClick:e,className:"p-2 text-neutral-400 hover:text-white transition-colors",children:v.jsx(ap,{className:"w-6 h-6"})})]}),v.jsx("div",{className:"overflow-y-auto custom-scrollbar flex-grow p-8 pt-4",children:v.jsxs("form",{id:"editProductForm",onSubmit:O,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-mono text-neutral-400 mb-2 uppercase",children:"Title"}),v.jsx("input",{type:"text",className:"w-full p-4 bg-[#111] border border-white/20 text-white placeholder-neutral-600 outline-none focus:border-[#6500aa] font-mono text-sm",value:s.title,onChange:z=>o({...s,title:z.target.value})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-mono text-neutral-400 mb-2 uppercase",children:"Price"}),v.jsx("input",{type:"number",className:"w-full p-4 bg-[#111] border border-white/20 text-white placeholder-neutral-600 outline-none focus:border-[#6500aa] font-mono text-sm",value:s.price,onChange:z=>o({...s,price:z.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-mono text-neutral-400 mb-2 uppercase",children:"Category"}),v.jsxs("select",{className:"w-full p-4 bg-[#111] border border-white/20 text-white outline-none focus:border-[#6500aa] font-mono text-sm",value:s.category,onChange:z=>o({...s,category:z.target.value}),children:[v.jsx("option",{children:"Templates"}),v.jsx("option",{children:"Assets"}),v.jsx("option",{children:"Bundle"}),v.jsx("option",{children:"Transitions"}),v.jsx("option",{children:"Project Files"}),v.jsx("option",{children:"Color"}),v.jsx("option",{children:"Titles"}),v.jsx("option",{children:"Overlays"})]})]})]}),v.jsxs("div",{className:"relative",children:[v.jsx("label",{className:"block text-xs font-mono text-neutral-400 mb-2 uppercase",children:"Description"}),v.jsx("textarea",{className:"w-full p-4 bg-[#111] border border-white/20 text-white placeholder-neutral-600 outline-none focus:border-[#6500aa] font-mono text-sm h-32",value:s.description,onChange:z=>o({...s,description:z.target.value})}),v.jsx("button",{type:"button",onClick:Y,disabled:T,className:"absolute bottom-4 right-4 text-[10px] font-bold uppercase tracking-widest text-[#6500aa] hover:text-white flex items-center gap-1",children:T?v.jsx(uu,{className:"w-3 h-3 animate-spin"}):v.jsxs(v.Fragment,{children:[v.jsx(IE,{className:"w-3 h-3"})," AI Write"]})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-mono text-neutral-400 mb-2 uppercase",children:"New Thumbnail (Optional)"}),v.jsx("input",{type:"file",accept:"image/*",onChange:z=>h(z.target.files[0]),className:"w-full p-3 bg-[#111] border border-white/10 text-white font-mono text-xs"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-mono text-neutral-400 mb-2 uppercase",children:"Replace Asset (Optional)"}),v.jsx("input",{type:"file",onChange:z=>p(z.target.files[0]),className:"w-full p-3 bg-[#111] border border-white/10 text-white font-mono text-xs"})]})]})}),v.jsx("div",{className:"border-t border-white/10 p-8 pt-4 flex-shrink-0 bg-[#050505]",children:v.jsx("button",{form:"editProductForm",type:"submit",disabled:g,className:"w-full py-4 bg-white text-black font-bold uppercase tracking-widest hover:bg-[#6500aa] hover:text-white transition-colors border border-transparent hover:border-white disabled:opacity-50",children:g?"Updating...":"Save Changes"})})]})]})},SO=({user:r,onClose:e,onSuccess:n})=>{const[s,o]=V.useState("login"),[u,h]=V.useState("INITIALIZING..."),[m,p]=V.useState(!1),g=V.useRef(null),b=V.useRef(null),T=V.useRef(null);V.useEffect(()=>{const Q=async()=>{if(window.faceapi)G();else{const re=document.createElement("script");re.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",re.async=!0,re.onload=()=>G(),document.body.appendChild(re)}},G=async()=>{const re="https://justadudewhohacks.github.io/face-api.js/models";try{await Promise.all([window.faceapi.nets.tinyFaceDetector.loadFromUri(re),window.faceapi.nets.faceLandmark68Net.loadFromUri(re),window.faceapi.nets.faceRecognitionNet.loadFromUri(re),window.faceapi.nets.ssdMobilenetv1.loadFromUri(re)]),p(!0)}catch(ue){console.error("Face API Load Error",ue),h("ERROR LOADING AI MODELS")}};Q()},[]),V.useEffect(()=>{m&&r&&(async()=>{if(!r)return;h("CHECKING PROFILE..."),(await Jm(hs(_n,"face_descriptors",r.uid))).exists()?(o("verify-face"),h("AWAITING_VERIFICATION")):(o("register-face"),h("FACE_ID_MISSING // REGISTER"))})()},[r,m]);const A=V.useCallback(()=>{b.current&&(b.current.getTracks().forEach(Q=>Q.stop()),b.current=null),g.current&&(g.current.srcObject=null)},[]);V.useEffect(()=>{let Q=!0;return(async()=>{if(m){if(window.isSecureContext===!1){h("ERROR: HTTPS REQUIRED FOR CAMERA");return}if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){h("ERROR: CAMERA API NOT SUPPORTED");return}try{const re={video:{width:{ideal:640},height:{ideal:480},facingMode:"user"},audio:!1},ue=await navigator.mediaDevices.getUserMedia(re);if(!Q){ue.getTracks().forEach(me=>me.stop());return}b.current=ue,g.current&&(g.current.srcObject=ue,g.current.onloadedmetadata=()=>{g.current.play().catch(me=>console.error("Play error:",me))}),h(" CAMERA_ACTIVE - READY TO SCAN")}catch(re){Q&&(console.error("Camera Error:",re),re.name==="NotAllowedError"?h(" CAMERA PERMISSION DENIED - Check browser settings"):re.name==="NotFoundError"?h(" NO CAMERA FOUND - Connect a webcam"):re.name==="NotReadableError"?h(" CAMERA IN USE - Close other apps"):h(` CAMERA ERROR: ${re.name}`))}}})(),()=>{Q=!1,A()}},[m,A]);const O=async()=>{if(!g.current||g.current.paused||g.current.ended||!window.faceapi)return null;const Q=new window.faceapi.TinyFaceDetectorOptions;return await window.faceapi.detectSingleFace(g.current,Q).withFaceLandmarks().withFaceDescriptor()},Y=Q=>{const G=async()=>{if(T.current!==null){try{const re=await O();if(re&&!await Q(re)){z();return}}catch(re){console.warn("Scan error, retrying...",re)}T.current!==null&&(T.current=setTimeout(G,100))}};T.current=setTimeout(G,100)},z=()=>{T.current&&(clearTimeout(T.current),T.current=null)};V.useEffect(()=>()=>z(),[]);const L=async()=>{!g.current||!m||!r||(h("SCANNING_BIOMETRICS..."),z(),Y(async Q=>{const G=Array.from(Q.descriptor);return await nI(hs(_n,"face_descriptors",r.uid),{descriptor:G}),alert("FACE_ID_REGISTERED"),A(),n(),!1}))},W=async()=>{!g.current||!m||!r||(h("VERIFYING_IDENTITY..."),z(),Y(async Q=>{const G=hs(_n,"face_descriptors",r.uid),re=await Jm(G);if(re.exists()){const ue=new Float32Array(re.data().descriptor);return window.faceapi.euclideanDistance(Q.descriptor,ue)<.6?(A(),h("ACCESS_GRANTED"),setTimeout(n,500),!1):(h("ACCESS_DENIED: MISMATCH"),!0)}else return h("ERROR: ID_NOT_FOUND"),o("register-face"),!1}))};return v.jsx("div",{className:"fixed inset-0 bg-black/90 z-[70] flex flex-col items-center justify-center p-4",children:v.jsxs("div",{className:"relative w-full max-w-md aspect-[3/4] bg-[#050505] border border-white/20 flex flex-col overflow-hidden rounded-lg shadow-2xl",children:[v.jsxs("div",{className:"absolute top-4 left-4 z-20 bg-black/80 px-3 py-1 border border-green-500/30 text-[10px] font-mono text-green-400 tracking-widest flex items-center gap-2",children:[v.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-ping"}),"// FACE_SECURE_PROTOCOL"]}),v.jsx("video",{ref:g,autoPlay:!0,playsInline:!0,muted:!0,style:{display:"block",width:"100%",height:"100%",objectFit:"cover",opacity:.9,backgroundColor:"#000"}}),v.jsxs("div",{className:"absolute inset-0 pointer-events-none z-10",children:[v.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(0,255,0,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(0,255,0,0.03)_1px,transparent_1px)] bg-[size:20px_20px]"}),v.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 border border-green-500/30 rounded-lg shadow-[0_0_50px_rgba(0,255,0,0.1)]",children:[v.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-2 border-l-2 border-green-500"}),v.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-2 border-r-2 border-green-500"}),v.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-2 border-l-2 border-green-500"}),v.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-2 border-r-2 border-green-500"}),v.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-green-500 shadow-[0_0_20px_#22c55e] animate-scan-y opacity-80"})]})]}),v.jsxs("div",{className:"absolute bottom-0 w-full bg-[#050505] border-t border-white/20 p-6 flex flex-col items-center gap-4 z-20",children:[v.jsxs("div",{className:"w-full",children:[v.jsx("p",{className:"text-white font-mono text-xs uppercase tracking-widest text-center",children:u}),!m&&v.jsx("p",{className:"text-yellow-400 text-[10px] mt-2 text-center",children:"Loading AI models..."}),!b.current&&m&&!u.includes("ERROR")&&v.jsx("p",{className:"text-yellow-400 text-[10px] mt-2 text-center",children:"Initializing camera..."})]}),s==="register-face"&&m&&v.jsx("button",{onClick:L,className:"w-full py-3 bg-[#6500aa] hover:bg-white hover:text-black text-white font-bold uppercase tracking-widest transition-colors text-xs border border-transparent",children:"Initialize Face ID"}),s==="verify-face"&&m&&v.jsx("button",{onClick:W,className:"w-full py-3 bg-white hover:bg-[#6500aa] hover:text-white text-black font-bold uppercase tracking-widest transition-colors text-xs border border-transparent",children:"Authenticate"}),v.jsx("button",{onClick:e,className:"mt-2 text-white/50 hover:text-white text-[10px] uppercase font-bold tracking-widest",children:"Cancel"})]})]})})},AO=({product:r,addToCart:e,isSessionActive:n,accentColor:s,setEditingProduct:o,setShowEditModal:u,handleDeleteProduct:h})=>{const m=V.useRef(null),[p,g]=V.useState(!1),b=wu();return V.useEffect(()=>{if(m.current)if(p){const T=m.current.play();T!==void 0&&T.catch(A=>{console.log("Video play failed (likely intentional):",A)})}else m.current.pause(),m.current.currentTime=0},[p]),v.jsxs("div",{className:"group flex flex-col bg-[#0a0a0a] border border-white/20 transition-all duration-300 relative hover:border-[var(--accent-color)] cursor-pointer",style:{"--accent-color":s},onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onClick:()=>b(`/product/${r.id}`),children:[n&&v.jsxs("div",{className:"absolute top-4 right-4 z-50 flex gap-2",children:[v.jsx("button",{onClick:T=>{T.stopPropagation(),o(r),u(!0)},className:"p-2 bg-blue-600 text-white rounded-sm",children:v.jsx(NE,{className:"w-4 h-4"})}),v.jsx("button",{onClick:T=>{T.stopPropagation(),h(r.id)},className:"p-2 bg-red-600 text-white rounded-sm",children:v.jsx(DE,{className:"w-4 h-4"})})]}),v.jsxs("div",{className:"relative aspect-[16/10] bg-black overflow-hidden border-b border-white/20",children:[r.videoUrl?v.jsxs(v.Fragment,{children:[v.jsx("video",{ref:m,src:r.videoUrl,preload:"none",muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover z-10 pointer-events-none"}),r.customThumbnailUrl&&v.jsx("img",{src:r.customThumbnailUrl,className:`absolute inset-0 w-full h-full object-cover z-20 transition-opacity duration-300 pointer-events-none ${p?"opacity-0":"opacity-100"}`})]}):v.jsx("div",{className:"absolute inset-0 bg-[#1a1a1a] opacity-80 pointer-events-none flex items-center justify-center text-white/10",children:v.jsx(kS,{className:"w-12 h-12"})}),!r.videoUrl&&v.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-300 z-20 pointer-events-none"}),v.jsx("div",{className:`absolute inset-0 flex items-center justify-center z-30 transition-all duration-300 bg-black/50 ${p?"opacity-100":"opacity-0"} pointer-events-none`,children:v.jsxs("button",{onClick:T=>{T.stopPropagation(),e(r)},className:"bg-white text-black px-8 py-3 font-bold uppercase tracking-widest flex items-center gap-2 hover:bg-[#6500aa] hover:text-white transition-colors pointer-events-auto border border-transparent hover:border-white",children:[v.jsx($l,{className:"w-4 h-4"})," Add"]})})]}),v.jsxs("div",{className:"p-6 bg-[#0a0a0a] group-hover:bg-[#111] transition-colors pointer-events-none flex flex-col h-full",children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsx("h3",{className:"font-bold text-white text-lg tracking-tight uppercase leading-tight relative z-10 line-clamp-1",children:r.title}),v.jsx("span",{className:"bg-white/10 text-white text-[10px] px-2 py-1 uppercase tracking-wider",children:r.category})]}),v.jsx("p",{className:"text-xs text-[#888] line-clamp-2 mt-2 relative z-10 font-mono leading-relaxed mb-4",children:r.description}),v.jsxs("div",{className:"mt-auto pt-4 border-t border-white/10 flex flex-col gap-3 pointer-events-auto",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("span",{className:"text-2xl font-black text-white",children:["",r.price.toFixed(2)]}),v.jsx("div",{className:"flex gap-1 opacity-50",children:[1,2,3,4,5].map(T=>v.jsx(Cm,{className:"w-3 h-3 text-white fill-current"},T))})]}),v.jsxs("button",{onClick:T=>{T.stopPropagation(),e(r)},className:"w-full py-3 bg-white text-black font-bold uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-[var(--accent-color)] hover:text-white transition-colors border border-transparent hover:border-white text-xs",style:{"--accent-color":s},children:[v.jsx($l,{className:"w-4 h-4"})," Add to Cart"]})]})]})]})},xO=sp.memo(AO),RO=({stats:r,accentColor:e,setAccentColor:n,onLogout:s})=>{const[o,u]=V.useState(!1),[h,m]=V.useState("upload"),[p,g]=V.useState(""),[b,T]=V.useState(!1),[A,O]=V.useState(""),[Y,z]=V.useState(!1),[L,W]=V.useState(!1),[Q,G]=V.useState({title:"",category:"Templates",price:"",image:"purple",description:"",productFile:null,previewFile:null,thumbnailFile:null}),re=(x,R)=>{const C=x.target.files[0];C&&G({...Q,[R]:C})},ue=async()=>{if(!Q.title)return alert("Please enter a title first to generate a description.");z(!0);const x=`Write a short, high-converting description for a digital product named "${Q.title}" in the category "${Q.category}". Use emojis. Keep it under 30 words.`;try{const R=await ug(x);G(C=>({...C,description:R}))}catch(R){console.error(R),alert("AI Generation Failed. Please try again.")}finally{z(!1)}},me=async x=>{var R;if(x.preventDefault(),!Q.title||!Q.price)return alert("Missing fields.");if(h==="link"&&!p)return alert("Please paste the external link.");if(h==="upload"&&!Q.productFile)return alert("Please select a file to upload.");T(!0),O("Starting...");try{let C=null,M=null,D=null;Q.previewFile&&(O("Uploading Video..."),C=await Ql(Q.previewFile,"video")),Q.thumbnailFile&&(O("Uploading Thumbnail..."),D=await Ql(Q.thumbnailFile,"image")),h==="upload"&&Q.productFile?(O("Uploading Asset..."),M=await Ql(Q.productFile,"raw")):h==="link"&&(M=p),O("Saving..."),await IT(Pp(_n,"products"),{title:Q.title,price:parseFloat(Q.price),category:Q.category,image:Q.image,description:Q.description,rating:5,videoUrl:C,fileUrl:null,customThumbnailUrl:D,fileName:h==="upload"?((R=Q.productFile)==null?void 0:R.name)||"file":"External Link",originalFileUrl:M,createdAt:new Date().toISOString()}),alert(`Product Uploaded! 

IMPORTANT: The Download Link is NOT saved to the website for security.

COPY THIS LINK NOW for your Zapier/Make automation:
${M}`),G({title:"",category:"Templates",price:"",image:"purple",description:"",productFile:null,previewFile:null,thumbnailFile:null}),g(""),W(!1)}catch(C){console.error(C),alert("Upload Error: "+C.message)}finally{T(!1),O("")}};return v.jsxs("section",{className:"bg-[#111] border border-white/20 p-8 mb-16 relative overflow-hidden animate-fade-in shadow-2xl",children:[v.jsxs("div",{className:"flex justify-between items-center mb-8 relative z-10",children:[v.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-3 uppercase tracking-wider",children:[v.jsx(rA,{className:"w-8 h-8 text-green-500"})," Admin Dashboard (PRO)"]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("button",{onClick:()=>u(!o),className:"text-sm text-white hover:text-gray-300 flex items-center gap-2 px-6 py-3 border border-white/30 hover:bg-white/10 transition-all uppercase tracking-widest font-bold",children:[v.jsx(YS,{className:"w-4 h-4"})," Settings"]}),v.jsx("button",{onClick:s,className:"text-sm text-red-400 hover:text-red-300 flex items-center gap-2 px-6 py-3 border border-red-500/30 hover:bg-red-500/10 transition-all uppercase tracking-widest font-bold",children:"Sign Out"})]})]}),o&&v.jsxs("div",{className:"mb-8 p-6 bg-[#0a0a0a] border border-white/20 animate-fade-in",children:[v.jsx("h3",{className:"text-white font-bold uppercase mb-4 text-xs tracking-widest",children:"Global Theme Accent"}),v.jsx("div",{className:"flex gap-4 flex-wrap",children:["#6500aa","#E50914","#2563eb","#22c55e","#f97316","#ec4899"].map(x=>v.jsx("button",{onClick:()=>n(x),className:"w-10 h-10 border border-white/20 transition-transform hover:scale-110",style:{backgroundColor:x,borderColor:e===x?"white":"rgba(255,255,255,0.2)"}},x))}),v.jsx("p",{className:"text-[10px] text-neutral-500 mt-4 font-mono",children:"Changes apply instantly to buttons, borders, and highlights."})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-0 border border-white/20 mb-8",children:[v.jsxs("div",{className:"bg-black p-8 border-r border-white/20",children:[v.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wider mb-2 font-mono",children:"Revenue"}),v.jsxs("h3",{className:"text-4xl font-black text-white",children:["",r.totalRevenue.toLocaleString()]})]}),v.jsxs("div",{className:"bg-black p-8 border-r border-white/20",children:[v.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wider mb-2 font-mono",children:"Orders"}),v.jsx("h3",{className:"text-4xl font-black text-white",children:r.totalOrders})]}),v.jsxs("div",{className:"bg-black p-8",children:[v.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-wider mb-2 font-mono",children:"Total Visitors"}),v.jsx("h3",{className:"text-4xl font-black text-white",children:r.totalVisitors.toLocaleString()})]})]}),v.jsxs("button",{onClick:()=>W(!L),className:"w-full py-5 bg-white text-black text-sm uppercase tracking-widest font-bold hover:opacity-90 transition-all flex items-center justify-center gap-2 border border-white",style:{backgroundColor:"white",color:"black"},children:[v.jsx(RE,{className:"w-5 h-5"})," Add Product"]}),L&&v.jsx("div",{className:"mt-8 p-8 bg-[#0a0a0a] border border-white/20 animate-fade-in",children:v.jsxs("form",{onSubmit:me,className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"md:col-span-2 flex gap-4 p-2 bg-[#111] border border-white/10 w-fit",children:[v.jsx("button",{type:"button",onClick:()=>m("upload"),className:`px-4 py-2 text-xs font-bold uppercase tracking-widest transition-colors ${h==="upload"?"bg-[#6500aa] text-white":"text-neutral-400 hover:text-white"}`,children:"Upload File"}),v.jsx("button",{type:"button",onClick:()=>m("link"),className:`px-4 py-2 text-xs font-bold uppercase tracking-widest transition-colors ${h==="link"?"bg-[#6500aa] text-white":"text-neutral-400 hover:text-white"}`,children:"External Link"})]}),v.jsxs("div",{className:"md:col-span-1",children:[v.jsx("label",{className:"block text-xs font-mono text-neutral-400 mb-2 uppercase",children:"Video Preview"}),v.jsx("input",{type:"file",accept:"video/*",onChange:x=>re(x,"previewFile"),className:"w-full p-3 bg-[#111] border border-white/10 text-white font-mono text-xs"})]}),v.jsxs("div",{className:"md:col-span-1",children:[v.jsx("label",{className:"block text-xs font-mono text-neutral-400 mb-2 uppercase",children:"Thumbnail (Optional)"}),v.jsx("input",{type:"file",accept:"image/*",onChange:x=>re(x,"thumbnailFile"),className:"w-full p-3 bg-[#111] border border-white/10 text-white font-mono text-xs"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block text-xs font-mono text-neutral-400 mb-2 uppercase",children:"Main Asset"}),h==="upload"?v.jsx("input",{type:"file",onChange:x=>re(x,"productFile"),className:"w-full p-3 bg-[#111] border border-white/10 text-white font-mono text-xs"}):v.jsx("input",{type:"url",placeholder:"Paste Google Drive / External Link...",className:"w-full p-4 bg-[#111] border border-white/20 text-white placeholder-neutral-600 outline-none focus:border-[#6500aa] font-mono text-sm",value:p,onChange:x=>g(x.target.value)})]}),v.jsx("div",{className:"md:col-span-2",children:v.jsx("input",{type:"text",required:!0,placeholder:"PRODUCT TITLE",className:"w-full p-4 bg-[#111] border border-white/20 text-white placeholder-neutral-600 outline-none focus:border-[#6500aa] font-mono text-sm",value:Q.title,onChange:x=>G({...Q,title:x.target.value})})}),v.jsx("div",{children:v.jsx("input",{type:"number",required:!0,placeholder:"PRICE (INR)",className:"w-full p-4 bg-[#111] border border-white/20 text-white placeholder-neutral-600 outline-none focus:border-[#6500aa] font-mono text-sm",value:Q.price,onChange:x=>G({...Q,price:x.target.value})})}),v.jsx("div",{children:v.jsxs("select",{className:"w-full p-4 bg-[#111] border border-white/20 text-white outline-none focus:border-[#6500aa] font-mono text-sm",value:Q.category,onChange:x=>G({...Q,category:x.target.value}),children:[v.jsx("option",{children:"Templates"}),v.jsx("option",{children:"Assets"}),v.jsx("option",{children:"Bundle"}),v.jsx("option",{children:"Transitions"}),v.jsx("option",{children:"Project Files"}),v.jsx("option",{children:"Color"}),v.jsx("option",{children:"Titles"}),v.jsx("option",{children:"Overlays"})]})}),v.jsxs("div",{className:"md:col-span-2 relative",children:[v.jsx("textarea",{className:"w-full p-4 bg-[#111] border border-white/20 text-white placeholder-neutral-600 outline-none focus:border-[#6500aa] font-mono text-sm h-32",placeholder:"DESCRIPTION...",value:Q.description,onChange:x=>G({...Q,description:x.target.value})}),v.jsx("button",{type:"button",onClick:ue,disabled:Y,className:"absolute bottom-4 right-4 text-[10px] font-bold uppercase tracking-widest text-[#6500aa] hover:text-white flex items-center gap-1",children:Y?v.jsx(uu,{className:"w-3 h-3 animate-spin"}):v.jsxs(v.Fragment,{children:[v.jsx(IE,{className:"w-3 h-3"})," AI Write"]})})]}),v.jsx("div",{className:"md:col-span-2",children:v.jsx("button",{type:"submit",disabled:b,className:"w-full py-5 bg-white text-black font-bold uppercase tracking-widest hover:bg-[#6500aa] hover:text-white transition-colors border border-transparent hover:border-white",children:b?A||"Uploading...":"Save Product"})})]})})]})},CO=({isSessionActive:r,accentColor:e,setAccentColor:n,handleLogout:s,stats:o,filterCategories:u,activeCategory:h,setActiveCategory:m,products:p,loading:g,addToCart:b,setEditingProduct:T,setShowEditModal:A,handleDeleteProduct:O})=>{const Y=V.useMemo(()=>p.filter(z=>h==="All"||z.category===h),[p,h]);return v.jsxs(v.Fragment,{children:[!r&&v.jsxs("section",{className:"relative pt-32 pb-10 text-center overflow-hidden z-10 border-b border-white/20",children:[v.jsxs("div",{className:"absolute inset-0 z-0",children:[v.jsx("img",{src:"https://images.unsplash.com/photo-1579546929518-9e396f3cc809?auto=format&fit=crop&q=80&w=2070",className:"w-full h-full object-cover opacity-10 filter blur-sm grayscale",alt:"Background Texture"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#050505] via-transparent to-[#050505]"})]}),v.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto px-6",children:[v.jsxs("h1",{className:"text-6xl md:text-9xl font-black mb-4 tracking-tighter uppercase leading-none",children:["DIGITAL ",v.jsx("br",{}),v.jsx("span",{className:"text-[#6500aa]",children:"MASTERY"})]}),v.jsx("p",{className:"text-lg md:text-xl text-neutral-400 max-w-2xl mx-auto leading-relaxed font-mono",children:"PREMIUM ASSETS // CURATED FOR VISIONARIES"})]})]}),v.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-16 relative z-10 pb-32",children:[r&&v.jsx(RO,{stats:o,accentColor:e,setAccentColor:n,onLogout:s}),v.jsx("div",{className:"flex gap-4 mb-8 overflow-x-auto pb-4 custom-scrollbar",children:u.map(z=>v.jsx("button",{onClick:()=>m(z),className:`px-6 py-2 text-sm font-bold uppercase tracking-widest border transition-all ${h===z?"bg-[var(--accent-color)] border-[var(--accent-color)] text-white":"border-white/20 text-neutral-400 hover:border-white hover:text-white"}`,style:h===z?{"--accent-color":e}:{},children:z},z))}),g?v.jsx("div",{className:"flex justify-center h-64 items-center",children:v.jsx(uu,{className:"w-12 h-12 animate-spin",style:{color:e}})}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:Y.map(z=>v.jsx(xO,{product:z,addToCart:b,isSessionActive:r,accentColor:e,setEditingProduct:T,setShowEditModal:A,handleDeleteProduct:O},z.id))})]})]})},IO=()=>v.jsxs("div",{className:"min-h-screen pt-32 px-6 max-w-7xl mx-auto text-center flex flex-col items-center justify-center",children:[v.jsx("h1",{className:"text-4xl font-black text-white uppercase mb-4",children:"Payment Successful!"}),v.jsxs("div",{className:"p-8 bg-[#111] border border-white/20 max-w-lg w-full",children:[v.jsxs("p",{className:"text-neutral-300 font-mono mb-6 text-sm leading-relaxed",children:["Thank you for your purchase. ",v.jsx("br",{}),v.jsx("br",{}),v.jsx("span",{className:"text-[#6500aa] font-bold",children:"CHECK YOUR EMAIL"})," for the secure download links. They have been sent to you automatically."]}),v.jsx("div",{className:"flex justify-center",children:v.jsx(Iw,{to:"/",className:"px-8 py-3 bg-white text-black font-bold uppercase hover:bg-[#6500aa] hover:text-white transition-colors",children:"Back to Store"})})]})]}),NO=({addToCart:r,accentColor:e})=>{const{id:n}=o4(),s=wu(),[o,u]=V.useState(null),[h,m]=V.useState(!0),p=V.useRef(null);return V.useEffect(()=>{(async()=>{if(_n)try{const b=hs(_n,"products",n),T=await Jm(b);T.exists()?u({id:T.id,...T.data()}):(alert("Product not found"),s("/"))}catch(b){console.error("Error fetching product:",b)}finally{m(!1)}})()},[n,s]),h?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#050505]",children:v.jsx(uu,{className:"w-8 h-8 animate-spin text-white"})}):o?v.jsx("div",{className:"min-h-screen bg-[#050505] pt-24 pb-20 px-6 relative z-10 animate-fade-in",children:v.jsxs("div",{className:"max-w-7xl mx-auto",children:[v.jsxs("button",{onClick:()=>s(-1),className:"mb-8 flex items-center gap-2 text-neutral-400 hover:text-white transition-colors text-sm uppercase tracking-widest font-bold",children:[v.jsx(AS,{className:"w-4 h-4"})," Back"]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"relative aspect-video bg-black border border-white/10 overflow-hidden shadow-2xl",children:o.videoUrl?v.jsx("video",{ref:p,src:o.videoUrl,controls:!0,className:"w-full h-full object-contain",poster:o.customThumbnailUrl||null}):v.jsx("div",{className:"w-full h-full flex items-center justify-center text-neutral-600",children:"No Preview Available"})}),v.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[v.jsxs("div",{className:"bg-[#111] p-4 border border-white/10 flex flex-col items-center justify-center text-center gap-2",children:[v.jsx(CE,{className:"w-6 h-6 text-green-500"}),v.jsx("span",{className:"text-[10px] text-neutral-400 uppercase tracking-wider",children:"Secure Payment"})]}),v.jsxs("div",{className:"bg-[#111] p-4 border border-white/10 flex flex-col items-center justify-center text-center gap-2",children:[v.jsx(NS,{className:"w-6 h-6 text-blue-500"}),v.jsx("span",{className:"text-[10px] text-neutral-400 uppercase tracking-wider",children:"Instant Download"})]}),v.jsxs("div",{className:"bg-[#111] p-4 border border-white/10 flex flex-col items-center justify-center text-center gap-2",children:[v.jsx(Cm,{className:"w-6 h-6 text-yellow-500"}),v.jsx("span",{className:"text-[10px] text-neutral-400 uppercase tracking-wider",children:"Top Rated"})]})]})]}),v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("div",{className:"mb-2 flex items-center gap-4",children:[v.jsx("span",{className:"bg-[#6500aa] text-white text-xs px-3 py-1 uppercase tracking-wider font-bold",style:{backgroundColor:e},children:o.category}),v.jsx("div",{className:"flex gap-1 text-yellow-500",children:[1,2,3,4,5].map(g=>v.jsx(Cm,{className:"w-4 h-4 fill-current"},g))})]}),v.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white uppercase tracking-tighter leading-none mb-6",children:o.title}),v.jsxs("div",{className:"text-3xl font-bold text-white mb-8 border-b border-white/10 pb-8 flex items-center justify-between",children:[v.jsxs("span",{children:["",o.price.toFixed(2)]}),v.jsx("button",{className:"p-3 border border-white/20 rounded-full hover:bg-white/10 text-white transition-colors",title:"Share",children:v.jsx(QS,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"prose prose-invert max-w-none mb-12",children:[v.jsx("h3",{className:"text-white font-bold uppercase tracking-widest text-sm mb-4",children:"Description"}),v.jsx("p",{className:"text-neutral-400 font-mono leading-relaxed whitespace-pre-line",children:o.description||"No description provided."})]}),v.jsxs("div",{className:"mt-auto",children:[v.jsxs("button",{onClick:()=>r(o),className:"w-full py-6 bg-white text-black text-lg font-black uppercase tracking-widest hover:bg-[#6500aa] hover:text-white transition-all flex items-center justify-center gap-4 border border-transparent hover:border-white shadow-[0_0_30px_rgba(255,255,255,0.1)] hover:shadow-[0_0_50px_rgba(101,0,170,0.5)]",style:{"--hover-color":e},children:[v.jsx($l,{className:"w-6 h-6"})," Add to Cart"]}),v.jsx("p",{className:"text-center text-neutral-500 text-xs mt-4 font-mono uppercase",children:"License: Standard Commercial Use"})]})]})]})]})}):null},DO=()=>{const[r,e]=V.useState([]),[n,s]=V.useState(!0),[o,u]=V.useState([]),[h,m]=V.useState(!1),[p,g]=V.useState("#6500aa"),[b,T]=V.useState(null),[A,O]=V.useState(!1),[Y,z]=V.useState(!1),[L,W]=V.useState(""),[Q,G]=V.useState(""),[re,ue]=V.useState(!1),[me,x]=V.useState(null),[R,C]=V.useState(!1),[M]=V.useState({totalRevenue:125400,totalOrders:432,recentSales:[],totalVisitors:15402}),[D,U]=V.useState(()=>sessionStorage.getItem("introShown")==="true"),[I,Me]=V.useState(!1),st=["All","Templates","Assets","Bundle"],[X,ae]=V.useState("All"),oe=wu(),Ie=_r(),Fe=sp.useRef(null);V.useEffect(()=>{const xe=new SD;Fe.current=xe;function ze(Zt){xe.raf(Zt),requestAnimationFrame(ze)}return requestAnimationFrame(ze),()=>{xe.destroy(),Fe.current=null}},[]),V.useEffect(()=>{if(!_n)return;(async()=>{try{await CT(hs(_n,"site_stats","general"),{visitors:aI(1)})}catch(ze){console.error("Visitor increment failed",ze)}})()},[]);const P=V.useCallback(async()=>{s(!0);try{const xe=await tI(WC(Pp(_n,"products"),JC("createdAt","desc")));e(xe.docs.map(ze=>({id:ze.id,...ze.data()})))}catch(xe){console.error(xe)}finally{s(!1)}},[]);V.useEffect(()=>{_n&&P()},[P,b]),V.useEffect(()=>{Js&&oN(Js,xe=>{T(xe),xe||O(!1)})},[]);const te=async xe=>{if(xe.preventDefault(),!Js)return alert("Auth not initialized");try{await rN(Js,L,Q),z(!1),W(""),G(""),ue(!0),sessionStorage.setItem("introShown","true")}catch(ze){console.error("Login Error:",ze),alert("Invalid Credentials")}},le=async()=>{Js&&await lN(Js),T(null),O(!1)},he=()=>{ue(!1),O(!0)},ve=V.useCallback(xe=>{u(ze=>ze.find(Vt=>Vt.id===xe.id)?ze.map(Vt=>Vt.id===xe.id?{...Vt,qty:Vt.qty+1}:Vt):[...ze,{...xe,qty:1}]),m(!0)},[]),Ae=V.useCallback((xe,ze)=>u(Zt=>Zt.map(Vt=>Vt.id===xe?{...Vt,qty:Math.max(1,Vt.qty+ze)}:Vt)),[]),ke=V.useCallback(xe=>u(ze=>ze.filter(Zt=>Zt.id!==xe)),[]),gt=V.useCallback(async xe=>{if(window.confirm("Delete this product?"))try{await iI(hs(_n,"products",xe)),e(ze=>ze.filter(Zt=>Zt.id!==xe))}catch(ze){console.error(ze),alert("Delete Failed.")}},[]),it=V.useCallback(()=>{u([]),m(!1),Me(!0),setTimeout(()=>Me(!1),5e3),oe("/downloads"),alert("Payment Successful! Check your email for the download link.")},[oe]),Bi=xe=>{if(xe.action==="theme"){const Zt={red:"#ef4444",blue:"#2563eb",green:"#22c55e",purple:"#a855f7",orange:"#f97316",pink:"#ec4899",cyan:"#06b6d4",lokal:"#6500aa"}[xe.color.toLowerCase()]||xe.color;g(Zt)}else xe.action==="navigate"&&(xe.page.toLowerCase().includes("studio")&&oe("/studio"),xe.page.toLowerCase().includes("store")&&oe("/"))},vr=xe=>{switch(xe){case"store":oe("/");break;case"studio":oe("/studio");break;case"privacy":oe("/privacypolicy");break;case"terms":oe("/terms");break;case"cancellation":oe("/cancellations");break;case"shipping":oe("/shipping-policy");break;case"contact":oe("/contact");break;default:oe("/")}},Er=Ie.pathname==="/studio"?"studio":"store";return v.jsxs("div",{className:"min-h-screen bg-[#050505] text-white font-sans selection:bg-[var(--accent-color)] selection:text-white relative overflow-x-hidden",style:{"--accent-color":p},children:[I&&v.jsx(oO,{}),D?v.jsxs("div",{className:"animate-fade-in flex flex-col min-h-screen",children:[v.jsx("nav",{className:"sticky top-0 z-40 w-full bg-[#050505]/90 backdrop-blur-md border-b border-white/20",children:v.jsx("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:v.jsxs("div",{className:"flex items-center justify-between h-20",children:[v.jsx("div",{className:"cursor-pointer",onClick:()=>oe("/"),children:v.jsx(aO,{})}),v.jsxs("div",{className:"hidden md:flex items-center gap-0 border border-white/20 bg-[#111]",children:[v.jsx("button",{onClick:()=>oe("/"),className:`px-8 py-3 text-xs font-bold uppercase tracking-widest transition-all ${Ie.pathname==="/"?"bg-white text-black":"text-[#888] hover:text-white"}`,children:"Store"}),v.jsx("button",{onClick:()=>oe("/studio"),className:`px-8 py-3 text-xs font-bold uppercase tracking-widest transition-all border-l border-white/20 ${Ie.pathname==="/studio"?"bg-[#6500aa] text-white":"text-[#888] hover:text-white"}`,children:"Studio"})]}),v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx(fO,{}),!A&&v.jsx("button",{onClick:()=>z(!0),className:"text-neutral-400 hover:text-white transition-colors",children:v.jsx(LS,{className:"w-5 h-5"})}),A&&v.jsxs("span",{className:"hidden md:inline-flex items-center gap-2 text-green-400 text-[10px] font-bold uppercase tracking-wider border border-green-500/30 px-3 py-1 bg-green-500/10",children:[v.jsx(CE,{className:"w-3 h-3"})," PRO ADMIN"]}),v.jsxs("button",{onClick:()=>m(!0),className:"relative group p-2 hover:bg-white/10 transition-colors",children:[v.jsx($l,{className:"w-6 h-6 text-white"}),o.length>0&&v.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 text-[10px] font-bold flex items-center justify-center bg-[#6500aa] text-white border border-black",style:{backgroundColor:p},children:o.reduce((xe,ze)=>xe+ze.qty,0)})]})]})]})})}),v.jsx("div",{className:"flex-grow",children:v.jsxs(w4,{children:[v.jsx(ri,{path:"/",element:v.jsx(CO,{isSessionActive:A,accentColor:p,setAccentColor:g,handleLogout:le,stats:M,filterCategories:st,activeCategory:X,setActiveCategory:ae,products:r,loading:n,addToCart:ve,setEditingProduct:x,setShowEditModal:C,handleDeleteProduct:gt})}),v.jsx(ri,{path:"/studio",element:A?v.jsx(hO,{onGoBack:()=>oe("/")}):v.jsx(cO,{onGoBack:()=>oe("/")})}),v.jsx(ri,{path:"/product/:id",element:v.jsx(NO,{addToCart:ve,accentColor:p})}),v.jsx(ri,{path:"/downloads",element:v.jsx(IO,{})}),v.jsx(ri,{path:"/privacypolicy",element:v.jsx(Vl,{title:Oi.privacy.title,content:Oi.privacy.content,onGoBack:()=>oe("/")})}),v.jsx(ri,{path:"/terms",element:v.jsx(Vl,{title:Oi.terms.title,content:Oi.terms.content,onGoBack:()=>oe("/")})}),v.jsx(ri,{path:"/shipping-policy",element:v.jsx(Vl,{title:Oi.shipping.title,content:Oi.shipping.content,onGoBack:()=>oe("/")})}),v.jsx(ri,{path:"/cancellations",element:v.jsx(Vl,{title:Oi.cancellation.title,content:Oi.cancellation.content,onGoBack:()=>oe("/")})}),v.jsx(ri,{path:"/contact",element:v.jsx(Vl,{title:Oi.contact.title,content:Oi.contact.content,onGoBack:()=>oe("/")})}),v.jsx(ri,{path:"*",element:v.jsx(b4,{to:"/",replace:!0})})]})}),v.jsx(dO,{onNavigate:vr}),A&&v.jsx(EO,{onAction:Bi,activeTab:Er,storeStats:M,isAdmin:!0}),v.jsx(gO,{isOpen:h,onClose:()=>m(!1),cart:o,updateQuantity:Ae,removeFromCart:ke,accentColor:p,onPaymentSuccess:it,user:b}),v.jsx(yO,{isOpen:Y&&!A,onClose:()=>z(!1),onLogin:te,email:L,setEmail:W,password:Q,setPassword:G}),R&&me&&v.jsx(wO,{product:me,onClose:()=>C(!1),onUpdateSuccess:()=>{P(),x(null)}}),re&&v.jsx(SO,{user:b,onClose:()=>ue(!1),onSuccess:he,onFaceStatusUpdate:()=>{}})]}):v.jsx(lO,{onComplete:()=>{U(!0),sessionStorage.setItem("introShown","true")}})]})},OO=()=>v.jsx(uO,{children:v.jsx(K4,{children:v.jsx(DO,{})})});_S.createRoot(document.getElementById("root")).render(v.jsx(V.StrictMode,{children:v.jsx(OO,{})}));
